<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://xsc062.netlify.app</id>
    <title> â€¢ Posts by &#34;æ€ç»´&#34; tag</title>
    <link href="https://xsc062.netlify.app" />
    <updated>2025-07-17T13:09:13.000Z</updated>
    <category term="å¹¶æŸ¥é›†" />
    <category term="æ–œç‡ä¼˜åŒ–" />
    <category term="æ‚¬çº¿æ³•" />
    <category term="å“ˆå¸Œ" />
    <category term="å­—å…¸æ ‘" />
    <category term="DP" />
    <category term="å•è°ƒé˜Ÿåˆ—" />
    <category term="åˆ†æ²»" />
    <category term="äºŒåˆ†å›¾" />
    <category term="CRT / exCRT" />
    <category term="æ’åˆ—ç»„åˆ" />
    <category term="ç½‘ç»œæµ" />
    <category term="è´¹ç”¨æµ" />
    <category term="äºŒåˆ†" />
    <category term="ä¸Šä¸‹ç•Œç½‘ç»œæµ" />
    <category term="å®¹æ–¥åŸç†" />
    <category term="çº¿æ®µæ ‘" />
    <category term="æ ‘çŠ¶æ•°ç»„" />
    <category term="åŒºé—´ DP" />
    <category term="æ„é€ " />
    <category term="Tarjan" />
    <category term="æ•°æ®ç»“æ„" />
    <category term="ä¸‹é¥­" />
    <category term="LCA" />
    <category term="å€å¢" />
    <category term="é¸½å·¢åŸç†" />
    <category term="æ¦‚ç‡æœŸæœ›" />
    <category term="è°ƒå’Œçº§æ•°" />
    <category term="å·®åˆ†" />
    <category term="æ€ç»´" />
    <category term="æ ‘å½¢ DP" />
    <category term="æœ€å°ç”Ÿæˆæ ‘" />
    <category term="SAM" />
    <category term="çŠ¶å‹" />
    <category term="åˆ†å—" />
    <category term="å¯æŒä¹…åŒ–" />
    <category term="ç¬›å¡å°”æ ‘" />
    <category term="é«˜ç»´å‰ç¼€å’Œ" />
    <category term="é—²è¯" />
    <category term="æ¬§æ‹‰å›è·¯" />
    <category term="æ ‘é“¾å‰–åˆ†" />
    <category term="é•¿é“¾å‰–åˆ†" />
    <category term="KMP" />
    <category term="border" />
    <category term="å­—ç¬¦ä¸²" />
    <category term="AC è‡ªåŠ¨æœº" />
    <category term="SA" />
    <category term="æ•°å­¦" />
    <category term="æ ‘ä¸Šå·®åˆ†" />
    <category term="FWT" />
    <category term="å †" />
    <category term="æ ‘çš„é‡å¿ƒ" />
    <category term="äºŒé¡¹å¼å®šç†" />
    <category term="äºŒé¡¹å¼åæ¼”" />
    <category term="è´ªå¿ƒ" />
    <category term="å‡æ‘Š" />
    <category term="è®¡æ•°" />
    <category term="ä¼˜åŒ–å»ºå›¾" />
    <category term="åæ‚”è´ªå¿ƒ" />
    <category term="è°ƒæ•´æ³•" />
    <category term="èƒŒåŒ…" />
    <category term="åšå¼ˆè®º" />
    <category term="DP ä¼˜åŒ–" />
    <category term="è™šæ ‘" />
    <category term="ç‚¹åˆ†æ²»" />
    <category term="WQS äºŒåˆ†" />
    <category term="é—µå¯å¤«æ–¯åŸºå’Œ" />
    <category term="slope trick" />
    <category term="å››è¾¹å½¢ä¸ç­‰å¼" />
    <category term="æš´åŠ›" />
    <category term="çŠ¶å‹ DP" />
    <category term="ç»„åˆæ•°å­¦" />
    <category term="æ”¯é…å¯¹" />
    <category term="DDP" />
    <category term="å¹³è¡¡æ ‘" />
    <category term="å®¹æ–¥" />
    <category term="çŒ«æ ‘" />
    <category term="Kruskal é‡æ„æ ‘" />
    <category term="æè¶…çº¿æ®µæ ‘" />
    <entry>
        <id>https://xsc062.netlify.app/20250717/</id>
        <title>ç»ƒä¹  æ ‘çš„å„ç§æ€§è´¨ II</title>
        <link rel="alternate" href="https://xsc062.netlify.app/20250717/"/>
        <content type="html">&lt;p&gt;å¥½åƒç¡®å®æ¯”æ–œä¼˜åšç€èˆ’æœã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;a---perfect-matching-on-a-tree&#34;&gt;A - Perfect Matching on a Tree&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/abc362/tasks/abc362_f&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/abc362/tasks/abc362_f&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è‚¯å®šç›´æ¥çŒœä»¥é‡å¿ƒä¸ºæ ¹ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºå’‹æ±‚ç­”æ¡ˆï¼Œï¼ˆæ˜¾ç„¶å€¼æ˜¯æ‰€æœ‰ç‚¹çš„æ·±åº¦ä¹‹å’Œï¼‰ï¼Œè¿™ä¸ªæˆ‘å»å¹´åœ¨åœºä¸Šè¢«å¡ä½äº†ï¼Œè¿˜æ˜¯å¤ªèœäº†ã€‚ç°åœ¨çœ‹æ¥ä¸æ˜¯å¾ˆç‰›çš„ã€‚&lt;/p&gt;
&lt;p&gt;éšä¾¿ä¹±èƒ¡ä¸€ä¸‹ï¼Œå‘ç°å°±æ˜¯æŠŠè‹¥å¹²æ¡çº¿æ®µé™ˆåˆ—åˆ°ä¸¤ä¸ªä¸Šä¸‹å¯¹é½ã€é•¿åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(n\div 2\)&lt;/span&gt; çš„ç›’å­é‡Œã€‚å®¹æ˜“æƒ³åˆ°å“ªè¾¹æ›´ç©ºæ”¾å“ªè¾¹çš„è´ªå¿ƒç­–ç•¥ï¼Œå½“æœ€åè¿˜å‰©ä¸€æ¡çº¿æ®µçš„æ—¶å€™ï¼Œä¸¤ä¸ªç›’å­éƒ½ä¼šå‰©ä¸‹ä¸€æˆªã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç›´æ¥å¡è¿›å»è‚¯å®šæ˜¯éæ³•çš„ï¼Œè¿™ä¸ªæ—¶å€™æƒ³åˆ°æŠŠä¸‹é¢çš„è¿™ä¸€èŠ‚æ”¾åˆ°ä¸‹é¢ç›’å­çš„å¼€å¤´ï¼Œå…¶ä»–çš„ä¾æ¬¡åç§»å³å¯ã€‚ç”±äºé‡å¿ƒçš„æ¯ä¸ªå„¿å­å¤§å°ä¸è¶…è¿‡ç›’å­é•¿åº¦ï¼Œæ‰€ä»¥ç§»äº†ä¹‹åè‚¯å®šä¸é‡åˆã€‚ä¸”å®¹æ˜“å‘ç°åªä¼šæ¢è¡Œä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    for (int i = 1, x, y; i &amp;lt; n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        g[x].push_back(y), g[y].push_back(x);
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; siz(n + 1);
    int rt = 0;
    std::function&amp;lt;void(int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa) &amp;#123;
        siz[x] = 1;
        bool flag = 1;
        for (auto i : g[x])
            if (i != fa) &amp;#123;
                DFS(i, x);
                siz[x] += siz[i];
                if (siz[i] &amp;gt; n / 2)
                    flag = 0;
            &amp;#125;
        if (flag &amp;amp;&amp;amp; n - siz[x] &amp;lt;= n / 2)
            rt = x;
        return;
    &amp;#125;;
    DFS(1, -1);
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; t(n + 1);
    for (auto i : g[rt]) &amp;#123;
        DFS = [&amp;amp;](int x, int fa) &amp;#123;
            t[i].push_back(x);
            for (auto i : g[x])
                if (i != fa)
                    DFS(i, x);
            return;
        &amp;#125;;
        DFS(i, rt);
    &amp;#125;
    std::deque&amp;lt;int&amp;gt; p1, p2;
    int to = n / 2;
    for (auto i : g[rt]) &amp;#123;
        auto &amp;amp;q1 = (p1.size() &amp;gt; p2.size() ? p2 : p1), &amp;amp;q2 = (p1.size() &amp;gt; p2.size() ? p1 : p2);
        for (; !t[i].empty() &amp;amp;&amp;amp; (int)q1.size() &amp;lt; to; q1.push_back(t[i].back()), t[i].pop_back());
        for (; !t[i].empty() &amp;amp;&amp;amp; (int)q2.size() &amp;lt; to; q2.push_front(t[i].back()), t[i].pop_back());
    &amp;#125;
    if (n % 2 == 0)
        (p1.size() &amp;lt; p2.size() ? p1 : p2).push_back(rt);
    for (; to--; ) &amp;#123;
        std::cout &amp;lt;&amp;lt; p1.back() &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; p2.back() &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        p1.pop_back(), p2.pop_back();
    &amp;#125;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;b---miracle-tree&#34;&gt;B - Miracle Tree&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/arc117/tasks/arc117_d&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/arc117/tasks/arc117_d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®¹æ˜“å‘ç°ä»»å– &lt;span class=&#34;math inline&#34;&gt;\(a,b,c\)&lt;/span&gt; ä¸‰ç‚¹ï¼Œç”±äºå®ƒä»¬ä¹‹é—´åªæœ‰ä¸€æ¡ç®€å•è·¯å¾„ï¼Œå¯ä»¥è§†ä¸ºä¸€æ¡çº¿æ®µï¼Œå³é€€åŒ–çš„ä¸‰è§’å½¢ã€‚é‚£ä¹ˆç”±ä¸‰è§’å½¢ä¸‰è¾¹å…³ç³»ï¼Œä»»å–ä¸¤è¾¹ä¹‹å’Œéƒ½å¤§äºç­‰äºç¬¬ä¸‰è¾¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å¦¨ä»¤ &lt;span class=&#34;math inline&#34;&gt;\(E(a)&amp;gt;E(b)&amp;gt;E(c)\)&lt;/span&gt;ï¼Œä»¥ &lt;span class=&#34;math inline&#34;&gt;\(d(b,a)+d(b,c)\ge d(a,c)\)&lt;/span&gt; ä¸¾ä¾‹ï¼Œæœ‰ &lt;span class=&#34;math inline&#34;&gt;\(E(a)-E(b)+E(b)-E(c)\ge d(a,c)\)&lt;/span&gt; æˆç«‹ï¼›å³ï¼Œè‹¥ &lt;span class=&#34;math inline&#34;&gt;\((b,a)\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\((b,c)\)&lt;/span&gt; åˆ†åˆ«å·²ç»æ‰¾åˆ°å¯è¡Œè§£ï¼Œåˆ™ &lt;span class=&#34;math inline&#34;&gt;\((a,c)\)&lt;/span&gt; åˆæ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä»è€Œæ¨æ–­å‡ºï¼ŒæŒ‰ç‚¹æƒå°†æ‰€æœ‰ç‚¹ä»å°åˆ°å¤§æ’åºåï¼Œåªéœ€è®©ä»»æ„ç›¸é‚»ä¸¤ç‚¹åˆæ³•ï¼Œåˆ™å…¨æ ‘åˆæ³•ã€‚æ˜“å‘ç°ç­”æ¡ˆæ˜¯æ‰€æœ‰ç›¸é‚»ä¸¤ç‚¹ &lt;span class=&#34;math inline&#34;&gt;\(dis\)&lt;/span&gt; ä¹‹å’Œï¼›ä¹Ÿå³ï¼Œä»ä»»æ„ä¸€ç‚¹å‡ºå‘ï¼Œç»è¿‡å…¨æ ‘æ‰€æœ‰ç‚¹çš„è·¯å¾„å’Œã€‚è¿™ç§é—®é¢˜æˆ‘ä»¬å¾ˆç†Ÿæ‚‰ï¼Œç”±æ¬§æ‹‰åºå¯çŸ¥æ˜¯ä» &lt;span class=&#34;math inline&#34;&gt;\(2(n-1)\)&lt;/span&gt; ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; ä¸­æŠ èµ°ä¸€æ®µè·¯å¾„é•¿ï¼ˆç»ˆç‚¹åˆ°èµ·ç‚¹ï¼‰ã€‚æƒ³è¦æœ€å°åŒ–ç­”æ¡ˆå°±è¦æœ€å¤§åŒ–è¿™æ®µè·¯å¾„é•¿ï¼Œå–ç›´å¾„å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åçš„ç­”æ¡ˆåºåˆ—æŒ‰ç…§æ¬§æ‹‰åºç›´æ¥æ±‚å³å¯ï¼ˆæ³¨æ„ç›´å¾„çš„ç«¯ç‚¹è¦åœ¨åºåˆ—ä¸¤ç«¯ï¼‰ï¼Œå®ç°ä¸Šåº”è¯¥å¯ä»¥æœ‰ä¸€äº› &lt;span class=&#34;math inline&#34;&gt;\(O(n)\)&lt;/span&gt; å°å·§æ€ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    for (int i = 1, x, y; i &amp;lt; n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        g[x].push_back(y), g[y].push_back(x);
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; dep(n + 1);
    std::function&amp;lt;void(int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa) &amp;#123;
        for (auto i : g[x])
            if (i != fa) &amp;#123;
                dep[i] = dep[x] + 1;
                DFS(i, x);
            &amp;#125;
        return;
    &amp;#125;;
    dep[1] = 1, DFS(1, -1);
    int p = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();
    dep[p] = 1, DFS(p, -1);
    int q = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();
    std::vector&amp;lt;int&amp;gt; tag(n + 1);
    std::function&amp;lt;bool(int, int)&amp;gt; DFS1 = [&amp;amp;](int x, int fa) &amp;#123;
        if (x == q) &amp;#123;
            tag[x] = 1;
            return true;
        &amp;#125;
        for (auto i : g[x])
            if (i != fa &amp;amp;&amp;amp; DFS1(i, x)) &amp;#123;
                tag[x] = 1;
                return true;
            &amp;#125;
        return false;
    &amp;#125;;
    DFS1(p, -1);
    std::vector&amp;lt;int&amp;gt; res(n + 1);
    DFS = [&amp;amp;](int x, int fa) &amp;#123;
        static int now = 1;
        int son = 0;
        if (x != p)
            res[x] = now;
        for (auto i : g[x])
            if (i != fa) &amp;#123;
                if (tag[i])
                    son = i;
                else
                    ++now, DFS(i, x), ++now;
            &amp;#125;
        if (son)
            ++now, DFS(son, x); // å›ä¸æ¥äº†ï¼Œæ•…å¯ä»¥ä¸åŠ  ;-)
        return;
    &amp;#125;;
    res[p] = 1, DFS(p, -1);
    for (int i = 1; i &amp;lt;= n; ++i)
        std::cout &amp;lt;&amp;lt; res[i] &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;c---æ ‘çš„è®¡æ•°&#34;&gt;C - æ ‘çš„è®¡æ•°&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P1232&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P1232&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ„è¯†åˆ° DFS å’Œ BFS åœ°ä½æ˜¯ä¸ç­‰ä»·çš„ï¼šäºŒè€…éƒ½æœ‰è‡ªå·±ç›¸åº”çš„æ€§è´¨ï¼Œä½† BFS çš„æ·±åº¦æ€§è´¨æ›´æ˜“äºä¸Šæ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å¦¨è¿›è¡Œé‡æ ‡å·ï¼Œä»¤ BFS åºä¸º &lt;span class=&#34;math inline&#34;&gt;\(1\sim n\)&lt;/span&gt;ã€‚å¯ä»¥åœ¨ BFS ä¸­ä¸æ–­è¿›è¡Œã€åˆ†å±‚ã€å¾—åˆ°ç‚¹çš„æ·±åº¦ä¿¡æ¯ã€‚å‘ç° &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; åå¿…é¡»åˆ†å‰²ä¸€æ¬¡ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰ BFS åºæœ¬èº«å¸¦æ¥çš„é™åˆ¶ã€‚è€ƒè™‘ DFS åºå¯¹æ·±åº¦å¸¦æ¥çš„é¢å¤–é™åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(D_i\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\(D_{i+1}\)&lt;/span&gt;ï¼Œåˆ™ &lt;span class=&#34;math inline&#34;&gt;\(D_{i+1}\)&lt;/span&gt; çš„æ’å…¥ä½ç‚¹ä½äº &lt;span class=&#34;math inline&#34;&gt;\(1\sim D_i\)&lt;/span&gt; çš„é“¾ä¸Šï¼Œåˆ™ &lt;span class=&#34;math inline&#34;&gt;\(dep_{D_{i+1}}\le dep_{D_i}+1\)&lt;/span&gt;ï¼Œå³ BFS åºä¸­ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\([D_i,D_{i+1})\)&lt;/span&gt; é—´æœ‰è‡³å¤šä¸€ä¸ªåˆ†æ®µç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;è™½ç„¶é¢˜é¢æ²¡è¯´ï¼Œä½†æ˜¯è¿™é‡Œ BFS å’Œ DFS éå†å„¿å­çš„é¡ºåºæ˜¯ç›¸åŒçš„ï¼›ç”±äºåœ¨ BFS åºä¸­ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; å…ˆäº &lt;span class=&#34;math inline&#34;&gt;\(i+1\)&lt;/span&gt; è¢«éå†ï¼Œï¼ˆç”±äº &lt;span class=&#34;math inline&#34;&gt;\(dep_i\le dep_{i+1}\le dep_i+1\)&lt;/span&gt;ï¼‰ï¼Œæ•…è€Œè‹¥ &lt;span class=&#34;math inline&#34;&gt;\(dep_i= dep_{i+1}\)&lt;/span&gt;ï¼Œåˆ™ DFS å…ˆéå† &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;ï¼›åä¹‹ï¼Œè‹¥ DFS åºä¸­ &lt;span class=&#34;math inline&#34;&gt;\(i+1\)&lt;/span&gt; æ—©äº &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; å‡ºç°ï¼ŒBFS åºä¸­ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; å¤„å¿…é¡»åˆ†å±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ™å¾—åˆ°è‹¥å¹²æ¡é™åˆ¶ï¼Œå½¢å¦‚æŸå¤„å¿…é¡»æ–­ã€æŸåŒºé—´å¿…é¡»æ°å¥½æ–­ä¸€æ¬¡ä¹‹ç±»ã€‚å‘ç°æ¯”è¾ƒéš¾å¤„ç†çš„æ˜¯åŒºé—´å†…æ²¡æœ‰è¦æ±‚ã€æŸä¸ªç‚¹å¿…é¡»æ–­ã€çš„æƒ…å†µï¼›&lt;del&gt;å¯ä»¥å·®åˆ†çº¦æŸ&lt;/del&gt; æƒŠè®¶åœ°å‘ç°ï¼Œè¿™ç§æƒ…å†µä¸‹æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(D_{i+1}=D_i+1\)&lt;/span&gt;ï¼ˆå¯ä»¥è€ƒå¯Ÿç¬¬ä¸€ä¸ªæ»¡è¶³ &lt;span class=&#34;math inline&#34;&gt;\(D_i\ne i\)&lt;/span&gt; çš„ç‚¹æ¥æ€è€ƒï¼‰ã€‚è¿™ç‚¹å…¶å®æ˜¯æ¯”è¾ƒéš¾è®ºè¯çš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ²¡æœ‰æƒ³å¾—å¾ˆæ¸…æ¥šï¼›å¥½åœ¨ä¿¡æ¯ä¹Ÿä¸æ˜¯å¾ˆè¦æ±‚è¯æ˜è¿™ä¸€å—å°±æ˜¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨å·®åˆ†å¤„ç†ã€æ°å¥½ä¸€æ¬¡ã€çš„é™åˆ¶ï¼Œæ ‡è®°æŸäº›ç‚¹ä¸èƒ½æ–­ã€‚åˆå§‹é«˜åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;ï¼›æ¯æ¬¡ã€å¿…é¡»åˆ†æ®µã€ä¼šå¸¦æ¥ &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; çš„é«˜åº¦ï¼›æ¯æ¬¡ã€å¯èƒ½åˆ†æ®µã€ä¼šå¸¦æ¥ &lt;span class=&#34;math inline&#34;&gt;\(0.5\)&lt;/span&gt; çš„é«˜åº¦ã€‚åŠ èµ·æ¥å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;P1232_2.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;int&amp;gt; d(n + 1), b(n + 1), p(n + 1);
    for (int i = 1; i &amp;lt;= n; ++i)
        std::cin &amp;gt;&amp;gt; d[i];
    for (int i = 1; i &amp;lt;= n; ++i)
        std::cin &amp;gt;&amp;gt; b[i], p[b[i]] = i;
    for (int i = 1; i &amp;lt;= n; ++i)
        d[i] = p[d[i]];
    for (int i = 1; i &amp;lt;= n; ++i)
        p[d[i]] = i;
    int res = 4;
    std::vector&amp;lt;int&amp;gt; tag(n + 1), forbid(n + 1);
    for (int i = 2; i &amp;lt; n; ++i)
        if (p[i + 1] &amp;lt; p[i])
            tag[i] = 1;
    std::partial_sum(tag.begin() + 1, tag.end(), tag.begin() + 1);
    for (int i = 2; i &amp;lt; n; ++i)
        if (d[i + 1] &amp;gt; d[i] &amp;amp;&amp;amp; tag[d[i + 1] - 1] - tag[d[i] - 1]) &amp;#123;
            // fprintf(stderr, &amp;quot;forbid [%d, %d)\n&amp;quot;, d[i], d[i + 1]);
            forbid[d[i]] += 1, forbid[d[i + 1]] -= 1;
        &amp;#125;
    std::partial_sum(forbid.begin() + 1, forbid.end(), forbid.begin() + 1);
    for (int i = 2; i &amp;lt; n; ++i)
        if (p[i] &amp;gt; p[i + 1])
            res += 2;
        else if (!forbid[i] &amp;amp;&amp;amp; p[i + 1] == p[i] + 1)
            res += 1;
    std::cout &amp;lt;&amp;lt; res / 2;
    if (res &amp;amp; 1)
        std::cout &amp;lt;&amp;lt; &amp;quot;.500&amp;quot;;
    else
        std::cout &amp;lt;&amp;lt; &amp;quot;.000&amp;quot;;
    std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;d---alice-and-bob&#34;&gt;D - Alice and Bob&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P3971&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P3971&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå¾ˆæ˜¾ç„¶çš„æƒ³æ³•æ˜¯ BSTï¼›ä½†æ˜¯è¿™ä¸ªä¸œè¥¿åªèƒ½æ±‚å¯è¡Œè§£ï¼Œæ±‚ä¸äº†æœ€ä¼˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;é¢˜è§£è¯´è§‚å¯Ÿåˆ° &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; çš„å†³ç­–ç‚¹ä¸€å®šæ˜¯å·¦ä¾§æœ€é å³çš„ä¸€ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(a_j=a_i-1\)&lt;/span&gt;ï¼ˆå¯ä»¥å‡è®¾ &lt;span class=&#34;math inline&#34;&gt;\(a_j&amp;gt;a_i\)&lt;/span&gt; ç„¶ååè¯ï¼‰ã€‚å¦‚æœæŠŠ &lt;span class=&#34;math inline&#34;&gt;\(j\)&lt;/span&gt; å‘ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; è¿è¾¹å¯ä»¥å»ºæ ‘ï¼›æ³¨æ„åˆ°å…±ç”¨ä¸€ä¸ªçˆ¶äº²çš„ç‚¹å€¼æ˜¯é€’å‡çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¦å¾€æ ‘ä¸Šå¡«å€¼ã€‚å®¹æ˜“æƒ³åˆ°ä¸€å±‚ä¸€å±‚å¡«ï¼›å¯æƒœä¸æœ€ä¼˜ï¼ˆåä¾‹å¦‚ä¸‹å›¾ï¼‰ã€‚&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&#34;image.png&#34; alt=&#34;è€ƒå¯Ÿä» 1 å¼€å§‹çš„æœ€é•¿ä¸‹é™å­åºåˆ—ï¼Œå‘ç°æŒ‰å±‚å€’åºå¡«ä¸ä¼˜ã€‚&#34; /&gt;&lt;figcaption&gt;è€ƒå¯Ÿä» 1 å¼€å§‹çš„æœ€é•¿ä¸‹é™å­åºåˆ—ï¼Œå‘ç°æŒ‰å±‚å€’åºå¡«ä¸ä¼˜ã€‚&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;è€ƒè™‘ã€ä»¥ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; å¼€å¤´çš„æœ€é•¿ä¸‹é™å­åºåˆ—é•¿åº¦ã€åœ¨æ ‘ä¸Šçš„å†…æ¶µï¼Œå‘ç°ï¼š&lt;/p&gt;
&lt;ol type=&#34;1&#34;&gt;
&lt;li&gt;åªèƒ½å– &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; æ‰€åœ¨å­æ ‘å¾€å³çš„éƒ¨åˆ†ï¼›&lt;/li&gt;
&lt;li&gt;å–äº†ç¥–å…ˆå°±ä¸èƒ½å–å„¿å­ï¼›å„¿å­æ ‡å·æ¯”ç¥–å…ˆå¤§ï¼›æ ‡å·è¶Šå¤§è¶Šèƒ½å–ï¼›æœ€ä¼˜è‚¯å®šå–å¶å­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æƒ³è¦å°½é‡å–æ»¡æ‰€æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; å­æ ‘å³ä¾§çš„æ‰€æœ‰æ¯” &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; æ ‡å·å¤§çš„å¶å­ï¼Œå°±è¦è®©å®ƒä»¬æ¯” &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; éƒ½å°&lt;/strong&gt;ã€‚è¿™ä¸ªé—®é¢˜æ˜¯ç®€å•çš„ï¼›ä¸€ç§æ–¹æ³•æ˜¯æŒ‰å„¿å­æ ‡å·ä»å¤§åˆ°å°ï¼Œä¸€è¾¹ DFS ä¸€è¾¹èµ‹å€¼ã€‚æš‚æ—¶æ²¡æƒ³åˆ°ä¸ç”¨è¿˜åŸåºåˆ—ã€log æ±‚ç­”æ¡ˆçš„ç»Ÿè®¡æ–¹æ³•ã€‚&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&#34;image-1.png&#34; alt=&#34;é™„ï¼šä¸¤ç§æ–¹å¼å¯¹æ¯”&#34; /&gt;&lt;figcaption&gt;é™„ï¼šä¸¤ç§æ–¹å¼å¯¹æ¯”&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxn = 1e5 + 5;
struct &amp;#123; int l, r, u; &amp;#125; t[maxn &amp;lt;&amp;lt; 2];
#define lt (p &amp;lt;&amp;lt; 1)
#define rt (lt | 1)
void bld(int p, int l, int r) &amp;#123;
    t[p].l = l, t[p].r = r;
    if (l == r)
        return;
    int mid = (l + r) &amp;gt;&amp;gt; 1;
    bld(lt, l, mid), bld(rt, mid + 1, r);
    return;
&amp;#125;
void add(int p, int x, int v) &amp;#123;
    t[p].u = std::max(t[p].u, v);
    if (t[p].l == t[p].r)
        return;
    int mid = (t[p].l + t[p].r) &amp;gt;&amp;gt; 1;
    if (x &amp;lt;= mid)
        add(lt, x, v);
    else
        add(rt, x, v);
    return;
&amp;#125;
int ask(int p, int l, int r) &amp;#123;
    if (l &amp;lt;= t[p].l &amp;amp;&amp;amp; t[p].r &amp;lt;= r)
        return t[p].u;
    int mid = (t[p].l + t[p].r) &amp;gt;&amp;gt; 1, res = 0;
    if (l &amp;lt;= mid)
        res = ask(lt, l, r);
    if (r &amp;gt; mid)
        res = std::max(res, ask(rt, l, r));
    return res;
&amp;#125;
#undef lt
#undef rt
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    std::vector&amp;lt;int&amp;gt; a(n + 1), la(n + 1), deg(n + 1);
    for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; a[i];
        g[la[a[i] - 1]].push_back(i), ++deg[la[a[i] - 1]];
        la[a[i]] = i;
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; u(n + 1), b(n + 1);
    std::function&amp;lt;void(int)&amp;gt; DFS = [&amp;amp;](int x) &amp;#123;
        static int now = 0;
        u[x] = now++;
        std::reverse(g[x].begin(), g[x].end());
        for (auto i : g[x])
            DFS(i);
        return;
    &amp;#125;;
    DFS(0);
    bld(1, 1, n);
    for (int i = n; i; --i) &amp;#123;
        b[i] = ask(1, 1, u[i] - 1) + 1;
        add(1, u[i], b[i]);
    &amp;#125;
    // for (int i = 1; i &amp;lt;= n; ++i)
    //     std::cout &amp;lt;&amp;lt; b[i] &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    // std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    std::cout &amp;lt;&amp;lt; std::accumulate(b.begin() + 1, b.end(), 0ll) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;e---tree-factory&#34;&gt;E - Tree Factory&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://codeforces.com/problemset/problem/1225/F&#34; class=&#34;uri&#34;&gt;https://codeforces.com/problemset/problem/1225/F&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŠŠé¢˜æ„è½¬åŒ–ä¸ºã€æ¯æ¬¡å¯ä»¥æŠŠä¸€ä¸ªå­æ ‘ä¸‹ç§»ï¼Œè¦æ±‚æŠŠä¸€ä¸ªæ ‘è½¬åŒ–ä¸ºä¸€æ¡é“¾ã€ã€‚å¯ä»¥è¿›è¡Œä¸€äº›è§‚å¯Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€æ¬¡ç§»åŠ¨èƒ½äº§ç”Ÿè´¡çŒ®å½“ä¸”ä»…å½“å…¶è®©æ ‘é«˜å¢åŠ  &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¯æ¬¡ç§»åŠ¨éƒ½äº§ç”Ÿè´¡çŒ®ï¼Œæ˜“å‘ç°ç­”æ¡ˆä¸‹ç•Œä¸º &lt;span class=&#34;math inline&#34;&gt;\(n-\sum mxd_i\)&lt;/span&gt;ï¼Œå¯ä»¥å–åˆ°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çœ‹åˆ°æ·±åº¦ç›¸å…³å°±è¦æƒ³åˆ°é•¿å‰– ğŸ˜… bro è¿˜æ²¡ ptsd&lt;/p&gt;
&lt;p&gt;å–ä»¥æ ¹ä¸º top çš„é•¿é“¾ï¼Œä»åº•åˆ°é¡¶ä¾æ¬¡å®Œæˆã€å¹¶åˆ°çŸ­é“¾æ‰€åœ¨æ ‘ä¸Šï¼ŒæŠŠæ ‘æ‹†æˆé“¾ã€çš„æ“ä½œã€‚å…·ä½“è¿‡ç¨‹å¤§æ¦‚æ˜¯ä¸€ä¸ª dfn çš„æ„Ÿè§‰ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    for (int i = 2, x; i &amp;lt;= n; ++i)
        std::cin &amp;gt;&amp;gt; x, g[x + 1].push_back(i);
    std::vector&amp;lt;int&amp;gt; mxd(n + 1), son(n + 1), res, nex(n + 1);
    std::function&amp;lt;void(int)&amp;gt; DFS = [&amp;amp;](int x) &amp;#123;
        mxd[x] = 1;
        for (auto i : g[x]) &amp;#123;
            DFS(i);
            if (mxd[i] + 1 &amp;gt; mxd[x])
                son[x] = i, mxd[x] = mxd[i] + 1;
        &amp;#125;
        return;
    &amp;#125;;
    DFS(1);
    std::vector&amp;lt;int&amp;gt; p;
    for (int i = 1; son[i]; i = son[i])
        p.push_back(i);
    std::function&amp;lt;void(int, int)&amp;gt; merge = [&amp;amp;](int son, int x) &amp;#123;
        int la = son;
        res.push_back(son);
        for (auto i : g[x])
            merge(la, i), la = i;
        nex[x] = la;
        return;
    &amp;#125;;
    for (int i = (int)p.size() - 1; ~i; --i) &amp;#123;
        int la = son[p[i]];
        for (auto j : g[p[i]])
            if (j != son[p[i]])
                merge(la, j), la = j;
        nex[p[i]] = la;
    &amp;#125;
    for (int i = 1; i; i = nex[i])
        std::cout &amp;lt;&amp;lt; i - 1 &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39; &amp;lt;&amp;lt; res.size() &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    std::reverse(res.begin(), res.end());
    for (auto i : res)
        std::cout &amp;lt;&amp;lt; i - 1 &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
</content>
        <category term="æ€ç»´" />
        <updated>2025-07-17T13:09:13.000Z</updated>
    </entry>
    <entry>
        <id>https://xsc062.netlify.app/20250716/</id>
        <title>ç»ƒä¹  æ ‘çš„å„ç§æ€§è´¨ I</title>
        <link rel="alternate" href="https://xsc062.netlify.app/20250716/"/>
        <content type="html">&lt;p&gt;è¿™ä¸æ¯”æ–œä¼˜åšç€çˆ½ã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;a---tree&#34;&gt;A - Tr/ee&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/arc103/tasks/arc103_c&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/arc103/tasks/arc103_c&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥å‘ç°ï¼Œç±»ä¼¼åˆ è¾¹çš„é—®é¢˜ï¼Œåˆ å‡ºæ¥çš„è¿é€šå—å½“ä¸­ï¼Œé ä¸‹çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å­æ ‘ï¼›å°±å¯ä»¥è½¬åŒ–ä¸ºå­æ ‘é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®¹æ˜“æƒ³åˆ°æšä¸¾ &lt;span class=&#34;math inline&#34;&gt;\(i-1\)&lt;/span&gt; æ—¶æ ‘çš„çŠ¶æ€ï¼Œå°è¯•è½¬åŒ–ä¸º &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; æ—¶çš„çŠ¶æ€ï¼›è¿›ä¸€æ­¥å¯ä»¥èƒ¡å‡ºæ¥ä¸€å †æ–¹æ¡ˆï¼ˆå¤§æ¦‚ï¼‰ï¼Œè¿™é‡Œæˆ‘èƒ¡çš„æ˜¯ï¼Œåˆå§‹è®¾ç½®ä¸€ä¸ªå•ç‚¹ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(0\to 1\)&lt;/span&gt; å•¥ä¹Ÿä¸å¹²ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(0\to 0\)&lt;/span&gt; åœ¨å½“å‰æ ¹ä¸Šå†åŠ ä¸€ä¸ªå¶å­ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(1\to 0\)&lt;/span&gt; æ–°å»ºä¸€ä¸ªå¸¦å¶å­çš„æ ¹å¹¶ä»¤å…¶æˆä¸ºå½“å‰æ ¹çš„çˆ¶äº²ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(1\to 1\)&lt;/span&gt; åŠ ä¸€ä¸ªçˆ¶äº²ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åç‰¹åˆ¤ä¸€ä¸‹ &lt;span class=&#34;math inline&#34;&gt;\(s_1=0\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\(s_n=1\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\(s_i\ne s_{n-i}\)&lt;/span&gt; çš„æƒ…å†µï¼Œå‘ç°å…¶ä»–æ—¶å€™éƒ½æœ‰è§£ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::string s;
    std::cin &amp;gt;&amp;gt; s, n = (int)s.length();
    s = &amp;quot;#&amp;quot; + s;
    if (s[1] == &amp;#39;0&amp;#39; || s[n] == &amp;#39;1&amp;#39;) &amp;#123;
        std::cout &amp;lt;&amp;lt; -1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        return 0;
    &amp;#125;
    for (int i = 1; i &amp;lt; n; ++i)
        if (s[i] != s[n - i]) &amp;#123;
            std::cout &amp;lt;&amp;lt; -1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
            return 0;
        &amp;#125;
    int tot = 1, rt = 1;
    for (int i = 2; i &amp;lt; n; ++i) &amp;#123;
        if (tot == i - 1) &amp;#123;
            if (s[i] == &amp;#39;0&amp;#39;) &amp;#123;
                std::cout &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; ++tot &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
                rt = tot;
                std::cout &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; ++tot &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
            &amp;#125;
            else &amp;#123;
                std::cout &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; ++tot &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
                rt = tot;
            &amp;#125;
        &amp;#125;
        else if (s[i] == &amp;#39;0&amp;#39;)
            std::cout &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; ++tot &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    &amp;#125;
    if (tot != n)
        std::cout &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; n &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;b---keep-perfectly-matched&#34;&gt;B - Keep Perfectly Matched&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/arc183/tasks/arc183_d&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/arc183/tasks/arc183_d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å‘ç°è¿™ä¸ªã€å®Œç¾åŒ¹é…ã€å°±æ˜¯åœ¨æ ‘ä¸Šç»™æ¯ä¸ªç‚¹æ‰¾ç›¸é‚»ç‚¹é…å¯¹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½é…ä¸Šï¼›ç»§è€Œå‘ç°ç”±äºç‚¹çš„æ€»æ•°ä¸ºå¶ï¼Œä¸€ä¸ªç‚¹æœ‰ä¸”ä»…èƒ½æœ‰ä¸€ä¸ª siz ä¸ºå¥‡çš„å­æ ‘ï¼ˆä¸ç„¶éæ³•ï¼‰ï¼Œå†å‘ç°å¯¹äºä»»æ„ä¸€ä¸ªç‚¹ï¼Œåˆ æ‰çš„ç‚¹å¯¹è¦ä¹ˆæ¥è‡ªå…¶åŒä¸€ä¸ªå­æ ‘ï¼›è¦ä¹ˆä¸€ä¸ªæ¥è‡ªå…¶å¥‡å­æ ‘ï¼Œå¦ä¸€ä¸ªæ¥è‡ªå…¶å¶å­æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°è¦æ±‚æœ€å¤§åŒ–è·ç¦»ï¼Œåˆåªèƒ½åˆ å¶å­ï¼Œæ‰€ä»¥éœ€è¦æœ€å°åŒ– LCA æ·±åº¦ï¼›æœ‰æ²¡æœ‰åŠæ³•è®©æ¯æ¬¡çš„ LCA éƒ½æ˜¯æ ¹å‘¢ï¼Ÿè®©é‡å¿ƒæˆä¸ºæ ¹ï¼Œå¹¶ä¿è¯æ¯æ¬¡æ“ä½œçš„ä¸¤ä¸ªç‚¹éƒ½ä¸æ¥è‡ªåŒä¸€ä¸ªå„¿å­å³å¯ï¼ˆæ˜¾ç„¶è¿™æ ·æ˜¯å®Œå…¨å¯èƒ½çš„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€å†™äº†ä¸€å‘å‘ç°è¿‡ä¸äº†æ ·ä¾‹ï¼ŒåŸå› æ˜¯å‘ç°åœ¨å¶å­æ ‘ä¸­ä¼šå‡ºç°ã€ä¸€ä¸ªä¸­é€”çš„èŠ‚ç‚¹æœ¬æ¥æœ‰ä¸€ä¸ªå¥‡å„¿å­ï¼Œåˆ å»å¶å­æ ‘ä¸­çš„ä¸€ä¸ªå¶å­åéæ³•ã€çš„æƒ…å†µã€‚æ˜¾ç„¶è¿™æ ·çš„èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå¶å„¿å­ã€‚ç¡®ä¿æ¯ä¸ªå¶å„¿å­çš„å¥‡å„¿å­å…ˆè¢«åˆ æ‰å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹é‡å¿ƒçš„æ¯ä¸ªå„¿å­ï¼Œæå‰è§„åˆ’å…¶èŠ‚ç‚¹è¢«åˆ é™¤çš„é¡ºåºå³å¯ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    for (int i = 1, x, y; i &amp;lt; n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        g[x].push_back(y), g[y].push_back(x);
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; siz(n + 1);
    int rt = 0;
    std::function&amp;lt;void(int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa) &amp;#123;
        siz[x] = 1;
        bool flag = 1;
        for (auto i : g[x])
            if (i != fa) &amp;#123;
                DFS(i, x);
                siz[x] += siz[i];
                if (siz[i] &amp;gt; n / 2)
                    flag = 0;
            &amp;#125;
        if (flag &amp;amp;&amp;amp; n - siz[x] &amp;lt;= n / 2)
            rt = x;
        return;
    &amp;#125;;
    DFS(1, -1);
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; lf(n + 1);
    int f1 = -1;
    auto comp = [&amp;amp;](int i, int j) &amp;#123; return siz[i] &amp;lt; siz[j]; &amp;#125;;
    std::priority_queue&amp;lt;int, std::vector&amp;lt;int&amp;gt;, decltype(comp)&amp;gt; f0(comp);
    siz.assign(n + 1, 0);
    for (auto t : g[rt]) &amp;#123;
        DFS = [&amp;amp;](int x, int fa) &amp;#123;
            siz[x] = 1;
            for (auto i : g[x])
                if (i != fa) &amp;#123;
                    DFS(i, x);
                    siz[x] += siz[i];
                &amp;#125;
            return;
        &amp;#125;;
        DFS(t, rt);
        DFS = [&amp;amp;](int x, int fa) &amp;#123;
            if (siz[x] % 2 == 0) &amp;#123;
                for (auto i : g[x])
                    if (i != fa &amp;amp;&amp;amp; siz[x] % 2 == 1)
                        DFS(i, x);
                for (auto i : g[x])
                    if (i != fa &amp;amp;&amp;amp; siz[x] % 2 == 0)
                        DFS(i, x);
            &amp;#125;
            else
                for (auto i : g[x])
                    if (i != fa)
                        DFS(i, x);
            lf[t].push_back(x);
            return;
        &amp;#125;;
        DFS(t, rt);
        if (siz[t] &amp;amp; 1)
            assert(f1 == -1), f1 = t;
        else
            f0.push(t);
        std::reverse(lf[t].begin(), lf[t].end());
    &amp;#125;
    fprintf(stderr, &amp;quot;rt = %d\n&amp;quot;, rt);
    assert(~f1);
    for (int _ = n / 2; _--; ) &amp;#123;
        assert(~f1);
        if (!_ &amp;amp;&amp;amp; f0.empty()) &amp;#123;
            std::cout &amp;lt;&amp;lt; f1 &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
            break;
        &amp;#125;
        assert(!f0.empty());
        int t = f0.top();
        f0.pop();
        assert(!lf[f1].empty());
        assert(!lf[t].empty());
        std::cout &amp;lt;&amp;lt; lf[f1].back() &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; lf[t].back() &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        lf[f1].pop_back(), --siz[f1];
        lf[t].pop_back(), --siz[t];
        if (siz[f1])
            f0.push(f1);
        f1 = t;
    &amp;#125;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;c---fiolki&#34;&gt;C - Fiolki&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P5578&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P5578&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;éš¾ç‚¹åœ¨äºåˆ¤æ–­æ¯ä¸€æ­¥æœ‰å“ªäº›ååº”å‘ç”Ÿï¼›æ˜¾ç„¶ä¸€ä¸ªååº”åªä¼šåœ¨æŸä¸€æ­¥å‘ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°å°†å€’æ°´çš„æ“ä½œè§†ä¸ºè¿è¾¹ &lt;span class=&#34;math inline&#34;&gt;\(b_i\to a_i\)&lt;/span&gt;ï¼Œé‚£ä¹ˆå½¢æˆäº†æ£®æ—ï¼ŒæŠŠæ¯ä¸ªååº”ä¸¢åˆ° LCA å¤„ç­‰å¾… checkã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°åœ¨ LCA ä¹‹å¤–ï¼Œä¸¤ç§è¯•å‰‚ä¸å¯èƒ½ç›¸é‡ï¼›æ•…æœ€åéå†ä¸€éååº”åºåˆ—ï¼Œç»´æŠ¤æ¯ç§è¯æ°´å½“å‰æ•°é‡ï¼Œåœ¨æ¯ä¸ªç‚¹å¤„ check å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å†å‘ç°å¦‚æœæ¯æ¬¡åŠ è¾¹éƒ½åœ¨çˆ¶äº²å¤„ check æ‰€æœ‰å¯èƒ½å‘ç”Ÿçš„ååº”ï¼Œå¤æ‚åº¦è‚¯å®šæ˜¯é”™çš„ï¼›æ•…ç”¨å€å¢æ±‚å‡ºä¸¤ä¸ªç‚¹åœ¨ LCA ä¸‹æ–¹çš„ç‚¹ä½œä¸ºã€æ£€æŸ¥ç‚¹ã€ï¼Œå½“ã€æ£€æŸ¥ç‚¹ã€è¢«åˆå¹¶åˆ°å…¶çˆ¶äº²æ—¶ï¼Œå°±å¯ä»¥ check ä¸€ä¸‹æ£€æŸ¥ç‚¹ä¸Šé¢æŒ‚çš„æ‰€æœ‰è¯¢é—®ã€‚æ˜¾ç„¶æ¯ä¸ªç‚¹ä¸Šçš„è¯¢é—®åªä¼šè¢«æ£€æŸ¥ä¸€æ¬¡ï¼›å¤æ‚åº¦çº¿æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åŠ ä¸Šå€å¢ LCA çš„å¤æ‚åº¦ï¼Œå°±å¯ä»¥ &lt;span class=&#34;math inline&#34;&gt;\(O(n\log n)\)&lt;/span&gt; åœ°å®Œæˆã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n, m, k;
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m &amp;gt;&amp;gt; k;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    std::vector&amp;lt;int&amp;gt; f(n + 1), deg(n + 1), now(n + 1);
    for (int i = 1; i &amp;lt;= n; ++i)
        std::cin &amp;gt;&amp;gt; now[i];
    std::iota(f.begin() + 1, f.end(), 1);
    std::function&amp;lt;int(int)&amp;gt; find = [&amp;amp;](int x) &amp;#123;
        return x == f[x] ? x : f[x] = find(f[x]);
    &amp;#125;;
    auto merge = [&amp;amp;](int x, int y) &amp;#123;
        f[find(x)] = find(y);
        return;
    &amp;#125;;
    std::vector&amp;lt;std::pair&amp;lt;int, int&amp;gt; &amp;gt; a(m + 1);
    for (int i = 1; i &amp;lt;= m; ++i) &amp;#123;
        auto &amp;amp;[x, y] = a[i];
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y, ++deg[x];
        g[y].push_back(x), merge(x, y);
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; dep(n + 1);
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; fa(n + 1, std::vector&amp;lt;int&amp;gt; (21));
    for (int i = 1; i &amp;lt;= n; ++i)
        if (!deg[i]) &amp;#123;
            std::function&amp;lt;void(int)&amp;gt; DFS = [&amp;amp;](int x) &amp;#123;
                for (auto i : g[x]) &amp;#123;
                    fa[i][0] = x;
                    for (int j = 1; j &amp;lt;= 20; ++j)
                        fa[i][j] = fa[fa[i][j - 1]][j - 1];
                    dep[i] = dep[x] + 1, DFS(i);
                &amp;#125;
                return;
            &amp;#125;;
            dep[i] = 1, DFS(i);
        &amp;#125;
    std::vector&amp;lt;std::vector&amp;lt;std::pair&amp;lt;int, int&amp;gt; &amp;gt; &amp;gt; t(n + 1);
    for (int x, y; k--; ) &amp;#123;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        if (find(x) == find(y)) &amp;#123;
            std::pair&amp;lt;int, int&amp;gt; p(x, y);
            if (dep[x] != dep[y]) &amp;#123;
                if (dep[x] &amp;lt; dep[y])
                    std::swap(x, y);
                for (int i = 20; ~i; --i)
                    if (dep[fa[x][i]] &amp;gt; dep[y])
                        x = fa[x][i];
                if (fa[x][0] == y) &amp;#123;
                    t[x].push_back(p);
                    // printf(&amp;quot;add (%d, %d) to %d\n&amp;quot;, p.first, p.second, x);
                    continue;
                &amp;#125;
                x = fa[x][0];
            &amp;#125;
            for (int i = 20; ~i; --i)
                if (fa[x][i] != fa[y][i])
                    x = fa[x][i], y = fa[y][i];
            t[x].push_back(p), t[y].push_back(p);
        &amp;#125;
    &amp;#125;
    std::iota(f.begin() + 1, f.end(), 1);
    auto res(0ll);
    for (int i = 1; i &amp;lt;= m; ++i) &amp;#123;
        auto [x, y] = a[i];
        merge(x, y);
        for (auto [p, q] : t[x])
            if (find(p) == find(x) &amp;amp;&amp;amp; find(q) == find(x)) &amp;#123;
                int u = std::min(now[p], now[q]);
                res += 2 * u, now[p] -= u, now[q] -= u;
            &amp;#125;
    &amp;#125;
    std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125; &lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;d---permutation-tree&#34;&gt;D - Permutation Tree&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/arc095/tasks/arc095_d&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/arc095/tasks/arc095_d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;éšä¾¿ç”»å›¾ï¼Œä¼šå‘ç°ï¼Œå¦‚æœæŒ‰å±‚æ•°ä»å°åˆ°å¤§æ ‡å·ï¼Œä¸€ä¸ªç‚¹çš„å„¿å­åªæœ‰æœ€å¤šä¸€ä¸ªä¸æ˜¯å¶å­ã€‚ä¸€è¨€ä»¥è”½ä¹‹ï¼šæ¯›æ¯›è™«ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥åˆ¤æ–­å¯è¡Œæ€§äº†ï¼ˆç›´å¾„å°±æ˜¯è™«èº«ï¼‰ã€‚æ¥ä¸‹æ¥éœ€è¦è€ƒè™‘æœ€å°åŒ–ç­”æ¡ˆå­—å…¸åºçš„é—®é¢˜ï¼Œå‘ç°å¯¹äºä¸€ä¸ªç‚¹çš„å„¿å­ï¼Œå¿…é¡»æ˜¯è™«è¶³åœ¨å…¶å·¦ã€è™«èº«åœ¨å…¶å³ä¸”å¿…é¡»ä¸¥æ ¼æŒ‰ç…§å±‚æ•°æ ‡å·ã€‚&lt;/p&gt;
&lt;p&gt;å­—å…¸åºæ˜¯ä¸ªåè´ªå¿ƒçš„ä¸œè¥¿ï¼Œæ‰€ä»¥å¯ä»¥å¼€å§‹çæï¼šå‘ç°è™«è¶³è¶Šå¤šï¼Œæ ‡å·æ›´å°çš„çˆ¶äº²å°±ä¼šè¶Šé åï¼Œæ‰€ä»¥ä¾æ¬¡æ¯”è¾ƒç”¨ä¸¤ç«¯å¼€å¤´çš„æƒ…å†µï¼Œå¦‚æœåˆ°äº†è™«èº«çš„æŸä¸€æ®µï¼Œå“ªç§çš„å„¿å­æ›´å°‘å°±é€‰è°ï¼Œç„¶åç›´æ¥æŒ‰æœ€å°æ¥æ ‡å·å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šç”±äºåªæœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä½ ä¹Ÿå¯ä»¥ä¸¤è¾¹éƒ½è¯•è¯•ï¼ˆï¼‰&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    for (int i = 1, x, y; i &amp;lt; n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        g[x].push_back(y), g[y].push_back(x);
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; dep(n + 1);
    std::function&amp;lt;void(int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa) &amp;#123;
        for (auto i : g[x])
            if (i != fa) &amp;#123;
                dep[i] = dep[x] + 1;
                DFS(i, x);
            &amp;#125;
        return;
    &amp;#125;;
    dep[1] = 1, DFS(1, -1);
    int p = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();
    bool flag = 0;
    std::vector&amp;lt;int&amp;gt; node, cnt(n + 1), siz(n + 1);
    DFS = [&amp;amp;](int x, int fa) &amp;#123;
        siz[x] = 1;
        for (auto i : g[x])
            if (i != fa) &amp;#123;
                DFS(i, x);
                siz[x] += siz[i], ++cnt[x];
            &amp;#125;
        if (siz[x] &amp;gt; 1) &amp;#123;
            node.push_back(0), --cnt[x];
            for (auto i : g[x]) &amp;#123;
                if (i != fa &amp;amp;&amp;amp; siz[node.back()] &amp;gt; 1 &amp;amp;&amp;amp; siz[i] &amp;gt; 1)
                    flag = 1;
                if (i != fa &amp;amp;&amp;amp; siz[i] &amp;gt; siz[node.back()])
                    node.back() = i;
            &amp;#125;
        &amp;#125;
        return;
    &amp;#125;;
    DFS(p, -1), node.push_back(p);
    if (flag) &amp;#123;
        std::cout &amp;lt;&amp;lt; -1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        return 0;
    &amp;#125;
    for (int i = 0, j = (int)node.size() - 1; i &amp;lt;= j; ++i, --j)
        if (cnt[node[i]] &amp;gt; cnt[node[j]]) &amp;#123;
            std::reverse(node.begin(), node.end());
            break;
        &amp;#125;
        else if (cnt[node[i]] &amp;lt; cnt[node[j]])
            break;
    int now = 0;
    for (auto i : node) &amp;#123;
        int rt = ++now;
        for (; cnt[i]--; std::cout &amp;lt;&amp;lt; ++now &amp;lt;&amp;lt; &amp;#39; &amp;#39;);
        std::cout &amp;lt;&amp;lt; rt &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    &amp;#125;
    std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;e---isomorphism-freak&#34;&gt;E - Isomorphism Freak&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/agc024/tasks/agc024_d&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/agc024/tasks/agc024_d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;del&gt;åƒåœ¨æ•°æœ‰å¤šå°‘ç§åŒ–å­¦ç¯å¢ƒçš„ H æ˜¯å¯ä»¥è¯´çš„å—&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;é‰´äºè¿™ä¸ªï¼Œé«˜ä¸­åŒ–å­¦é€‰æ‹©æ€§å¿…ä¿®ä¸‰ï¼Œç»™æˆ‘ä»¬æ‰“ä¸‹çš„åšå®åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸è¿…é€Ÿåœ°æ³¨æ„åˆ°ç­”æ¡ˆå°±æ˜¯åŠå¾„é•¿ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæœ€å°‘å¶å­ï¼Œå‘ç°ä¸€çœ¼çªä¸å‡ºæ¥ï¼Œç³Ÿç³•ï¼æ²¡å…³ç³»ï¼Œè§‚å¯Ÿæ ·ä¾‹è¾“å‡ºï¼Œå‘ç°è¿™äº›ç­”æ¡ˆçš„å› æ•°éƒ½æŒºå¤šï¼Œæ•…çŒœæµ‹æ˜¯è‹¥å¹²ä¸ªæ•°ä¹˜èµ·æ¥çš„ï¼›ç„¶åå†å‘ç°æ˜¯æ¯å±‚æœ€å¤§å„¿å­æ•°çš„ä¹˜ç§¯ã€‚&lt;/p&gt;
&lt;p&gt;æšä¸¾ä¸­é—´çš„è¾¹ï¼ˆä»…å½“ç›´å¾„é•¿åº¦ä¸ºå¶æ—¶ï¼‰ã€ç‚¹ï¼ˆå¥‡å¶éƒ½è¡Œï¼‰ä½œä¸ºå¯¹ç§°è½´ / å¯¹ç§°ä¸­å¿ƒçš„æƒ…å†µå– min å³å¯ï¼ˆåŸå› æ˜¯è¦å°½é‡å–é è¿‘ä¸­å¿ƒçš„ &lt;strong&gt;ç‚¹&lt;/strong&gt;ï¼‰ï¼Œæ³¨æ„è¾¹ä¸¤ç«¯ç®—ä¸¤ä¸ªå„¿å­æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;del&gt;æ‰€ä»¥ä¸ºå•¥ &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; è¿™ä¹ˆå°&lt;/del&gt;&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const long long inf = 1e18;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;std::vector&amp;lt;int&amp;gt; &amp;gt; g(n + 1);
    for (int i = 1, x, y; i &amp;lt; n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        g[x].push_back(y), g[y].push_back(x);
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; dep(n + 1);
    std::function&amp;lt;void(int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa) &amp;#123;
        for (auto i : g[x])
        if (i != fa) &amp;#123;
            dep[i] = dep[x] + 1;
            DFS(i, x);
        &amp;#125;
        return;
    &amp;#125;;
    dep[1] = 1, DFS(1, -1);
    int p = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();
    dep[p] = 1, DFS(p, -1);
    int q = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();
    std::cout &amp;lt;&amp;lt; (dep[q] + 1) / 2 &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    std::vector&amp;lt;int&amp;gt; node;
    std::vector&amp;lt;std::pair&amp;lt;int, int&amp;gt; &amp;gt; edge;
    if (dep[q] &amp;amp; 1) &amp;#123;
        DFS = [&amp;amp;](int x, int fa) &amp;#123;
            for (auto i : g[x])
                if (i != fa)
                    DFS(i, x);
            if (dep[x] == (dep[q] + 1) / 2)
                node.push_back(x), edge.emplace_back(x, fa);
            if (dep[x] == (dep[q] + 1) / 2 + 1)
                edge.emplace_back(x, fa);
            return;
        &amp;#125;;
        DFS(p, -1);
    &amp;#125;
    else &amp;#123;
        std::function&amp;lt;bool(int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa) &amp;#123;
            if (x == q)
                return true;
            bool ret = false;
            for (auto i : g[x])
                if (i != fa)
                    ret |= DFS(i, x);
            if (ret &amp;amp;&amp;amp; dep[x] == dep[q] / 2 + 1)
                edge.emplace_back(x, fa);
            return ret;
        &amp;#125;;
        DFS(p, -1);
    &amp;#125;
    long long res = inf;
    for (auto [x, y] : edge) &amp;#123;
        std::vector&amp;lt;int&amp;gt; cnt(n + 1);
        std::function&amp;lt;void(int, int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa, int dep) &amp;#123;
            int son = 0;
            for (auto i : g[x])
                if (i != fa)
                    ++son, DFS(i, x, dep + 1);
            cnt[dep] = std::max(cnt[dep], son);
            return;
        &amp;#125;;
        DFS(x, y, 1), DFS(y, x, 1);
        auto now(2ll);
        for (int i = 1; i &amp;lt;= n &amp;amp;&amp;amp; cnt[i]; ++i)
            now *= cnt[i];
        res = std::min(res, now);
    &amp;#125;
    for (auto rt : node) &amp;#123;
        std::vector&amp;lt;int&amp;gt; cnt(n + 1);
        std::function&amp;lt;void(int, int, int)&amp;gt; DFS = [&amp;amp;](int x, int fa, int dep) &amp;#123;
            int son = 0;
            for (auto i : g[x])
                if (i != fa)
                    ++son, DFS(i, x, dep + 1);
            cnt[dep] = std::max(cnt[dep], son);
            return;
        &amp;#125;;
        DFS(rt, -1, 1);
        auto now(1ll);
        for (int i = 1; i &amp;lt;= n &amp;amp;&amp;amp; cnt[i]; ++i)
            now *= cnt[i];
        res = std::min(res, now);
    &amp;#125;
    std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
</content>
        <category term="æ€ç»´" />
        <updated>2025-07-16T08:17:10.000Z</updated>
    </entry>
    <entry>
        <id>https://xsc062.netlify.app/20240131/</id>
        <title>USACO2024JAN ä¸‰ç»„è¿æ‰“</title>
        <link rel="alternate" href="https://xsc062.netlify.app/20240131/"/>
        <content type="html">&lt;p&gt;å‡çš„ï¼Œåªè¿æ‰“äº†ä¸¤ç»„ã€‚Ag æ²¡æ—¶é—´äº†ã€‚æ—¥åå†è¡¥å§ã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;p&gt;&lt;img src=&#34;https://pic.imgdb.cn/item/65b7b152871b83018ac5e7b7.gif&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ— æ„ä¸­å­˜äº†é¢˜é¢ï¼Œä½†ä»£ç å¤§éƒ¨åˆ†å› ä¸ºç³»ç»Ÿè¿˜åŸæ¶ˆå¤±äº†ï¼Œåªæœ‰æ–‡å­—é¢˜è§£ï¼Œå°†å°±ç€çœ‹å§ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;cu-a.-majority-opinion&#34;&gt;Cu A. Majority Opinion&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P10131&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P10131&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;çœæµï¼šä»»æ„åŒºé—´å†…ï¼Œè‹¥æŸå…ƒç´ å‡ºç°ä¸ªæ•°ä¸¥æ ¼å¤§äºåŒºé—´é•¿åº¦ä¸€åŠï¼Œåˆ™å¯å°†æ•´ä¸ªåŒºé—´æ¨å¹³ä¸ºè¯¥å€¼ã€‚é—®æœ€ç»ˆå¯ä»¥ä½¿æ•´ä¸ªåºåˆ—è¢«æ¨å¹³ä¸ºå“ªäº›å€¼ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°å½“ä»»æ„é•¿åº¦ &lt;span class=&#34;math inline&#34;&gt;\(\ge 2\)&lt;/span&gt; çš„åŒºé—´å¯ä»¥è¢«æ¨å¹³ä¸ºæŸç§å…ƒç´ æ—¶ï¼Œæ•´ä¸ªæ•°åˆ—éƒ½å¯ä»¥è¢«æ¨å¹³ä¸ºè¯¥å…ƒç´ ã€‚æ•…ç›®æ ‡è½¬åŒ–ä¸ºå¯¹äºæŸç§å…ƒç´ åˆ¤å®šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå¯è¢«å…¶æ¨å¹³çš„åŒºé—´ã€‚&lt;/p&gt;
&lt;p&gt;ç»Ÿè®¡å…ƒç´ ä¸ªæ•°é‡‡ç”¨å‰ç¼€å’Œã€‚ä»¤ &lt;span class=&#34;math inline&#34;&gt;\(s_i\)&lt;/span&gt; è¡¨ç¤º &lt;span class=&#34;math inline&#34;&gt;\(h_i\)&lt;/span&gt; åœ¨å‰ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; é¡¹ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå‡è®¾æœ‰ &lt;span class=&#34;math inline&#34;&gt;\([j,i]\)&lt;/span&gt; æ»¡è¶³æ¡ä»¶ï¼Œè´ªå¿ƒå¯çŸ¥ &lt;span class=&#34;math inline&#34;&gt;\(h_i=h_j\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆç”±å®šä¹‰æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(i-j+1&amp;lt;2\times (s_i-s_j+1)\)&lt;/span&gt;ã€‚å…¸ä¸­å…¸ï¼Œç›´æ¥ç§»é¡¹åˆ†ç¦»å˜é‡ã€‚åˆ™æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(i-2\times s_i-1&amp;lt;j-2\times s_j\)&lt;/span&gt;ã€‚ä»¤ &lt;span class=&#34;math inline&#34;&gt;\(t_p\gets p-2\times s_p\)&lt;/span&gt;ï¼Œå¯¹äºæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(h\)&lt;/span&gt; è®°å½• &lt;span class=&#34;math inline&#34;&gt;\(t_j\)&lt;/span&gt; æœ€å¤§å€¼æŸ¥çœ‹æ˜¯å¦æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(i,j\)&lt;/span&gt; æ»¡è¶³æ¡ä»¶å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;cu-b.-cannonball&#34;&gt;Cu B. Cannonball&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P10132&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P10132&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;çœæµï¼šæœ‰ &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; ä¸ªæ ¼å­ï¼Œä» &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt; æ ¼å­å¼€å§‹ä»¥ &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; ä¸ºåˆå§‹èƒ½é‡å‘å³è·³ï¼Œè·³ä¸€æ­¥çš„è·ç¦»ä¸ºèƒ½é‡å¤§å°ã€‚æ ¼å­åˆ†ä¸¤ç§ï¼Œä¸€ç§ç»è¿‡åŠ ä¸€å®šèƒ½é‡å¹¶åå‘ï¼Œå¦ä¸€ç§è‹¥å½“å‰èƒ½é‡å¤§äºä¸€å®šå€¼åˆ™å¯æ°¸ä¹…æ‘§æ¯ï¼Œé—®è·³å‡ºèŒƒå›´æˆ–æ— é™é•¿æ—¶é—´åå¯æ‘§æ¯æ ¼å­ä¸ªæ•°ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸éš¾å‘ç°è‹¥å¿½ç•¥å¢åŠ èƒ½é‡ä¸º &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; çš„è·³æ¿åˆ™æ¯ç»è¿‡ä¸€ä¸ªè·³æ¿å¯è·³è·ç¦»å¢åŠ  &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;ï¼Œæœ€å¤šå¢åŠ åˆ° &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;ï¼Œå¦åˆ™ä¼šè·³å‡ºå»ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°è°ƒå’Œçº§æ•°ï¼Œæ•…ç›´æ¥æ¨¡æ‹Ÿè·³çš„è¿‡ç¨‹ã€‚å”¯ä¸€å¯¼è‡´æ—¶é—´æ— é™çš„æƒ…å†µæ˜¯å­˜åœ¨ç›¸é‚»çš„å¢åŠ èƒ½é‡ä¸º &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; çš„è·³æ¿ï¼Œä½†å…¶å®å®ƒå…·ä½“æ˜¯ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼Œåæ­£æˆ‘ä»¬è·³çš„æ¬¡æ•°ä¸¥æ ¼å¤§äºè°ƒå’Œçº§æ•°åå°±å¯ä»¥è®¤ä¸ºè¿›å…¥æ­»å¾ªç¯ï¼Œç›´æ¥ç»“æŸæ¨¡æ‹Ÿå³å¯ã€‚æˆ‘è¿™é‡Œå«Œéº»çƒ¦ç›´æ¥æ‹¿äº† &lt;span class=&#34;math inline&#34;&gt;\(2\times 10^8\)&lt;/span&gt; ä½œé˜ˆå€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;cu-c.-balancing-bacteria&#34;&gt;Cu C. Balancing Bacteria&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P10133&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P10133&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;çœæµï¼šå®šä¹‰ä¸€æ¬¡æ“ä½œä¸ºé€‰å–ä¸€ä¸ªæ•´æ•° &lt;span class=&#34;math inline&#34;&gt;\(\Delta\le N\)&lt;/span&gt;ï¼Œå¹¶ä» &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; åˆ° &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;ï¼Œä»¤ &lt;span class=&#34;math inline&#34;&gt;\(a_i\gets a_i+\Delta\)&lt;/span&gt; å¹¶ä»¤ &lt;span class=&#34;math inline&#34;&gt;\(\Delta\)&lt;/span&gt; å‘ &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; é è¿‘ &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(\Delta=0\)&lt;/span&gt; æ—¶åœæ­¢ã€‚é—®ä»¤æ‰€æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(a_i=0\)&lt;/span&gt; æ‰€éœ€æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æŒºæœ‰æ„æ€çš„æ€ç»´é¢˜ï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œä¸€ä¸ªæ€ç»´è½¬åŒ–ã€‚&lt;span class=&#34;math inline&#34;&gt;\(\Delta\le N\)&lt;/span&gt; æ˜¯ä¸€ä¸ªåˆ©äºè§£é¢˜çš„é™åˆ¶ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æƒ³è®©ä»»ä½•ä¸€ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt; æ”¹å˜ &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; è€Œä¸å½±å“åˆ°ä¹‹å‰çš„å€¼ï¼Œä»è®© &lt;span class=&#34;math inline&#34;&gt;\(a_1\gets 0\)&lt;/span&gt; å…¥æ‰‹ï¼Œè¿›è¡Œä¸€æ¬¡æ“ä½œåæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt; åˆ†åˆ°çš„ &lt;span class=&#34;math inline&#34;&gt;\(\Delta\)&lt;/span&gt; åº”ä¾æ¬¡åŠ  1 æˆ–ä¾æ¬¡å‡ 1ã€‚åˆ™å·®åˆ†æ•°ç»„ä¸º &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; åè·Ÿç€ä¸€æˆª &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; æ˜¯ç†æƒ³çŠ¶æ€ã€‚ä¸­é—´æ¯æœ‰ä¸€é¡¹ä¸æ»¡è¶³è§„å¾‹éƒ½ä¼šå¸¦æ¥é¢å¤–çš„æ“ä½œæ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å½’çº³ä¸ºå·®åˆ†æ•°ç»„çš„å·®åˆ†æ•°ç»„ç»å¯¹å€¼ä¹‹å’Œå³ä¸ºç­”æ¡ˆã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;ag-a.-cowmpetency&#34;&gt;Ag A. Cowmpetency&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P10134&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P10134&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;çœæµï¼šæœ‰è‹¥å¹²æ¡é™åˆ¶ï¼Œæ¯æ¡å½¢å¦‚ &lt;span class=&#34;math inline&#34;&gt;\(\max\limits_{i=1}^{a_h-1}\{A_i\}=\max\limits_{i=1}^{a_j}\{A_i\}\)&lt;/span&gt; ä¸” &lt;span class=&#34;math inline&#34;&gt;\(A_{a_h}&amp;gt;\max\limits_{i=1}^{a_h-1}\{A_i\}\)&lt;/span&gt;ï¼Œéƒ¨åˆ†æ•°å·²çŸ¥ï¼Œæ„é€ å‡ºç¬¦åˆæ¡ä»¶ä¸”å­—å…¸åºæœ€å°çš„åºåˆ—ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯æœ¬åœºæœ€éš¾é¢˜å§ï¼Œä½†ä¹Ÿæ²¡å•¥å¡çš„ã€‚ç”»ä¸ªçº¿æ®µå›¾å®¹æ˜“å‘ç°ï¼Œè‹¥å°† &lt;span class=&#34;math inline&#34;&gt;\([a,h)\)&lt;/span&gt; è§†ä½œä¸€æ¡çº¿æ®µï¼Œé‚£ä¹ˆé™¤é &lt;span class=&#34;math inline&#34;&gt;\(h\)&lt;/span&gt; ç›¸åŒï¼Œå¦åˆ™ä¸¤æ¡çº¿æ®µä¸èƒ½æœ‰äº¤é›†ã€‚ä¸ç„¶çš„è¯å°±æ— è§£ã€‚ä»¥åŠå¦‚æœå­˜åœ¨ä¸æ»¡è¶³æ¡ä»¶çš„å®šå€¼ä¹Ÿæ˜¾ç„¶æ— è§£ã€‚&lt;/p&gt;
&lt;p&gt;ä»å‰å¾€åçœ‹æ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(h\)&lt;/span&gt; å¹¶å°è¯•èµ‹å€¼ï¼Œå¯¹äºæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(1\sim a\)&lt;/span&gt; è®°å½•ä¸€ä¸ªéœ€è¦æ»¡è¶³çš„æœ€å¤§å€¼æ•°å€¼ï¼ŒæŒ‰ç…§æ­¤æ•°å€¼ä»åå¾€å‰å¡«ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;p&gt;å¡«å®Œè¿‡åæ‰«ä¸€éçœ‹çœ‹æ˜¯ä¸æ˜¯å…¨éƒ¨åˆæ³•ï¼Œå¯ä»¥è¯æ˜è‹¥æ­¤æ—¶ä¸åˆæ³•åˆ™æ— è§£ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ag-b.-potion-farming&#34;&gt;Ag B. Potion Farming&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P10135&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P10135&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;çœæµï¼šä¸€æ£µæ ‘ï¼Œæ¯ä¸ªç‚¹ä¸Šæœ‰è‹¥å¹²ä¸ªç‰©å“ï¼Œå¯¹äºæ¯æ¡ä»æ ¹åˆ°å¶å­çš„ç®€å•è·¯å¾„ï¼Œå¯ä»¥é€‰æ‹©è·¯å¾„ä¸Šçš„ä¸€ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“åªèƒ½è¢«é€‰ä¸€æ¬¡ï¼Œé—®æœ€å¤šå¯é€‰ç‰©å“æ•°ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªç‚¹å¼•å¯¼çš„å­æ ‘ä¸‹æ‰€æœ‰å¶å­æœ‰æ²¡æœ‰åˆ†é…åˆ°çš„ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªç‚¹çš„ç‰©å“åˆ†é…ç»™è¯¥å¶å­ã€‚&lt;/p&gt;
&lt;p&gt;è·‘ä¸€ä¸ªæ ‘å½¢ DP å³å¯ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;namespace XSC062 &amp;#123;
using namespace fastIO;
const int maxn = 1e5 + 5;
int n, x, y;
int cnt[maxn];
std::vector&amp;lt;int&amp;gt; g[maxn];
int a[maxn], f[maxn], p[maxn];
int min(int x, int y) &amp;#123;
    return x &amp;lt; y ? x : y;
&amp;#125;
void DFS(int x, int fa) &amp;#123;
    if ((int)g[x].size() == 1)
        cnt[x] = 1;
    for (auto i : g[x]) &amp;#123;
        if (i == fa) continue;
        DFS(i, x);
        f[x] += f[i];
        cnt[x] += cnt[i];
    &amp;#125;
    if (f[x] &amp;lt; cnt[x])
        f[x] = min(f[x] + a[x], cnt[x]);
    return;
&amp;#125;
void add(int x, int y) &amp;#123;
    g[x].push_back(y);
    return;
&amp;#125;
int main() &amp;#123;
    read(n);
    for (int i = 1; i &amp;lt;= n; ++i) read(p[i]);
    for (int i = 1; i &amp;lt; n; ++i) &amp;#123;
        read(x), read(y);
        add(x, y), add(y, x);
    &amp;#125;
    int tot = 0;
    for (int i = 2; i &amp;lt;= n; ++i)
        tot += ((int)g[i].size() == 1);
    for (int i = 1; i &amp;lt;= tot; ++i) ++a[p[i]];
    DFS(1, -1);
    print(f[1], &amp;#39;\n&amp;#39;);
    return 0;
&amp;#125;
&amp;#125; // namespace XSC062&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;h3 id=&#34;ag-c.-cowlendar&#34;&gt;Ag C. Cowlendar&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P10136&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P10136&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;çœæµï¼šå¯¹äºç»™å®šçš„åºåˆ— &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;ï¼Œæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³ &lt;span class=&#34;math inline&#34;&gt;\(a_i\bmod L\)&lt;/span&gt; çš„å€¼çš„ç§ç±»æœ€å¤šä¸º 3 çš„ &lt;span class=&#34;math inline&#34;&gt;\(L\)&lt;/span&gt;ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿæ˜¯æŒºæœ‰æ„æ€çš„æ•°å­¦é¢˜äº†ã€‚è‹¥å°† &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt; æŒ‰ç…§æ¨¡ &lt;span class=&#34;math inline&#34;&gt;\(L\)&lt;/span&gt; çš„æƒ…å†µåˆ†ç»„ï¼Œåˆ™å¯¹äºä»»æ„ä¸€ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt;ï¼Œåœ¨ &lt;span class=&#34;math inline&#34;&gt;\((a_i,a_i+L)\)&lt;/span&gt; ä¸­æœ€å¤šåŒ…å«ä¸¤ä¸ªåˆ†åˆ«æ¥è‡ªå…¶ä½™ä¸¤ç»„çš„æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå»é‡å &lt;span class=&#34;math inline&#34;&gt;\(n&amp;gt;3\)&lt;/span&gt; çš„æƒ…å†µï¼Œç”±é¸½å·¢å¾—å¿…å®šæœ‰ä¸¤ä¸ªæ•°å¯åˆ†ä¸ºä¸€ç»„ã€‚æ•…æˆ‘ä»¬æšä¸¾å¯èƒ½çš„ç»„é—´é—´éš”ï¼Œè€Œå¯èƒ½çš„ &lt;span class=&#34;math inline&#34;&gt;\(L\)&lt;/span&gt; å°±æ˜¯è¿™äº›é—´éš”çš„å› æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ç”±ä¸Šé¢æˆ‘ä»¬æ¨å‡ºä¸€ä¸ªåˆæ³•ç»„é—´é—´éš”ä¸­æœ€å¤šé—´éš”ä¸‰ä¸ªæ•°ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(a_{i+3}-a_i\)&lt;/span&gt;ã€&lt;span class=&#34;math inline&#34;&gt;\(a_{i+2}-a_i\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\(a_{i+1}-a_i\)&lt;/span&gt; çº³å…¥è€ƒè™‘èŒƒå›´å³å¯ã€‚å¯¹äºæ‰€æœ‰å¯èƒ½çš„ &lt;span class=&#34;math inline&#34;&gt;\(L\)&lt;/span&gt;ï¼Œç›´æ¥ &lt;span class=&#34;math inline&#34;&gt;\(O(n)\)&lt;/span&gt; è·‘ä¸€ä¸ª &lt;code&gt;check&lt;/code&gt; æ£€æŸ¥æ˜¯å¦åˆæ³•ã€‚&lt;/p&gt;
&lt;p&gt;å› å­ä¸ªæ•°ç…§ç†æ¥è¯´æ˜¯ &lt;span class=&#34;math inline&#34;&gt;\(\sqrt{V}\times n\)&lt;/span&gt; çº§åˆ«çš„ï¼Œä½†æ˜¯å®æµ‹ &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; æœ€å¤šåªæœ‰ä¸€ç™¾å¤šã€‚ä¼°è®¡æ˜¯å› ä¸º &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; å¤ªå¤§å°±å¾ˆéš¾æ„é€ å‡ºæ›´å¤šçš„åˆæ³•è§£å§ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#define int long long
namespace XSC062 &amp;#123;
using namespace fastIO;
const int maxn = 1e4 + 5;
const int maxm = 3e4 + 5;
std::set&amp;lt;int&amp;gt; u;
int n, res, mn, tot;
int a[maxn], b[maxm];
bool check(int x) &amp;#123;
    int l1 = 0, l2 = 0, l3 = 0;
    for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
        if (l1 == 0) l1 = a[i];
        else if (x &amp;amp;&amp;amp; (a[i] - l1) % x == 0) l1 = a[i];
        else if (l2 == 0) l2 = a[i];
        else if (x &amp;amp;&amp;amp; (a[i] - l2) % x == 0) l2 = a[i];
        else if (l3 == 0) l3 = a[i];
        else if (x &amp;amp;&amp;amp; (a[i] - l3) % x == 0) l3 = a[i];
        else return 0;
    &amp;#125;
    return 1;
&amp;#125;
int main() &amp;#123;
    read(n);
    for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
        read(a[i]);
        if (!mn || a[i] / 4 &amp;lt; mn) mn = a[i] / 4;
    &amp;#125;
    std::sort(a + 1, a + n + 1);
    n = std::unique(a + 1, a + n + 1) - a - 1;
    if (check(0)) &amp;#123;
        print(mn * (mn + 1) / 2, &amp;#39;\n&amp;#39;);
        return 0;
    &amp;#125;
    for (int i = 2; i &amp;lt;= n; ++i) &amp;#123;
        b[++tot] = a[i] - a[i - 1];
        if (i &amp;gt;= 3) b[++tot] = a[i] - a[i - 2];
        if (i &amp;gt;= 4) b[++tot] = a[i] - a[i - 3];
    &amp;#125;
    std::sort(b + 1, b + tot + 1);
    tot = std::unique(b + 1, b + tot + 1) - b - 1;
    for (int i = 1; i &amp;lt;= tot; ++i) &amp;#123;
        if (check(b[i])) &amp;#123;
            for (int j = 1; j * j &amp;lt;= b[i]; ++j) &amp;#123;
                if (b[i] % j == 0)
                    u.insert(j), u.insert(b[i] / j);
            &amp;#125;
        &amp;#125;
    &amp;#125;
    for (auto i : u) &amp;#123;
        if (i &amp;gt; mn) break;
        res += i;
    &amp;#125;
    print(res, &amp;#39;\n&amp;#39;);
    return 0;
&amp;#125;
&amp;#125; // namespace XSC062
#undef int&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/deteails&gt;&lt;/p&gt;
</content>
        <category term="é¸½å·¢åŸç†" />
        <category term="è°ƒå’Œçº§æ•°" />
        <category term="å·®åˆ†" />
        <category term="æ€ç»´" />
        <category term="æ ‘å½¢ DP" />
        <updated>2024-01-31T02:30:29.000Z</updated>
    </entry>
</feed>
