{
    "version": "https://jsonfeed.org/version/1",
    "title": "null â€¢ All posts by \"æ€ç»´\" tag",
    "description": "",
    "home_page_url": "https://xsc062.netlify.app",
    "items": [
        {
            "id": "https://xsc062.netlify.app/20251023/",
            "url": "https://xsc062.netlify.app/20251023/",
            "title": "å›¾è®ºæ€ç»´é¢˜",
            "date_published": "2025-10-23T03:32:05.000Z",
            "content_html": "<p>äººç±»æ™ºæ…§é¢˜</p>\n<span id=\"more\"></span>\n<hr />\n<h2 id=\"a---train-splitting\">A - Train Splitting</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/CF1776F\" class=\"uri\">https://www.luogu.com.cn/problem/CF1776F</a></p>\n<ul>\n<li>ç¥ç§˜æ„é€ é¢˜ï¼ŒçŒœ <span class=\"math inline\">\\(k=2\\)</span> ä¸€å®šèƒ½æ„é€ </li>\n<li>è€ƒè™‘ç›´æ¥ä»å›¾ä¸ŠæŠ ä¸€ä¸ªç‚¹ä¸‹æ¥ï¼Œä¸ä¹‹ç›¸å…³çš„è¾¹å…¨éƒ¨æŸ“æˆ 1ï¼Œå‰©ä¸‹çš„æŸ“æˆ 2</li>\n<li>å‘ç°å¦‚æœæ°å¥½é€‰ä¸­äº†èŠèŠ±çš„æ ¹å°±ä¸è¡Œï¼›éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåº¦æ•°ä¸ä¸º <span class=\"math inline\">\\(n-1\\)</span> çš„ç‚¹ã€‚é‚£å®Œå…¨å›¾æ€ä¹ˆåŠå‘¢ï¼Œä»æ ¹ä¸ŠæŠ ä¸€æ¡å½“é¢œè‰² 3 å³å¯ã€‚</li>\n</ul>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n    const auto stime = std::chrono::steady_clock::now();\n#endif\n    int T;\n    for (std::cin &gt;&gt; T; T--; ) &#123;\n        int n, m;\n        std::cin &gt;&gt; n &gt;&gt; m;\n        std::vector&lt;int&gt; deg(n + 1);\n        std::vector&lt;std::pair&lt;int, int&gt; &gt; e(m + 1);\n        int pos = -1;\n        for (int i = 1; i &lt;= m; ++i) &#123;\n            std::cin &gt;&gt; e[i].first &gt;&gt; e[i].second;\n            ++deg[e[i].first], ++deg[e[i].second];\n        &#125;\n        for (int i = 1; i &lt;= n; ++i)\n            if (deg[i] != n - 1) &#123;\n                pos = i;\n                break;\n            &#125;\n        if (pos != -1) &#123;\n            std::cout &lt;&lt; 2 &lt;&lt; &#39;\\n&#39;;\n            for (int i = 1; i &lt;= m; ++i)\n                if (e[i].first == pos || e[i].second == pos)\n                    std::cout &lt;&lt; 1 &lt;&lt; &#39; &#39;;\n                else\n                    std::cout &lt;&lt; 2 &lt;&lt; &#39; &#39;;\n            std::cout &lt;&lt; &#39;\\n&#39;;\n        &#125;\n        else &#123;\n            std::cout &lt;&lt; 3 &lt;&lt; &#39;\\n&#39;;\n            pos = 1;\n            bool flag = true;\n            for (int i = 1; i &lt;= m; ++i)\n                if (e[i].first == pos || e[i].second == pos) &#123;\n                    if (flag)\n                        std::cout &lt;&lt; 3 &lt;&lt; &#39; &#39;, flag = false;\n                    else\n                        std::cout &lt;&lt; 1 &lt;&lt; &#39; &#39;;\n                &#125;\n                else\n                    std::cout &lt;&lt; 2 &lt;&lt; &#39; &#39;;\n        &#125;\n    &#125;\n#ifndef ONLINE_JUDGE\n    std::cerr &lt;&lt; std::fixed &lt;&lt; std::setprecision(6) &lt;&lt; std::chrono::duration&lt;double&gt; (std::chrono::steady_clock::now() - stime).count() &lt;&lt; &quot;s\\n&quot;;\n#endif\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"b---graph-partition\">B - Graph Partition</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/AT_agc039_b\" class=\"uri\">https://www.luogu.com.cn/problem/AT_agc039_b</a></p>\n<ul>\n<li>è€ƒè™‘äºŒåˆ†å›¾æŸ“è‰²ä»€ä¹ˆæ—¶å€™ä¸è¡Œï¼Œå³æœ‰å¥‡ç¯æ—¶</li>\n<li>è€ƒè™‘æœ‰å¤šå°‘ç§é¢œè‰²æ—¶èƒ½æŸ“å¥‡ç¯ï¼Œå‘ç°éƒ½ä¸è¡Œï¼Œæ•…äºŒåˆ†å›¾æŸ“è‰²å³å¯åˆ¤å®šã€‚</li>\n<li><p>çœŸçš„åªæœ‰ç»¿å—ï¼Ÿè§‚å¯Ÿæ ·ä¾‹ï¼ŒçŒœæµ‹ç­”æ¡ˆä¸ºå›¾çš„ç›´å¾„ã€‚è€ƒè™‘æ„é€ ï¼š</p>\n<p>æšä¸¾æ¯ä¸ªç‚¹å¹¶é’¦å®šå…¶ä¸ºå”¯ä¸€ä¸€ä¸ª <span class=\"math inline\">\\(1\\)</span>ï¼Œç„¶åä¾æ¬¡å‘ä¸‹æŸ“è‰²ã€‚æ˜¾ç„¶æœ€åæ„é€ å‡ºæ¥çš„æ˜¯åˆæ³•çš„ã€‚æœ€å¤§ä¸ºç›´å¾„é•¿åº¦ + 1ã€‚</p>\n<p>ä¹Ÿå¯ä»¥ä»å·®åˆ†çº¦æŸçš„è§’åº¦ç†è§£ï¼Œä½†æ— ç”šå¿…è¦ã€‚</p></li>\n</ul>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n    const auto stime = std::chrono::steady_clock::now();\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1), g1(n + 1, std::vector&lt;int&gt; (n + 1, 0x3f3f3f3f));\n    for (int i = 1; i &lt;= n; ++i) &#123;\n        g1[i][i] = 0;\n        for (int j = 1; j &lt;= n; ++j) &#123;\n            char t;\n            std::cin &gt;&gt; t;\n            if (t == &#39;1&#39;)\n                g[i].push_back(j), g1[i][j] = 1;\n        &#125;\n    &#125;\n    std::vector&lt;int&gt; col(n + 1);\n    std::function&lt;bool(int, int)&gt; DFS = [&amp;](int x, int now) &#123;\n        col[x] = now;\n        for (auto i : g[x])\n            if (!col[i]) &#123;\n                if (!DFS(i, 3 - now))\n                    return false;\n            &#125;\n            else if (col[i] == now)\n                return false;\n        return true;\n    &#125;;\n    if (!DFS(1, 1))\n        std::cout &lt;&lt; -1 &lt;&lt; &#39;\\n&#39;;\n    else &#123;\n        for (int k = 1; k &lt;= n; ++k)\n            for (int i = 1; i &lt;= n; ++i)\n                for (int j = 1; j &lt;= n; ++j)\n                    g1[i][j] = std::min(g1[i][j], g1[i][k] + g1[k][j]);\n        int mx = 0;\n        for (int i = 1; i &lt;= n; ++i)\n            for (int j = 1; j &lt;= n; ++j)\n                mx = std::max(mx, g1[i][j] + 1);\n        std::cout &lt;&lt; mx &lt;&lt; &#39;\\n&#39;;\n    &#125;\n#ifndef ONLINE_JUDGE\n    std::cerr &lt;&lt; std::fixed &lt;&lt; std::setprecision(6) &lt;&lt; std::chrono::duration&lt;double&gt; (std::chrono::steady_clock::now() - stime).count() &lt;&lt; &quot;s\\n&quot;;\n#endif\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"c---strange-housing\">C - Strange Housing</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/CF1470D\" class=\"uri\">https://www.luogu.com.cn/problem/CF1470D</a></p>\n<ul>\n<li>ç¬¬ä¸€ååº”æ˜¯éšä¾¿æ‰¾ä¸€ä¸ªç”Ÿæˆæ ‘ç„¶åäºŒåˆ†å›¾æŸ“è‰²ï¼Œä½†æ˜¯å‘ç°æœ‰å½“ä¸”ä»…å½“å¥‡ç¯æ—¶è¡Œä¸ºä¸å¤ªæ­£ç¡®</li>\n<li>è€ƒè™‘æ‰“ä¸ªè¡¥ä¸ï¼ŒæŠ›å¼ƒäºŒåˆ†å›¾æŸ“è‰²çš„æƒ³æ³•ï¼Œä¸æ–­å°è¯•æŸ“æˆé»‘è‰²ï¼Œå¦‚æœæŸ“äº†ä¸‹ä¸€ä¸ªç‚¹ä¼šå‡ºç°é»‘é»‘è¾¹ï¼Œé‚£å°±ä¸æŸ“å®ƒï¼Œå¯¹å¾—æ¯”è¾ƒæ˜¾ç„¶ã€‚</li>\n<li>å½“ä¸”ä»…å½“ä¸è¿é€šæ—¶æ— è§£ã€‚</li>\n</ul>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n    const auto stime = std::chrono::steady_clock::now();\n#endif\n    int T;\n    for (std::cin &gt;&gt; T; T--; ) &#123;\n        int n, m;\n        std::cin &gt;&gt; n &gt;&gt; m;\n        std::vector&lt;int&gt; f(n + 1);\n        std::iota(f.begin() + 1, f.end(), 1);\n        std::function&lt;int(int)&gt; find = [&amp;](int x) &#123;\n            return x == f[x] ? x : f[x] = find(f[x]);\n        &#125;;\n        std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1), g1(n + 1);\n        int cnt = 0;\n        for (int x, y; m--; ) &#123;\n            std::cin &gt;&gt; x &gt;&gt; y;\n            g1[x].push_back(y), g1[y].push_back(x);\n            if (find(x) != find(y)) &#123;\n                f[find(x)] = find(y);\n                ++cnt, g[x].push_back(y), g[y].push_back(x);\n            &#125;\n        &#125;\n        if (cnt != n - 1) &#123;\n            std::cout &lt;&lt; &quot;NO\\n&quot;;\n            continue;\n        &#125;\n        std::vector&lt;int&gt; col(n + 1);\n        std::function&lt;void(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n            for (auto i : g[x])\n                if (i != fa) &#123;\n                    bool flag = true;\n                    for (auto j : g1[i])\n                        if (col[j] == 2) &#123;\n                            flag = false;\n                            break;\n                        &#125;\n                    if (flag)\n                        col[i] = 2;\n                    else\n                        col[i] = 1;\n                    DFS(i, x);\n                &#125;\n            return;\n        &#125;;\n        col[1] = 2, DFS(1, -1);\n        std::vector&lt;int&gt; res;\n        for (int i = 1; i &lt;= n; ++i)\n            if (col[i] == 2)\n                res.push_back(i);\n        std::cout &lt;&lt; &quot;YES\\n&quot; &lt;&lt; (int)res.size() &lt;&lt; &#39;\\n&#39;;\n        for (auto i : res)\n            std::cout &lt;&lt; i &lt;&lt; &#39; &#39;;\n        std::cout &lt;&lt; &#39;\\n&#39;;\n    &#125;\n#ifndef ONLINE_JUDGE\n    std::cerr &lt;&lt; std::fixed &lt;&lt; std::setprecision(6) &lt;&lt; std::chrono::duration&lt;double&gt; (std::chrono::steady_clock::now() - stime).count() &lt;&lt; &quot;s\\n&quot;;\n#endif\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"d---defender-of-childhood-dreams\">D - Defender of Childhood Dreams</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/CF1583F\" class=\"uri\">https://www.luogu.com.cn/problem/CF1583F</a></p>\n<ul>\n<li>è€ƒè™‘æŠŠæ¯è¿ç»­ <span class=\"math inline\">\\(k\\)</span> ä¸ªç‚¹åˆ†ä¸ºä¸€ä¸ªä¸€çº§ç»„ï¼Œæ¯ä¸ªä¸€çº§ç»„å†…å…¨éƒ¨è¿ <span class=\"math inline\">\\(1\\)</span> è¾¹ã€‚æ˜¾ç„¶ç»„å†…è¾¹æœ€é•¿ä¸è¶…è¿‡ <span class=\"math inline\">\\(k-1\\)</span>ã€‚</li>\n<li>æ¥ç€æŠŠæ¯è¿ç»­ <span class=\"math inline\">\\(k\\)</span> ä¸ªä¸€çº§ç»„åˆ†ä¸ºä¸€ä¸ªäºŒçº§ç»„ï¼ŒäºŒçº§ç»„å†…ç©ºé—²è¾¹å…¨éƒ¨æ¶‚æˆé¢œè‰² <span class=\"math inline\">\\(2\\)</span>ã€‚æ­¤æ—¶ <span class=\"math inline\">\\(a&lt;b\\)</span> çš„æ¡ä»¶å°±ä¼šæ´¾ä¸Šç”¨åœºâ€”â€”æ¯ä¸ªä¸€çº§ç»„çš„å€¼åŸŸæ˜¯æ²¡æœ‰äº¤çš„ï¼Œä¸€çº§ç»„ä¹‹é—´çš„è¾¹éƒ½æ˜¯åŒä¸€ä¸ªæœå‘ã€‚è¿™æ ·å°±ä¿è¯ç”±é¢œè‰²ä¸º <span class=\"math inline\">\\(2\\)</span> çš„è¾¹æ„æˆçš„è¿é“¾æ¥è‡ªä¸åŒçš„ä¸€çº§ç»„ï¼Œé•¿åº¦æœ€å¤šä¸º <span class=\"math inline\">\\(k-1\\)</span>ã€‚</li>\n<li>ä¾æ¬¡ç±»æ¨ï¼Œ<span class=\"math inline\">\\(i\\)</span> çº§ç»„æ˜¯å¤§å°ä¸º <span class=\"math inline\">\\(k^i\\)</span> çš„å›¢ï¼Œæ•… <span class=\"math inline\">\\(i\\)</span> æœ€å¤§ä¸º <span class=\"math inline\">\\(\\left\\lceil \\log_kn\\right\\rceil\\)</span>ã€‚</li>\n<li>æŒ‰ä¸Šè¿°æµç¨‹æ„é€ ï¼Œå³å¯ <span class=\"math inline\">\\(O(n^2)\\)</span> å®Œæˆã€‚</li>\n</ul>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n    const auto stime = std::chrono::steady_clock::now();\n#endif\n    int n, k;\n    std::cin &gt;&gt; n &gt;&gt; k;\n    using arr = std::vector&lt;int&gt;;\n    using brr = std::vector&lt;arr&gt;;\n    brr pos;\n    for (int i = 1; i &lt;= n; ++i)\n        pos.push_back(&#123; i &#125;);\n    brr g(n + 1, arr(n + 1));\n    std::function&lt;void(brr&amp;, int)&gt; calc = [&amp;](brr &amp;pos, int now) &#123;\n        if ((int)pos.size() == 1) &#123;\n            std::cout &lt;&lt; now &lt;&lt; &#39;\\n&#39;;\n            for (int i = 1; i &lt;= n; ++i)\n                for (int j = i + 1; j &lt;= n; ++j)\n                    std::cout &lt;&lt; g[i][j] &lt;&lt; &#39; &#39;;\n            std::cout &lt;&lt; &#39;\\n&#39;;\n            return;\n        &#125;\n        brr p;\n        ++now;\n        for (int i = 0; i &lt; (int)pos.size(); i += k) &#123;\n            p.emplace_back();\n            for (int j = i; j &lt; i + k &amp;&amp; j &lt; (int)pos.size(); ++j) &#123;\n                for (auto a : p.back())\n                    for (auto b : pos[j])\n                        g[a][b] = now;\n                for (auto b : pos[j])\n                    p.back().push_back(b);\n            &#125;\n        &#125;\n        calc(p, now);\n        return;\n    &#125;;\n    calc(pos, 0);\n#ifndef ONLINE_JUDGE\n    std::cerr &lt;&lt; std::fixed &lt;&lt; std::setprecision(6) &lt;&lt; std::chrono::duration&lt;double&gt; (std::chrono::steady_clock::now() - stime).count() &lt;&lt; &quot;s\\n&quot;;\n#endif\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"e---edge-split\">E - Edge Split</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/CF1726D\" class=\"uri\">https://www.luogu.com.cn/problem/CF1726D</a></p>\n<ul>\n<li>é¢˜æ„æœ‰äº›è®¸æ­§ä¹‰ï¼Œã€çº¢è‰²è¿é€šå—ã€å…¶å®æ˜¯æŒ‡åˆ æ‰è“è¾¹ä¹‹åçš„è¿é€šå—ã€‚è€ƒè™‘åˆ° <span class=\"math inline\">\\(m\\le n+2\\)</span> è€Œä¸æ˜¯æ›´å¤šï¼Œè€ƒè™‘ç›´æ¥åˆ†è®¨ã€‚</li>\n<li>è€ƒè™‘æ ‘çš„æƒ…å†µï¼Œå¯¹äºä»»æ„é¢œè‰²ï¼Œåˆ ä¸€æ¡è¾¹å°±ä¼šå¸¦æ¥ <span class=\"math inline\">\\(1\\)</span> ä¸ªè¿é€šå—çš„ä»£ä»·ï¼Œéšä¾¿æŸ“è‰²å³å¯ã€‚</li>\n<li><p>è€ƒè™‘åŸºç¯æ ‘çš„æƒ…å†µï¼Œå‘ç°å¦‚æœç¯ä¸Šæœ‰æŸä¸ªé¢œè‰²ï¼Œé‚£ä¹ˆé’¦å®šè¿™ä¸ªé¢œè‰²ç¬¬ä¸€æ¬¡åˆ è¾¹åˆ çš„æ˜¯ç¯è¾¹ï¼Œå°±ä¼šå‘ç°ç¬¬ä¸€æ¬¡åˆ è¾¹ä¸ä¼šæœ‰ä»£ä»·ï¼Œæ•…å¼ºåˆ¶ç¯ä¸Šæœ‰ä¸¤ç§é¢œè‰²å³å¯ã€‚</p>\n<p>è€ƒè™‘ <span class=\"math inline\">\\(m=n+1\\)</span> çš„æƒ…å†µï¼Œç¯å¯èƒ½æœ‰ä¸‹é¢ä¸‰ç§å½¢æ€ï¼š</p>\n<p><img src=\"image.png\" /></p>\n<p>å¯¹äºç¬¬ä¸€ã€äºŒç§ï¼Œä¿è¯ä¸¤ä¸ªç¯ä¸Šéƒ½æœ‰ä¸¤ç§é¢œè‰²å³å¯ï¼Œç¬¬ä¸‰ç§ä¹ä¸€çœ‹æœ‰ç‚¹å¤æ‚ï¼Œå…¶å®è¿˜æ˜¯ä¸€æ ·çš„ï¼Œä¿è¯ä¸¤ä¸ªç¯éƒ½æœ‰ä¸¤ç§é¢œè‰²å³å¯ï¼Œè¿™æ ·ä¸‰ä¸ªç¯æ˜¾ç„¶éƒ½ä¼šæœ‰ä¸¤ç§é¢œè‰²ã€‚ç«™åœ¨ä¸é¥±å’Œåº¦çš„è§’åº¦ï¼Œç¬¬ä¸‰ä¸ªç¯å…¶å®æ˜¯æ— æ„ä¹‰çš„ã€‚</p></li>\n<li><p>ç”±æ­¤ç±»æ¨ <span class=\"math inline\">\\(m=n+2\\)</span> çš„æƒ…å†µï¼Œå‘ç°åªéœ€è¦åœ¨å¹¶æŸ¥é›†è¿è¾¹æ—¶ä»¤æ ‘è¾¹ä¸ºè“ï¼Œåç¥–è¾¹ä¸ºçº¢å³å¯ã€‚å‘ç°è¿™æ ·ä¼šä¸”ä»…ä¼šåœ¨ç¬¬ä¸€ç»„æ ·ä¾‹çš„æƒ…å†µå‡ºé—®é¢˜ï¼š</p>\n<figure>\n<img src=\"image-1.png\" alt=\"å¦‚æœä¸­é—´çš„ä¸‰è§’å½¢åœ¨æœ€åè¾“å…¥å°±ä¸èƒ½å¾—åˆ°æœ€ä¼˜è§£\" /><figcaption>å¦‚æœä¸­é—´çš„ä¸‰è§’å½¢åœ¨æœ€åè¾“å…¥å°±ä¸èƒ½å¾—åˆ°æœ€ä¼˜è§£</figcaption>\n</figure>\n<p>æ€ä¹ˆå¤„ç†è¿™ä¸ªé—®é¢˜å‘¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äººç±»æ™ºæ…§ï¼Œå‘ç°è¿™ç§æƒ…å†µæœ€åä¸‰æ¡çº¢è¾¹æ„æˆä¸‰è§’å½¢ï¼Œæˆ‘ä»¬åªè¦å‘ç°æ„é€ å‡ºæ¥çš„è§£æ˜¯è¿™æ ·çš„ä¸‰è§’å½¢ï¼Œç”±äºé€ æˆè¿™ä¸€ç‚¹çš„é¡ºåºå¾ˆè‹›åˆ»ï¼Œæ•…ä¸€ç›´ <code>random_shuffle</code> è¾“å…¥ï¼Œç»§ç»­æ„é€ ç›´åˆ°åˆæ³•å³å¯ã€‚</p>\n<p>ï¼ˆï¼Ÿæ€ä¹ˆæœ€ä¼˜è§£å…¨æ˜¯è¿™ä¹ˆåšçš„ï¼Œæˆ‘è¿˜ä»¥ä¸ºåªæœ‰æˆ‘ä¸€ä¸ªäººä¼šä¹±æã€‚ï¼‰</p></li>\n<li><p>å½“ä¸é¥±å’Œåº¦ä¸º 4 çš„æ—¶å€™å°±ä¼šå‡ºç°è¿™ç§ç»“æ„ï¼š</p>\n<p><img src=\"image-2.png\" /></p>\n<p>æ­¤æ—¶æŒ‰ç…§åˆšåˆšçš„æ–¹æ³•å°±ä¸€å®šæ„é€ ä¸å‡ºåˆæ³•è§£äº†ã€‚è¿™æˆ–è®¸ä¹Ÿæ˜¯ <span class=\"math inline\">\\(m\\le n+2\\)</span> çš„åŸå› ã€‚</p></li>\n</ul>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n    const auto stime = std::chrono::steady_clock::now();\n#endif\n    std::mt19937 rand(0xabcdef);\n    int T;\n    for (std::cin &gt;&gt; T; T--; ) &#123;\n        int n, m;\n        std::cin &gt;&gt; n &gt;&gt; m;\n        std::vector&lt;int&gt; res(m + 1);\n        std::vector&lt;std::tuple&lt;int, int, int&gt; &gt; e(m + 1);\n        for (int i = 1, x, y; i &lt;= m; ++i) &#123;\n            std::cin &gt;&gt; x &gt;&gt; y;\n            e[i] = &#123; x, y, i &#125;;\n        &#125;\n        auto work = [&amp;](std::vector&lt;std::tuple&lt;int, int, int&gt; &gt; &amp;e) &#123;\n            std::vector&lt;int&gt; f(n + 1);\n            std::iota(f.begin() + 1, f.end(), 1);\n            std::function&lt;int(int)&gt; find = [&amp;](int x) &#123;\n                return x == f[x] ? x : f[x] = find(f[x]);\n            &#125;;\n            std::set&lt;int&gt; t;\n            for (int i = 1; i &lt;= m; ++i) &#123;\n                auto [x, y, id] = e[i];\n                if (find(x) == find(y)) &#123;\n                    t.insert(x), t.insert(y);\n                    res[id] = 1;\n                &#125;\n                else &#123;\n                    res[id] = 0;\n                    f[find(x)] = find(y);\n                &#125;\n            &#125;\n            return (int)t.size() != 3;\n        &#125;;\n        for (; !work(e); std::shuffle(e.begin() + 1, e.end(), rand));\n        for (int i = 1; i &lt;= m; ++i)\n            std::cout &lt;&lt; res[i];\n        std::cout &lt;&lt; &#39;\\n&#39;;\n    &#125;\n#ifndef ONLINE_JUDGE\n    std::cerr &lt;&lt; std::fixed &lt;&lt; std::setprecision(6) &lt;&lt; std::chrono::duration&lt;double&gt; (std::chrono::steady_clock::now() - stime).count() &lt;&lt; &quot;s\\n&quot;;\n#endif\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"f---fair-share\">F - Fair Share</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/CF1634E\" class=\"uri\">https://www.luogu.com.cn/problem/CF1634E</a></p>\n",
            "tags": [
                "æ€ç»´"
            ]
        },
        {
            "id": "https://xsc062.netlify.app/20250717/",
            "url": "https://xsc062.netlify.app/20250717/",
            "title": "ç»ƒä¹  æ ‘çš„å„ç§æ€§è´¨ II",
            "date_published": "2025-07-17T13:09:13.000Z",
            "content_html": "<p>å¥½åƒç¡®å®æ¯”æ–œä¼˜åšç€èˆ’æœã€‚</p>\n<span id=\"more\"></span>\n<hr />\n<h2 id=\"a---perfect-matching-on-a-tree\">A - Perfect Matching on a Tree</h2>\n<p><a href=\"https://atcoder.jp/contests/abc362/tasks/abc362_f\" class=\"uri\">https://atcoder.jp/contests/abc362/tasks/abc362_f</a></p>\n<p>è‚¯å®šç›´æ¥çŒœä»¥é‡å¿ƒä¸ºæ ¹ã€‚</p>\n<p>è‡³äºå’‹æ±‚ç­”æ¡ˆï¼Œï¼ˆæ˜¾ç„¶å€¼æ˜¯æ‰€æœ‰ç‚¹çš„æ·±åº¦ä¹‹å’Œï¼‰ï¼Œè¿™ä¸ªæˆ‘å»å¹´åœ¨åœºä¸Šè¢«å¡ä½äº†ï¼Œè¿˜æ˜¯å¤ªèœäº†ã€‚å…¶å®æ˜¯æ‘©å°”æŠ•ç¥¨æ¿å­ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    for (int i = 1, x, y; i &lt; n; ++i) &#123;\n        std::cin &gt;&gt; x &gt;&gt; y;\n        g[x].push_back(y), g[y].push_back(x);\n    &#125;\n    std::vector&lt;int&gt; siz(n + 1);\n    int rt = 0;\n    std::function&lt;void(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n        siz[x] = 1;\n        bool flag = 1;\n        for (auto i : g[x])\n            if (i != fa) &#123;\n                DFS(i, x);\n                siz[x] += siz[i];\n                if (siz[i] &gt; n / 2)\n                    flag = 0;\n            &#125;\n        if (flag &amp;&amp; n - siz[x] &lt;= n / 2)\n            rt = x;\n        return;\n    &#125;;\n    DFS(1, -1);\n    std::vector&lt;std::vector&lt;int&gt; &gt; t(n + 1);\n    for (auto i : g[rt]) &#123;\n        DFS = [&amp;](int x, int fa) &#123;\n            t[i].push_back(x);\n            for (auto i : g[x])\n                if (i != fa)\n                    DFS(i, x);\n            return;\n        &#125;;\n        DFS(i, rt);\n    &#125;\n    std::deque&lt;int&gt; p1, p2;\n    int to = n / 2;\n    for (auto i : g[rt]) &#123;\n        auto &amp;q1 = (p1.size() &gt; p2.size() ? p2 : p1), &amp;q2 = (p1.size() &gt; p2.size() ? p1 : p2);\n        for (; !t[i].empty() &amp;&amp; (int)q1.size() &lt; to; q1.push_back(t[i].back()), t[i].pop_back());\n        for (; !t[i].empty() &amp;&amp; (int)q2.size() &lt; to; q2.push_front(t[i].back()), t[i].pop_back());\n    &#125;\n    if (n % 2 == 0)\n        (p1.size() &lt; p2.size() ? p1 : p2).push_back(rt);\n    for (; to--; ) &#123;\n        std::cout &lt;&lt; p1.back() &lt;&lt; &#39; &#39; &lt;&lt; p2.back() &lt;&lt; &#39;\\n&#39;;\n        p1.pop_back(), p2.pop_back();\n    &#125;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"b---miracle-tree\">B - Miracle Tree</h2>\n<p><a href=\"https://atcoder.jp/contests/arc117/tasks/arc117_d\" class=\"uri\">https://atcoder.jp/contests/arc117/tasks/arc117_d</a></p>\n<p>å®¹æ˜“å‘ç°ä»»å– <span class=\"math inline\">\\(a,b,c\\)</span> ä¸‰ç‚¹ï¼Œç”±äºå®ƒä»¬ä¹‹é—´åªæœ‰ä¸€æ¡ç®€å•è·¯å¾„ï¼Œå¯ä»¥è§†ä¸ºä¸€æ¡çº¿æ®µï¼Œå³é€€åŒ–çš„ä¸‰è§’å½¢ã€‚é‚£ä¹ˆç”±ä¸‰è§’å½¢ä¸‰è¾¹å…³ç³»ï¼Œä»»å–ä¸¤è¾¹ä¹‹å’Œéƒ½å¤§äºç­‰äºç¬¬ä¸‰è¾¹ã€‚</p>\n<p>ä¸å¦¨ä»¤ <span class=\"math inline\">\\(E(a)&gt;E(b)&gt;E(c)\\)</span>ï¼Œä»¥ <span class=\"math inline\">\\(d(b,a)+d(b,c)\\ge d(a,c)\\)</span> ä¸¾ä¾‹ï¼Œæœ‰ <span class=\"math inline\">\\(E(a)-E(b)+E(b)-E(c)\\ge d(a,c)\\)</span> æˆç«‹ï¼›å³ï¼Œè‹¥ <span class=\"math inline\">\\((b,a)\\)</span> å’Œ <span class=\"math inline\">\\((b,c)\\)</span> åˆ†åˆ«å·²ç»æ‰¾åˆ°å¯è¡Œè§£ï¼Œåˆ™ <span class=\"math inline\">\\((a,c)\\)</span> åˆæ³•ã€‚</p>\n<p>ä»è€Œæ¨æ–­å‡ºï¼ŒæŒ‰ç‚¹æƒå°†æ‰€æœ‰ç‚¹ä»å°åˆ°å¤§æ’åºåï¼Œåªéœ€è®©ä»»æ„ç›¸é‚»ä¸¤ç‚¹åˆæ³•ï¼Œåˆ™å…¨æ ‘åˆæ³•ã€‚æ˜“å‘ç°ç­”æ¡ˆæ˜¯æ‰€æœ‰ç›¸é‚»ä¸¤ç‚¹ <span class=\"math inline\">\\(dis\\)</span> ä¹‹å’Œï¼›ä¹Ÿå³ï¼Œä»ä»»æ„ä¸€ç‚¹å‡ºå‘ï¼Œç»è¿‡å…¨æ ‘æ‰€æœ‰ç‚¹çš„è·¯å¾„å’Œã€‚è¿™ç§é—®é¢˜æˆ‘ä»¬å¾ˆç†Ÿæ‚‰ï¼Œç”±æ¬§æ‹‰åºå¯çŸ¥æ˜¯ä» <span class=\"math inline\">\\(2(n-1)\\)</span> ä¸ª <span class=\"math inline\">\\(w\\)</span> ä¸­æŠ èµ°ä¸€æ®µè·¯å¾„é•¿ï¼ˆç»ˆç‚¹åˆ°èµ·ç‚¹ï¼‰ã€‚æƒ³è¦æœ€å°åŒ–ç­”æ¡ˆå°±è¦æœ€å¤§åŒ–è¿™æ®µè·¯å¾„é•¿ï¼Œå–ç›´å¾„å³å¯ã€‚</p>\n<p>æœ€åçš„ç­”æ¡ˆåºåˆ—æŒ‰ç…§æ¬§æ‹‰åºç›´æ¥æ±‚å³å¯ï¼ˆæ³¨æ„ç›´å¾„çš„ç«¯ç‚¹è¦åœ¨åºåˆ—ä¸¤ç«¯ï¼‰ï¼Œå®ç°ä¸Šåº”è¯¥å¯ä»¥æœ‰ä¸€äº› <span class=\"math inline\">\\(O(n)\\)</span> å°å·§æ€ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    for (int i = 1, x, y; i &lt; n; ++i) &#123;\n        std::cin &gt;&gt; x &gt;&gt; y;\n        g[x].push_back(y), g[y].push_back(x);\n    &#125;\n    std::vector&lt;int&gt; dep(n + 1);\n    std::function&lt;void(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n        for (auto i : g[x])\n            if (i != fa) &#123;\n                dep[i] = dep[x] + 1;\n                DFS(i, x);\n            &#125;\n        return;\n    &#125;;\n    dep[1] = 1, DFS(1, -1);\n    int p = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();\n    dep[p] = 1, DFS(p, -1);\n    int q = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();\n    std::vector&lt;int&gt; tag(n + 1);\n    std::function&lt;bool(int, int)&gt; DFS1 = [&amp;](int x, int fa) &#123;\n        if (x == q) &#123;\n            tag[x] = 1;\n            return true;\n        &#125;\n        for (auto i : g[x])\n            if (i != fa &amp;&amp; DFS1(i, x)) &#123;\n                tag[x] = 1;\n                return true;\n            &#125;\n        return false;\n    &#125;;\n    DFS1(p, -1);\n    std::vector&lt;int&gt; res(n + 1);\n    DFS = [&amp;](int x, int fa) &#123;\n        static int now = 1;\n        int son = 0;\n        if (x != p)\n            res[x] = now;\n        for (auto i : g[x])\n            if (i != fa) &#123;\n                if (tag[i])\n                    son = i;\n                else\n                    ++now, DFS(i, x), ++now;\n            &#125;\n        if (son)\n            ++now, DFS(son, x); // å›ä¸æ¥äº†ï¼Œæ•…å¯ä»¥ä¸åŠ  ;-)\n        return;\n    &#125;;\n    res[p] = 1, DFS(p, -1);\n    for (int i = 1; i &lt;= n; ++i)\n        std::cout &lt;&lt; res[i] &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"c---æ ‘çš„è®¡æ•°\">C - æ ‘çš„è®¡æ•°</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/P1232\" class=\"uri\">https://www.luogu.com.cn/problem/P1232</a></p>\n<p>éœ€è¦æ„è¯†åˆ° DFS å’Œ BFS åœ°ä½æ˜¯ä¸ç­‰ä»·çš„ï¼šäºŒè€…éƒ½æœ‰è‡ªå·±ç›¸åº”çš„æ€§è´¨ï¼Œä½† BFS çš„æ·±åº¦æ€§è´¨æ›´æ˜“äºä¸Šæ‰‹ã€‚</p>\n<p>ä¸å¦¨è¿›è¡Œé‡æ ‡å·ï¼Œä»¤ BFS åºä¸º <span class=\"math inline\">\\(1\\sim n\\)</span>ã€‚å¯ä»¥åœ¨ BFS ä¸­ä¸æ–­è¿›è¡Œã€åˆ†å±‚ã€å¾—åˆ°ç‚¹çš„æ·±åº¦ä¿¡æ¯ã€‚å‘ç° <span class=\"math inline\">\\(1\\)</span> åå¿…é¡»åˆ†å‰²ä¸€æ¬¡ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰ BFS åºæœ¬èº«å¸¦æ¥çš„é™åˆ¶ã€‚è€ƒè™‘ DFS åºå¯¹æ·±åº¦å¸¦æ¥çš„é¢å¤–é™åˆ¶ï¼š</p>\n<ul>\n<li>å¯¹äº <span class=\"math inline\">\\(D_i\\)</span> å’Œ <span class=\"math inline\">\\(D_{i+1}\\)</span>ï¼Œåˆ™ <span class=\"math inline\">\\(D_{i+1}\\)</span> çš„æ’å…¥ä½ç‚¹ä½äº <span class=\"math inline\">\\(1\\sim D_i\\)</span> çš„é“¾ä¸Šï¼Œåˆ™ <span class=\"math inline\">\\(dep_{D_{i+1}}\\le dep_{D_i}+1\\)</span>ï¼Œå³ BFS åºä¸­ï¼Œ<span class=\"math inline\">\\([D_i,D_{i+1})\\)</span> é—´æœ‰è‡³å¤šä¸€ä¸ªåˆ†æ®µç‚¹ã€‚</li>\n<li>è™½ç„¶é¢˜é¢æ²¡è¯´ï¼Œä½†æ˜¯è¿™é‡Œ BFS å’Œ DFS éå†å„¿å­çš„é¡ºåºæ˜¯ç›¸åŒçš„ï¼›ç”±äºåœ¨ BFS åºä¸­ <span class=\"math inline\">\\(i\\)</span> å…ˆäº <span class=\"math inline\">\\(i+1\\)</span> è¢«éå†ï¼Œï¼ˆç”±äº <span class=\"math inline\">\\(dep_i\\le dep_{i+1}\\le dep_i+1\\)</span>ï¼‰ï¼Œæ•…è€Œè‹¥ <span class=\"math inline\">\\(dep_i= dep_{i+1}\\)</span>ï¼Œåˆ™ DFS å…ˆéå† <span class=\"math inline\">\\(i\\)</span>ï¼›åä¹‹ï¼Œè‹¥ DFS åºä¸­ <span class=\"math inline\">\\(i+1\\)</span> æ—©äº <span class=\"math inline\">\\(i\\)</span> å‡ºç°ï¼ŒBFS åºä¸­ <span class=\"math inline\">\\(i\\)</span> å¤„å¿…é¡»åˆ†å±‚ã€‚</li>\n</ul>\n<p>åˆ™å¾—åˆ°è‹¥å¹²æ¡é™åˆ¶ï¼Œå½¢å¦‚æŸå¤„å¿…é¡»æ–­ã€æŸåŒºé—´å¿…é¡»æ°å¥½æ–­ä¸€æ¬¡ä¹‹ç±»ã€‚å‘ç°æ¯”è¾ƒéš¾å¤„ç†çš„æ˜¯åŒºé—´å†…æ²¡æœ‰è¦æ±‚ã€æŸä¸ªç‚¹å¿…é¡»æ–­ã€çš„æƒ…å†µï¼›<del>å¯ä»¥å·®åˆ†çº¦æŸ</del> æƒŠè®¶åœ°å‘ç°ï¼Œè¿™ç§æƒ…å†µä¸‹æœ‰ <span class=\"math inline\">\\(D_{i+1}=D_i+1\\)</span>ï¼ˆå¯ä»¥è€ƒå¯Ÿç¬¬ä¸€ä¸ªæ»¡è¶³ <span class=\"math inline\">\\(D_i\\ne i\\)</span> çš„ç‚¹æ¥æ€è€ƒï¼‰ã€‚è¿™ç‚¹å…¶å®æ˜¯æ¯”è¾ƒéš¾è®ºè¯çš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ²¡æœ‰æƒ³å¾—å¾ˆæ¸…æ¥šï¼›å¥½åœ¨ä¿¡æ¯ä¹Ÿä¸æ˜¯å¾ˆè¦æ±‚è¯æ˜è¿™ä¸€å—å°±æ˜¯äº†ã€‚</p>\n<p>ç”¨å·®åˆ†å¤„ç†ã€æ°å¥½ä¸€æ¬¡ã€çš„é™åˆ¶ï¼Œæ ‡è®°æŸäº›ç‚¹ä¸èƒ½æ–­ã€‚åˆå§‹é«˜åº¦ä¸º <span class=\"math inline\">\\(1\\)</span>ï¼›æ¯æ¬¡ã€å¿…é¡»åˆ†æ®µã€ä¼šå¸¦æ¥ <span class=\"math inline\">\\(1\\)</span> çš„é«˜åº¦ï¼›æ¯æ¬¡ã€å¯èƒ½åˆ†æ®µã€ä¼šå¸¦æ¥ <span class=\"math inline\">\\(0.5\\)</span> çš„é«˜åº¦ã€‚åŠ èµ·æ¥å°±å¯ä»¥äº†ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;P1232_2.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;int&gt; d(n + 1), b(n + 1), p(n + 1);\n    for (int i = 1; i &lt;= n; ++i)\n        std::cin &gt;&gt; d[i];\n    for (int i = 1; i &lt;= n; ++i)\n        std::cin &gt;&gt; b[i], p[b[i]] = i;\n    for (int i = 1; i &lt;= n; ++i)\n        d[i] = p[d[i]];\n    for (int i = 1; i &lt;= n; ++i)\n        p[d[i]] = i;\n    int res = 4;\n    std::vector&lt;int&gt; tag(n + 1), forbid(n + 1);\n    for (int i = 2; i &lt; n; ++i)\n        if (p[i + 1] &lt; p[i])\n            tag[i] = 1;\n    std::partial_sum(tag.begin() + 1, tag.end(), tag.begin() + 1);\n    for (int i = 2; i &lt; n; ++i)\n        if (d[i + 1] &gt; d[i] &amp;&amp; tag[d[i + 1] - 1] - tag[d[i] - 1]) &#123;\n            // fprintf(stderr, &quot;forbid [%d, %d)\\n&quot;, d[i], d[i + 1]);\n            forbid[d[i]] += 1, forbid[d[i + 1]] -= 1;\n        &#125;\n    std::partial_sum(forbid.begin() + 1, forbid.end(), forbid.begin() + 1);\n    for (int i = 2; i &lt; n; ++i)\n        if (p[i] &gt; p[i + 1])\n            res += 2;\n        else if (!forbid[i] &amp;&amp; p[i + 1] == p[i] + 1)\n            res += 1;\n    std::cout &lt;&lt; res / 2;\n    if (res &amp; 1)\n        std::cout &lt;&lt; &quot;.500&quot;;\n    else\n        std::cout &lt;&lt; &quot;.000&quot;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"d---alice-and-bob\">D - Alice and Bob</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/P3971\" class=\"uri\">https://www.luogu.com.cn/problem/P3971</a></p>\n<p>ä¸€ä¸ªå¾ˆæ˜¾ç„¶çš„æƒ³æ³•æ˜¯ BSTï¼›ä½†æ˜¯è¿™ä¸ªä¸œè¥¿åªèƒ½æ±‚å¯è¡Œè§£ï¼Œæ±‚ä¸äº†æœ€ä¼˜è§£ã€‚</p>\n<p>é¢˜è§£è¯´è§‚å¯Ÿåˆ° <span class=\"math inline\">\\(i\\)</span> çš„å†³ç­–ç‚¹ä¸€å®šæ˜¯å·¦ä¾§æœ€é å³çš„ä¸€ä¸ª <span class=\"math inline\">\\(a_j=a_i-1\\)</span>ï¼ˆå¯ä»¥å‡è®¾ <span class=\"math inline\">\\(a_j&gt;a_i\\)</span> ç„¶ååè¯ï¼‰ã€‚å¦‚æœæŠŠ <span class=\"math inline\">\\(j\\)</span> å‘ <span class=\"math inline\">\\(i\\)</span> è¿è¾¹å¯ä»¥å»ºæ ‘ï¼›æ³¨æ„åˆ°å…±ç”¨ä¸€ä¸ªçˆ¶äº²çš„ç‚¹å€¼æ˜¯é€’å‡çš„ã€‚</p>\n<p>è¦å¾€æ ‘ä¸Šå¡«å€¼ã€‚å®¹æ˜“æƒ³åˆ°ä¸€å±‚ä¸€å±‚å¡«ï¼›å¯æƒœä¸æœ€ä¼˜ï¼ˆåä¾‹å¦‚ä¸‹å›¾ï¼‰ã€‚</p>\n<figure>\n<img src=\"image.png\" alt=\"è€ƒå¯Ÿä» 1 å¼€å§‹çš„æœ€é•¿ä¸‹é™å­åºåˆ—ï¼Œå‘ç°æŒ‰å±‚å€’åºå¡«ä¸ä¼˜ã€‚\" /><figcaption>è€ƒå¯Ÿä» 1 å¼€å§‹çš„æœ€é•¿ä¸‹é™å­åºåˆ—ï¼Œå‘ç°æŒ‰å±‚å€’åºå¡«ä¸ä¼˜ã€‚</figcaption>\n</figure>\n<p>è€ƒè™‘ã€ä»¥ <span class=\"math inline\">\\(i\\)</span> å¼€å¤´çš„æœ€é•¿ä¸‹é™å­åºåˆ—é•¿åº¦ã€åœ¨æ ‘ä¸Šçš„å†…æ¶µï¼Œå‘ç°ï¼š</p>\n<ol type=\"1\">\n<li>åªèƒ½å– <span class=\"math inline\">\\(i\\)</span> æ‰€åœ¨å­æ ‘å¾€å³çš„éƒ¨åˆ†ï¼›</li>\n<li>å–äº†ç¥–å…ˆå°±ä¸èƒ½å–å„¿å­ï¼›å„¿å­æ ‡å·æ¯”ç¥–å…ˆå¤§ï¼›æ ‡å·è¶Šå¤§è¶Šèƒ½å–ï¼›æœ€ä¼˜è‚¯å®šå–å¶å­ã€‚</li>\n</ol>\n<p><strong>æƒ³è¦å°½é‡å–æ»¡æ‰€æœ‰ <span class=\"math inline\">\\(i\\)</span> å­æ ‘å³ä¾§çš„æ‰€æœ‰æ¯” <span class=\"math inline\">\\(i\\)</span> æ ‡å·å¤§çš„å¶å­ï¼Œå°±è¦è®©å®ƒä»¬æ¯” <span class=\"math inline\">\\(i\\)</span> éƒ½å°</strong>ã€‚è¿™ä¸ªé—®é¢˜æ˜¯ç®€å•çš„ï¼›ä¸€ç§æ–¹æ³•æ˜¯æŒ‰å„¿å­æ ‡å·ä»å¤§åˆ°å°ï¼Œä¸€è¾¹ DFS ä¸€è¾¹èµ‹å€¼ã€‚æš‚æ—¶æ²¡æƒ³åˆ°ä¸ç”¨è¿˜åŸåºåˆ—ã€log æ±‚ç­”æ¡ˆçš„ç»Ÿè®¡æ–¹æ³•ã€‚</p>\n<figure>\n<img src=\"image-1.png\" alt=\"é™„ï¼šä¸¤ç§æ–¹å¼å¯¹æ¯”\" /><figcaption>é™„ï¼šä¸¤ç§æ–¹å¼å¯¹æ¯”</figcaption>\n</figure>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nconst int maxn = 1e5 + 5;\nstruct &#123; int l, r, u; &#125; t[maxn &lt;&lt; 2];\n#define lt (p &lt;&lt; 1)\n#define rt (lt | 1)\nvoid bld(int p, int l, int r) &#123;\n    t[p].l = l, t[p].r = r;\n    if (l == r)\n        return;\n    int mid = (l + r) &gt;&gt; 1;\n    bld(lt, l, mid), bld(rt, mid + 1, r);\n    return;\n&#125;\nvoid add(int p, int x, int v) &#123;\n    t[p].u = std::max(t[p].u, v);\n    if (t[p].l == t[p].r)\n        return;\n    int mid = (t[p].l + t[p].r) &gt;&gt; 1;\n    if (x &lt;= mid)\n        add(lt, x, v);\n    else\n        add(rt, x, v);\n    return;\n&#125;\nint ask(int p, int l, int r) &#123;\n    if (l &lt;= t[p].l &amp;&amp; t[p].r &lt;= r)\n        return t[p].u;\n    int mid = (t[p].l + t[p].r) &gt;&gt; 1, res = 0;\n    if (l &lt;= mid)\n        res = ask(lt, l, r);\n    if (r &gt; mid)\n        res = std::max(res, ask(rt, l, r));\n    return res;\n&#125;\n#undef lt\n#undef rt\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    std::vector&lt;int&gt; a(n + 1), la(n + 1), deg(n + 1);\n    for (int i = 1; i &lt;= n; ++i) &#123;\n        std::cin &gt;&gt; a[i];\n        g[la[a[i] - 1]].push_back(i), ++deg[la[a[i] - 1]];\n        la[a[i]] = i;\n    &#125;\n    std::vector&lt;int&gt; u(n + 1), b(n + 1);\n    std::function&lt;void(int)&gt; DFS = [&amp;](int x) &#123;\n        static int now = 0;\n        u[x] = now++;\n        std::reverse(g[x].begin(), g[x].end());\n        for (auto i : g[x])\n            DFS(i);\n        return;\n    &#125;;\n    DFS(0);\n    bld(1, 1, n);\n    for (int i = n; i; --i) &#123;\n        b[i] = ask(1, 1, u[i] - 1) + 1;\n        add(1, u[i], b[i]);\n    &#125;\n    // for (int i = 1; i &lt;= n; ++i)\n    //     std::cout &lt;&lt; b[i] &lt;&lt; &#39; &#39;;\n    // std::cout &lt;&lt; &#39;\\n&#39;;\n    std::cout &lt;&lt; std::accumulate(b.begin() + 1, b.end(), 0ll) &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"e---tree-factory\">E - Tree Factory</h2>\n<p><a href=\"https://codeforces.com/problemset/problem/1225/F\" class=\"uri\">https://codeforces.com/problemset/problem/1225/F</a></p>\n<p>é¦–å…ˆæŠŠé¢˜æ„è½¬åŒ–ä¸ºã€æ¯æ¬¡å¯ä»¥æŠŠä¸€ä¸ªå­æ ‘ä¸‹ç§»ï¼Œè¦æ±‚æŠŠä¸€ä¸ªæ ‘è½¬åŒ–ä¸ºä¸€æ¡é“¾ã€ã€‚å¯ä»¥è¿›è¡Œä¸€äº›è§‚å¯Ÿï¼š</p>\n<ul>\n<li>ä¸€æ¬¡ç§»åŠ¨èƒ½äº§ç”Ÿè´¡çŒ®å½“ä¸”ä»…å½“å…¶è®©æ ‘é«˜å¢åŠ  <span class=\"math inline\">\\(1\\)</span>ã€‚</li>\n<li>å¦‚æœæ¯æ¬¡ç§»åŠ¨éƒ½äº§ç”Ÿè´¡çŒ®ï¼Œæ˜“å‘ç°ç­”æ¡ˆä¸‹ç•Œä¸º <span class=\"math inline\">\\(n-\\sum mxd_i\\)</span>ï¼Œå¯ä»¥å–åˆ°ã€‚</li>\n</ul>\n<p>çœ‹åˆ°æ·±åº¦ç›¸å…³å°±è¦æƒ³åˆ°é•¿å‰– ğŸ˜… bro è¿˜æ²¡ ptsd</p>\n<p>å–ä»¥æ ¹ä¸º top çš„é•¿é“¾ï¼Œä»åº•åˆ°é¡¶ä¾æ¬¡å®Œæˆã€å¹¶åˆ°çŸ­é“¾æ‰€åœ¨æ ‘ä¸Šï¼ŒæŠŠæ ‘æ‹†æˆé“¾ã€çš„æ“ä½œã€‚å…·ä½“è¿‡ç¨‹å¤§æ¦‚æ˜¯ä¸€ä¸ª dfn çš„æ„Ÿè§‰ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    for (int i = 2, x; i &lt;= n; ++i)\n        std::cin &gt;&gt; x, g[x + 1].push_back(i);\n    std::vector&lt;int&gt; mxd(n + 1), son(n + 1), res, nex(n + 1);\n    std::function&lt;void(int)&gt; DFS = [&amp;](int x) &#123;\n        mxd[x] = 1;\n        for (auto i : g[x]) &#123;\n            DFS(i);\n            if (mxd[i] + 1 &gt; mxd[x])\n                son[x] = i, mxd[x] = mxd[i] + 1;\n        &#125;\n        return;\n    &#125;;\n    DFS(1);\n    std::vector&lt;int&gt; p;\n    for (int i = 1; son[i]; i = son[i])\n        p.push_back(i);\n    std::function&lt;void(int, int)&gt; merge = [&amp;](int son, int x) &#123;\n        int la = son;\n        res.push_back(son);\n        for (auto i : g[x])\n            merge(la, i), la = i;\n        nex[x] = la;\n        return;\n    &#125;;\n    for (int i = (int)p.size() - 1; ~i; --i) &#123;\n        int la = son[p[i]];\n        for (auto j : g[p[i]])\n            if (j != son[p[i]])\n                merge(la, j), la = j;\n        nex[p[i]] = la;\n    &#125;\n    for (int i = 1; i; i = nex[i])\n        std::cout &lt;&lt; i - 1 &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39; &lt;&lt; res.size() &lt;&lt; &#39;\\n&#39;;\n    std::reverse(res.begin(), res.end());\n    for (auto i : res)\n        std::cout &lt;&lt; i - 1 &lt;&lt; &#39; &#39;;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n",
            "tags": [
                "æ€ç»´"
            ]
        },
        {
            "id": "https://xsc062.netlify.app/20250716/",
            "url": "https://xsc062.netlify.app/20250716/",
            "title": "ç»ƒä¹  æ ‘çš„å„ç§æ€§è´¨ I",
            "date_published": "2025-07-16T08:17:10.000Z",
            "content_html": "<p>è¿™ä¸æ¯”æ–œä¼˜åšç€çˆ½ã€‚</p>\n<span id=\"more\"></span>\n<hr />\n<h2 id=\"a---tree\">A - Tr/ee</h2>\n<p><a href=\"https://atcoder.jp/contests/arc103/tasks/arc103_c\" class=\"uri\">https://atcoder.jp/contests/arc103/tasks/arc103_c</a></p>\n<p>å¯ä»¥å‘ç°ï¼Œç±»ä¼¼åˆ è¾¹çš„é—®é¢˜ï¼Œåˆ å‡ºæ¥çš„è¿é€šå—å½“ä¸­ï¼Œé ä¸‹çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å­æ ‘ï¼›å°±å¯ä»¥è½¬åŒ–ä¸ºå­æ ‘é—®é¢˜äº†ã€‚</p>\n<p>å®¹æ˜“æƒ³åˆ°æšä¸¾ <span class=\"math inline\">\\(i-1\\)</span> æ—¶æ ‘çš„çŠ¶æ€ï¼Œå°è¯•è½¬åŒ–ä¸º <span class=\"math inline\">\\(i\\)</span> æ—¶çš„çŠ¶æ€ï¼›è¿›ä¸€æ­¥å¯ä»¥èƒ¡å‡ºæ¥ä¸€å †æ–¹æ¡ˆï¼ˆå¤§æ¦‚ï¼‰ï¼Œè¿™é‡Œæˆ‘èƒ¡çš„æ˜¯ï¼Œåˆå§‹è®¾ç½®ä¸€ä¸ªå•ç‚¹ï¼Œ<span class=\"math inline\">\\(0\\to 1\\)</span> å•¥ä¹Ÿä¸å¹²ï¼Œ<span class=\"math inline\">\\(0\\to 0\\)</span> åœ¨å½“å‰æ ¹ä¸Šå†åŠ ä¸€ä¸ªå¶å­ï¼Œ<span class=\"math inline\">\\(1\\to 0\\)</span> æ–°å»ºä¸€ä¸ªå¸¦å¶å­çš„æ ¹å¹¶ä»¤å…¶æˆä¸ºå½“å‰æ ¹çš„çˆ¶äº²ï¼Œ<span class=\"math inline\">\\(1\\to 1\\)</span> åŠ ä¸€ä¸ªçˆ¶äº²ã€‚</p>\n<p>ç„¶åç‰¹åˆ¤ä¸€ä¸‹ <span class=\"math inline\">\\(s_1=0\\)</span> å’Œ <span class=\"math inline\">\\(s_n=1\\)</span> å’Œ <span class=\"math inline\">\\(s_i\\ne s_{n-i}\\)</span> çš„æƒ…å†µï¼Œå‘ç°å…¶ä»–æ—¶å€™éƒ½æœ‰è§£ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::string s;\n    std::cin &gt;&gt; s, n = (int)s.length();\n    s = &quot;#&quot; + s;\n    if (s[1] == &#39;0&#39; || s[n] == &#39;1&#39;) &#123;\n        std::cout &lt;&lt; -1 &lt;&lt; &#39;\\n&#39;;\n        return 0;\n    &#125;\n    for (int i = 1; i &lt; n; ++i)\n        if (s[i] != s[n - i]) &#123;\n            std::cout &lt;&lt; -1 &lt;&lt; &#39;\\n&#39;;\n            return 0;\n        &#125;\n    int tot = 1, rt = 1;\n    for (int i = 2; i &lt; n; ++i) &#123;\n        if (tot == i - 1) &#123;\n            if (s[i] == &#39;0&#39;) &#123;\n                std::cout &lt;&lt; rt &lt;&lt; &#39; &#39; &lt;&lt; ++tot &lt;&lt; &#39;\\n&#39;;\n                rt = tot;\n                std::cout &lt;&lt; rt &lt;&lt; &#39; &#39; &lt;&lt; ++tot &lt;&lt; &#39;\\n&#39;;\n            &#125;\n            else &#123;\n                std::cout &lt;&lt; rt &lt;&lt; &#39; &#39; &lt;&lt; ++tot &lt;&lt; &#39;\\n&#39;;\n                rt = tot;\n            &#125;\n        &#125;\n        else if (s[i] == &#39;0&#39;)\n            std::cout &lt;&lt; rt &lt;&lt; &#39; &#39; &lt;&lt; ++tot &lt;&lt; &#39;\\n&#39;;\n    &#125;\n    if (tot != n)\n        std::cout &lt;&lt; rt &lt;&lt; &#39; &#39; &lt;&lt; n &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"b---keep-perfectly-matched\">B - Keep Perfectly Matched</h2>\n<p><a href=\"https://atcoder.jp/contests/arc183/tasks/arc183_d\" class=\"uri\">https://atcoder.jp/contests/arc183/tasks/arc183_d</a></p>\n<p>å‘ç°è¿™ä¸ªã€å®Œç¾åŒ¹é…ã€å°±æ˜¯åœ¨æ ‘ä¸Šç»™æ¯ä¸ªç‚¹æ‰¾ç›¸é‚»ç‚¹é…å¯¹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½é…ä¸Šï¼›ç»§è€Œå‘ç°ç”±äºç‚¹çš„æ€»æ•°ä¸ºå¶ï¼Œä¸€ä¸ªç‚¹æœ‰ä¸”ä»…èƒ½æœ‰ä¸€ä¸ª siz ä¸ºå¥‡çš„å­æ ‘ï¼ˆä¸ç„¶éæ³•ï¼‰ï¼Œå†å‘ç°å¯¹äºä»»æ„ä¸€ä¸ªç‚¹ï¼Œåˆ æ‰çš„ç‚¹å¯¹è¦ä¹ˆæ¥è‡ªå…¶åŒä¸€ä¸ªå­æ ‘ï¼›è¦ä¹ˆä¸€ä¸ªæ¥è‡ªå…¶å¥‡å­æ ‘ï¼Œå¦ä¸€ä¸ªæ¥è‡ªå…¶å¶å­æ ‘ã€‚</p>\n<p>å‘ç°è¦æ±‚æœ€å¤§åŒ–è·ç¦»ï¼Œåˆåªèƒ½åˆ å¶å­ï¼Œæ‰€ä»¥éœ€è¦æœ€å°åŒ– LCA æ·±åº¦ï¼›æœ‰æ²¡æœ‰åŠæ³•è®©æ¯æ¬¡çš„ LCA éƒ½æ˜¯æ ¹å‘¢ï¼Ÿè®©é‡å¿ƒæˆä¸ºæ ¹ï¼Œå¹¶ä¿è¯æ¯æ¬¡æ“ä½œçš„ä¸¤ä¸ªç‚¹éƒ½ä¸æ¥è‡ªåŒä¸€ä¸ªå„¿å­å³å¯ï¼ˆæ˜¾ç„¶è¿™æ ·æ˜¯å®Œå…¨å¯èƒ½çš„ï¼‰ã€‚</p>\n<p>æ¥ç€å†™äº†ä¸€å‘å‘ç°è¿‡ä¸äº†æ ·ä¾‹ï¼ŒåŸå› æ˜¯å‘ç°åœ¨å¶å­æ ‘ä¸­ä¼šå‡ºç°ã€ä¸€ä¸ªä¸­é€”çš„èŠ‚ç‚¹æœ¬æ¥æœ‰ä¸€ä¸ªå¥‡å„¿å­ï¼Œåˆ å»å¶å­æ ‘ä¸­çš„ä¸€ä¸ªå¶å­åéæ³•ã€çš„æƒ…å†µã€‚æ˜¾ç„¶è¿™æ ·çš„èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå¶å„¿å­ã€‚ç¡®ä¿æ¯ä¸ªå¶å„¿å­çš„å¥‡å„¿å­å…ˆè¢«åˆ æ‰å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚</p>\n<p>å¯¹é‡å¿ƒçš„æ¯ä¸ªå„¿å­ï¼Œæå‰è§„åˆ’å…¶èŠ‚ç‚¹è¢«åˆ é™¤çš„é¡ºåºå³å¯ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    for (int i = 1, x, y; i &lt; n; ++i) &#123;\n        std::cin &gt;&gt; x &gt;&gt; y;\n        g[x].push_back(y), g[y].push_back(x);\n    &#125;\n    std::vector&lt;int&gt; siz(n + 1);\n    int rt = 0;\n    std::function&lt;void(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n        siz[x] = 1;\n        bool flag = 1;\n        for (auto i : g[x])\n            if (i != fa) &#123;\n                DFS(i, x);\n                siz[x] += siz[i];\n                if (siz[i] &gt; n / 2)\n                    flag = 0;\n            &#125;\n        if (flag &amp;&amp; n - siz[x] &lt;= n / 2)\n            rt = x;\n        return;\n    &#125;;\n    DFS(1, -1);\n    std::vector&lt;std::vector&lt;int&gt; &gt; lf(n + 1);\n    int f1 = -1;\n    auto comp = [&amp;](int i, int j) &#123; return siz[i] &lt; siz[j]; &#125;;\n    std::priority_queue&lt;int, std::vector&lt;int&gt;, decltype(comp)&gt; f0(comp);\n    siz.assign(n + 1, 0);\n    for (auto t : g[rt]) &#123;\n        DFS = [&amp;](int x, int fa) &#123;\n            siz[x] = 1;\n            for (auto i : g[x])\n                if (i != fa) &#123;\n                    DFS(i, x);\n                    siz[x] += siz[i];\n                &#125;\n            return;\n        &#125;;\n        DFS(t, rt);\n        DFS = [&amp;](int x, int fa) &#123;\n            if (siz[x] % 2 == 0) &#123;\n                for (auto i : g[x])\n                    if (i != fa &amp;&amp; siz[x] % 2 == 1)\n                        DFS(i, x);\n                for (auto i : g[x])\n                    if (i != fa &amp;&amp; siz[x] % 2 == 0)\n                        DFS(i, x);\n            &#125;\n            else\n                for (auto i : g[x])\n                    if (i != fa)\n                        DFS(i, x);\n            lf[t].push_back(x);\n            return;\n        &#125;;\n        DFS(t, rt);\n        if (siz[t] &amp; 1)\n            assert(f1 == -1), f1 = t;\n        else\n            f0.push(t);\n        std::reverse(lf[t].begin(), lf[t].end());\n    &#125;\n    fprintf(stderr, &quot;rt = %d\\n&quot;, rt);\n    assert(~f1);\n    for (int _ = n / 2; _--; ) &#123;\n        assert(~f1);\n        if (!_ &amp;&amp; f0.empty()) &#123;\n            std::cout &lt;&lt; f1 &lt;&lt; &#39; &#39; &lt;&lt; rt &lt;&lt; &#39;\\n&#39;;\n            break;\n        &#125;\n        assert(!f0.empty());\n        int t = f0.top();\n        f0.pop();\n        assert(!lf[f1].empty());\n        assert(!lf[t].empty());\n        std::cout &lt;&lt; lf[f1].back() &lt;&lt; &#39; &#39; &lt;&lt; lf[t].back() &lt;&lt; &#39;\\n&#39;;\n        lf[f1].pop_back(), --siz[f1];\n        lf[t].pop_back(), --siz[t];\n        if (siz[f1])\n            f0.push(f1);\n        f1 = t;\n    &#125;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"c---fiolki\">C - Fiolki</h2>\n<p><a href=\"https://www.luogu.com.cn/problem/P5578\" class=\"uri\">https://www.luogu.com.cn/problem/P5578</a></p>\n<p>éš¾ç‚¹åœ¨äºåˆ¤æ–­æ¯ä¸€æ­¥æœ‰å“ªäº›ååº”å‘ç”Ÿï¼›æ˜¾ç„¶ä¸€ä¸ªååº”åªä¼šåœ¨æŸä¸€æ­¥å‘ç”Ÿã€‚</p>\n<p>å‘ç°å°†å€’æ°´çš„æ“ä½œè§†ä¸ºè¿è¾¹ <span class=\"math inline\">\\(b_i\\to a_i\\)</span>ï¼Œé‚£ä¹ˆå½¢æˆäº†æ£®æ—ï¼ŒæŠŠæ¯ä¸ªååº”ä¸¢åˆ° LCA å¤„ç­‰å¾… checkã€‚</p>\n<p>å‘ç°åœ¨ LCA ä¹‹å¤–ï¼Œä¸¤ç§è¯•å‰‚ä¸å¯èƒ½ç›¸é‡ï¼›æ•…æœ€åéå†ä¸€éååº”åºåˆ—ï¼Œç»´æŠ¤æ¯ç§è¯æ°´å½“å‰æ•°é‡ï¼Œåœ¨æ¯ä¸ªç‚¹å¤„ check å³å¯ã€‚</p>\n<p>å†å‘ç°å¦‚æœæ¯æ¬¡åŠ è¾¹éƒ½åœ¨çˆ¶äº²å¤„ check æ‰€æœ‰å¯èƒ½å‘ç”Ÿçš„ååº”ï¼Œå¤æ‚åº¦è‚¯å®šæ˜¯é”™çš„ï¼›æ•…ç”¨å€å¢æ±‚å‡ºä¸¤ä¸ªç‚¹åœ¨ LCA ä¸‹æ–¹çš„ç‚¹ä½œä¸ºã€æ£€æŸ¥ç‚¹ã€ï¼Œå½“ã€æ£€æŸ¥ç‚¹ã€è¢«åˆå¹¶åˆ°å…¶çˆ¶äº²æ—¶ï¼Œå°±å¯ä»¥ check ä¸€ä¸‹æ£€æŸ¥ç‚¹ä¸Šé¢æŒ‚çš„æ‰€æœ‰è¯¢é—®ã€‚æ˜¾ç„¶æ¯ä¸ªç‚¹ä¸Šçš„è¯¢é—®åªä¼šè¢«æ£€æŸ¥ä¸€æ¬¡ï¼›å¤æ‚åº¦çº¿æ€§ã€‚</p>\n<p>åŠ ä¸Šå€å¢ LCA çš„å¤æ‚åº¦ï¼Œå°±å¯ä»¥ <span class=\"math inline\">\\(O(n\\log n)\\)</span> åœ°å®Œæˆã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n, m, k;\n    std::cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    std::vector&lt;int&gt; f(n + 1), deg(n + 1), now(n + 1);\n    for (int i = 1; i &lt;= n; ++i)\n        std::cin &gt;&gt; now[i];\n    std::iota(f.begin() + 1, f.end(), 1);\n    std::function&lt;int(int)&gt; find = [&amp;](int x) &#123;\n        return x == f[x] ? x : f[x] = find(f[x]);\n    &#125;;\n    auto merge = [&amp;](int x, int y) &#123;\n        f[find(x)] = find(y);\n        return;\n    &#125;;\n    std::vector&lt;std::pair&lt;int, int&gt; &gt; a(m + 1);\n    for (int i = 1; i &lt;= m; ++i) &#123;\n        auto &amp;[x, y] = a[i];\n        std::cin &gt;&gt; x &gt;&gt; y, ++deg[x];\n        g[y].push_back(x), merge(x, y);\n    &#125;\n    std::vector&lt;int&gt; dep(n + 1);\n    std::vector&lt;std::vector&lt;int&gt; &gt; fa(n + 1, std::vector&lt;int&gt; (21));\n    for (int i = 1; i &lt;= n; ++i)\n        if (!deg[i]) &#123;\n            std::function&lt;void(int)&gt; DFS = [&amp;](int x) &#123;\n                for (auto i : g[x]) &#123;\n                    fa[i][0] = x;\n                    for (int j = 1; j &lt;= 20; ++j)\n                        fa[i][j] = fa[fa[i][j - 1]][j - 1];\n                    dep[i] = dep[x] + 1, DFS(i);\n                &#125;\n                return;\n            &#125;;\n            dep[i] = 1, DFS(i);\n        &#125;\n    std::vector&lt;std::vector&lt;std::pair&lt;int, int&gt; &gt; &gt; t(n + 1);\n    for (int x, y; k--; ) &#123;\n        std::cin &gt;&gt; x &gt;&gt; y;\n        if (find(x) == find(y)) &#123;\n            std::pair&lt;int, int&gt; p(x, y);\n            if (dep[x] != dep[y]) &#123;\n                if (dep[x] &lt; dep[y])\n                    std::swap(x, y);\n                for (int i = 20; ~i; --i)\n                    if (dep[fa[x][i]] &gt; dep[y])\n                        x = fa[x][i];\n                if (fa[x][0] == y) &#123;\n                    t[x].push_back(p);\n                    // printf(&quot;add (%d, %d) to %d\\n&quot;, p.first, p.second, x);\n                    continue;\n                &#125;\n                x = fa[x][0];\n            &#125;\n            for (int i = 20; ~i; --i)\n                if (fa[x][i] != fa[y][i])\n                    x = fa[x][i], y = fa[y][i];\n            t[x].push_back(p), t[y].push_back(p);\n        &#125;\n    &#125;\n    std::iota(f.begin() + 1, f.end(), 1);\n    auto res(0ll);\n    for (int i = 1; i &lt;= m; ++i) &#123;\n        auto [x, y] = a[i];\n        merge(x, y);\n        for (auto [p, q] : t[x])\n            if (find(p) == find(x) &amp;&amp; find(q) == find(x)) &#123;\n                int u = std::min(now[p], now[q]);\n                res += 2 * u, now[p] -= u, now[q] -= u;\n            &#125;\n    &#125;\n    std::cout &lt;&lt; res &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125; </code></pre>\n</details>\n<hr />\n<h2 id=\"d---permutation-tree\">D - Permutation Tree</h2>\n<p><a href=\"https://atcoder.jp/contests/arc095/tasks/arc095_d\" class=\"uri\">https://atcoder.jp/contests/arc095/tasks/arc095_d</a></p>\n<p>éšä¾¿ç”»å›¾ï¼Œä¼šå‘ç°ï¼Œå¦‚æœæŒ‰å±‚æ•°ä»å°åˆ°å¤§æ ‡å·ï¼Œä¸€ä¸ªç‚¹çš„å„¿å­åªæœ‰æœ€å¤šä¸€ä¸ªä¸æ˜¯å¶å­ã€‚ä¸€è¨€ä»¥è”½ä¹‹ï¼šæ¯›æ¯›è™«ã€‚</p>\n<p>ç„¶åå°±å¯ä»¥åˆ¤æ–­å¯è¡Œæ€§äº†ï¼ˆç›´å¾„å°±æ˜¯è™«èº«ï¼‰ã€‚æ¥ä¸‹æ¥éœ€è¦è€ƒè™‘æœ€å°åŒ–ç­”æ¡ˆå­—å…¸åºçš„é—®é¢˜ï¼Œå‘ç°å¯¹äºä¸€ä¸ªç‚¹çš„å„¿å­ï¼Œå¿…é¡»æ˜¯è™«è¶³åœ¨å…¶å·¦ã€è™«èº«åœ¨å…¶å³ä¸”å¿…é¡»ä¸¥æ ¼æŒ‰ç…§å±‚æ•°æ ‡å·ã€‚</p>\n<p>å­—å…¸åºæ˜¯ä¸ªåè´ªå¿ƒçš„ä¸œè¥¿ï¼Œæ‰€ä»¥å¯ä»¥å¼€å§‹çæï¼šå‘ç°è™«è¶³è¶Šå¤šï¼Œæ ‡å·æ›´å°çš„çˆ¶äº²å°±ä¼šè¶Šé åï¼Œæ‰€ä»¥ä¾æ¬¡æ¯”è¾ƒç”¨ä¸¤ç«¯å¼€å¤´çš„æƒ…å†µï¼Œå¦‚æœåˆ°äº†è™«èº«çš„æŸä¸€æ®µï¼Œå“ªç§çš„å„¿å­æ›´å°‘å°±é€‰è°ï¼Œç„¶åç›´æ¥æŒ‰æœ€å°æ¥æ ‡å·å³å¯ã€‚</p>\n<p>å®é™…ä¸Šç”±äºåªæœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä½ ä¹Ÿå¯ä»¥ä¸¤è¾¹éƒ½è¯•è¯•ï¼ˆï¼‰</p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    for (int i = 1, x, y; i &lt; n; ++i) &#123;\n        std::cin &gt;&gt; x &gt;&gt; y;\n        g[x].push_back(y), g[y].push_back(x);\n    &#125;\n    std::vector&lt;int&gt; dep(n + 1);\n    std::function&lt;void(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n        for (auto i : g[x])\n            if (i != fa) &#123;\n                dep[i] = dep[x] + 1;\n                DFS(i, x);\n            &#125;\n        return;\n    &#125;;\n    dep[1] = 1, DFS(1, -1);\n    int p = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();\n    bool flag = 0;\n    std::vector&lt;int&gt; node, cnt(n + 1), siz(n + 1);\n    DFS = [&amp;](int x, int fa) &#123;\n        siz[x] = 1;\n        for (auto i : g[x])\n            if (i != fa) &#123;\n                DFS(i, x);\n                siz[x] += siz[i], ++cnt[x];\n            &#125;\n        if (siz[x] &gt; 1) &#123;\n            node.push_back(0), --cnt[x];\n            for (auto i : g[x]) &#123;\n                if (i != fa &amp;&amp; siz[node.back()] &gt; 1 &amp;&amp; siz[i] &gt; 1)\n                    flag = 1;\n                if (i != fa &amp;&amp; siz[i] &gt; siz[node.back()])\n                    node.back() = i;\n            &#125;\n        &#125;\n        return;\n    &#125;;\n    DFS(p, -1), node.push_back(p);\n    if (flag) &#123;\n        std::cout &lt;&lt; -1 &lt;&lt; &#39;\\n&#39;;\n        return 0;\n    &#125;\n    for (int i = 0, j = (int)node.size() - 1; i &lt;= j; ++i, --j)\n        if (cnt[node[i]] &gt; cnt[node[j]]) &#123;\n            std::reverse(node.begin(), node.end());\n            break;\n        &#125;\n        else if (cnt[node[i]] &lt; cnt[node[j]])\n            break;\n    int now = 0;\n    for (auto i : node) &#123;\n        int rt = ++now;\n        for (; cnt[i]--; std::cout &lt;&lt; ++now &lt;&lt; &#39; &#39;);\n        std::cout &lt;&lt; rt &lt;&lt; &#39; &#39;;\n    &#125;\n    std::cout &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n<hr />\n<h2 id=\"e---isomorphism-freak\">E - Isomorphism Freak</h2>\n<p><a href=\"https://atcoder.jp/contests/agc024/tasks/agc024_d\" class=\"uri\">https://atcoder.jp/contests/agc024/tasks/agc024_d</a></p>\n<p><del>åƒåœ¨æ•°æœ‰å¤šå°‘ç§åŒ–å­¦ç¯å¢ƒçš„ H æ˜¯å¯ä»¥è¯´çš„å—</del></p>\n<p>é‰´äºè¿™ä¸ªï¼Œé«˜ä¸­åŒ–å­¦é€‰æ‹©æ€§å¿…ä¿®ä¸‰ï¼Œç»™æˆ‘ä»¬æ‰“ä¸‹çš„åšå®åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸è¿…é€Ÿåœ°æ³¨æ„åˆ°ç­”æ¡ˆå°±æ˜¯åŠå¾„é•¿ã€‚</p>\n<p>ç„¶åæœ€å°‘å¶å­ï¼Œå‘ç°ä¸€çœ¼çªä¸å‡ºæ¥ï¼Œç³Ÿç³•ï¼æ²¡å…³ç³»ï¼Œè§‚å¯Ÿæ ·ä¾‹è¾“å‡ºï¼Œå‘ç°è¿™äº›ç­”æ¡ˆçš„å› æ•°éƒ½æŒºå¤šï¼Œæ•…çŒœæµ‹æ˜¯è‹¥å¹²ä¸ªæ•°ä¹˜èµ·æ¥çš„ï¼›ç„¶åå†å‘ç°æ˜¯æ¯å±‚æœ€å¤§å„¿å­æ•°çš„ä¹˜ç§¯ã€‚</p>\n<p>æšä¸¾ä¸­é—´çš„è¾¹ï¼ˆä»…å½“ç›´å¾„é•¿åº¦ä¸ºå¶æ—¶ï¼‰ã€ç‚¹ï¼ˆå¥‡å¶éƒ½è¡Œï¼‰ä½œä¸ºå¯¹ç§°è½´ / å¯¹ç§°ä¸­å¿ƒçš„æƒ…å†µå– min å³å¯ï¼ˆåŸå› æ˜¯è¦å°½é‡å–é è¿‘ä¸­å¿ƒçš„ <strong>ç‚¹</strong>ï¼‰ï¼Œæ³¨æ„è¾¹ä¸¤ç«¯ç®—ä¸¤ä¸ªå„¿å­æ•°ã€‚</p>\n<p><del>æ‰€ä»¥ä¸ºå•¥ <span class=\"math inline\">\\(n\\)</span> è¿™ä¹ˆå°</del></p>\n<details>\n<pre class=\"cpp\"><code>#include &lt;bits/stdc++.h&gt;\nconst long long inf = 1e18;\nint main() &#123;\n#ifdef ONLINE_JUDGE\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr), std::cout.tie(nullptr);\n#else\n    std::freopen(&quot;.in&quot;, &quot;r&quot;, stdin);\n    std::freopen(&quot;.out&quot;, &quot;w&quot;, stdout);\n#endif\n    int n;\n    std::cin &gt;&gt; n;\n    std::vector&lt;std::vector&lt;int&gt; &gt; g(n + 1);\n    for (int i = 1, x, y; i &lt; n; ++i) &#123;\n        std::cin &gt;&gt; x &gt;&gt; y;\n        g[x].push_back(y), g[y].push_back(x);\n    &#125;\n    std::vector&lt;int&gt; dep(n + 1);\n    std::function&lt;void(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n        for (auto i : g[x])\n        if (i != fa) &#123;\n            dep[i] = dep[x] + 1;\n            DFS(i, x);\n        &#125;\n        return;\n    &#125;;\n    dep[1] = 1, DFS(1, -1);\n    int p = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();\n    dep[p] = 1, DFS(p, -1);\n    int q = std::max_element(dep.begin() + 1, dep.end()) - dep.begin();\n    std::cout &lt;&lt; (dep[q] + 1) / 2 &lt;&lt; &#39; &#39;;\n    std::vector&lt;int&gt; node;\n    std::vector&lt;std::pair&lt;int, int&gt; &gt; edge;\n    if (dep[q] &amp; 1) &#123;\n        DFS = [&amp;](int x, int fa) &#123;\n            for (auto i : g[x])\n                if (i != fa)\n                    DFS(i, x);\n            if (dep[x] == (dep[q] + 1) / 2)\n                node.push_back(x), edge.emplace_back(x, fa);\n            if (dep[x] == (dep[q] + 1) / 2 + 1)\n                edge.emplace_back(x, fa);\n            return;\n        &#125;;\n        DFS(p, -1);\n    &#125;\n    else &#123;\n        std::function&lt;bool(int, int)&gt; DFS = [&amp;](int x, int fa) &#123;\n            if (x == q)\n                return true;\n            bool ret = false;\n            for (auto i : g[x])\n                if (i != fa)\n                    ret |= DFS(i, x);\n            if (ret &amp;&amp; dep[x] == dep[q] / 2 + 1)\n                edge.emplace_back(x, fa);\n            return ret;\n        &#125;;\n        DFS(p, -1);\n    &#125;\n    long long res = inf;\n    for (auto [x, y] : edge) &#123;\n        std::vector&lt;int&gt; cnt(n + 1);\n        std::function&lt;void(int, int, int)&gt; DFS = [&amp;](int x, int fa, int dep) &#123;\n            int son = 0;\n            for (auto i : g[x])\n                if (i != fa)\n                    ++son, DFS(i, x, dep + 1);\n            cnt[dep] = std::max(cnt[dep], son);\n            return;\n        &#125;;\n        DFS(x, y, 1), DFS(y, x, 1);\n        auto now(2ll);\n        for (int i = 1; i &lt;= n &amp;&amp; cnt[i]; ++i)\n            now *= cnt[i];\n        res = std::min(res, now);\n    &#125;\n    for (auto rt : node) &#123;\n        std::vector&lt;int&gt; cnt(n + 1);\n        std::function&lt;void(int, int, int)&gt; DFS = [&amp;](int x, int fa, int dep) &#123;\n            int son = 0;\n            for (auto i : g[x])\n                if (i != fa)\n                    ++son, DFS(i, x, dep + 1);\n            cnt[dep] = std::max(cnt[dep], son);\n            return;\n        &#125;;\n        DFS(rt, -1, 1);\n        auto now(1ll);\n        for (int i = 1; i &lt;= n &amp;&amp; cnt[i]; ++i)\n            now *= cnt[i];\n        res = std::min(res, now);\n    &#125;\n    std::cout &lt;&lt; res &lt;&lt; &#39;\\n&#39;;\n    return 0;\n&#125;</code></pre>\n</details>\n",
            "tags": [
                "æ€ç»´"
            ]
        },
        {
            "id": "https://xsc062.netlify.app/20240131/",
            "url": "https://xsc062.netlify.app/20240131/",
            "title": "USACO2024JAN ä¸‰ç»„è¿æ‰“",
            "date_published": "2024-01-31T02:30:29.000Z",
            "content_html": "<p>å‡çš„ï¼Œåªè¿æ‰“äº†ä¸¤ç»„ã€‚Ag æ²¡æ—¶é—´äº†ã€‚æ—¥åå†è¡¥å§ã€‚</p>\n<span id=\"more\"></span>\n<p><img src=\"https://pic.imgdb.cn/item/65b7b152871b83018ac5e7b7.gif\" /></p>\n<p>æ— æ„ä¸­å­˜äº†é¢˜é¢ï¼Œä½†ä»£ç å¤§éƒ¨åˆ†å› ä¸ºç³»ç»Ÿè¿˜åŸæ¶ˆå¤±äº†ï¼Œåªæœ‰æ–‡å­—é¢˜è§£ï¼Œå°†å°±ç€çœ‹å§ã€‚</p>\n<hr />\n<h3 id=\"cu-a.-majority-opinion\">Cu A. Majority Opinion</h3>\n<p><a href=\"https://www.luogu.com.cn/problem/P10131\" class=\"uri\">https://www.luogu.com.cn/problem/P10131</a></p>\n<p><em>çœæµï¼šä»»æ„åŒºé—´å†…ï¼Œè‹¥æŸå…ƒç´ å‡ºç°ä¸ªæ•°ä¸¥æ ¼å¤§äºåŒºé—´é•¿åº¦ä¸€åŠï¼Œåˆ™å¯å°†æ•´ä¸ªåŒºé—´æ¨å¹³ä¸ºè¯¥å€¼ã€‚é—®æœ€ç»ˆå¯ä»¥ä½¿æ•´ä¸ªåºåˆ—è¢«æ¨å¹³ä¸ºå“ªäº›å€¼ã€‚</em></p>\n<p>æ³¨æ„åˆ°å½“ä»»æ„é•¿åº¦ <span class=\"math inline\">\\(\\ge 2\\)</span> çš„åŒºé—´å¯ä»¥è¢«æ¨å¹³ä¸ºæŸç§å…ƒç´ æ—¶ï¼Œæ•´ä¸ªæ•°åˆ—éƒ½å¯ä»¥è¢«æ¨å¹³ä¸ºè¯¥å…ƒç´ ã€‚æ•…ç›®æ ‡è½¬åŒ–ä¸ºå¯¹äºæŸç§å…ƒç´ åˆ¤å®šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå¯è¢«å…¶æ¨å¹³çš„åŒºé—´ã€‚</p>\n<p>ç»Ÿè®¡å…ƒç´ ä¸ªæ•°é‡‡ç”¨å‰ç¼€å’Œã€‚ä»¤ <span class=\"math inline\">\\(s_i\\)</span> è¡¨ç¤º <span class=\"math inline\">\\(h_i\\)</span> åœ¨å‰ <span class=\"math inline\">\\(i\\)</span> é¡¹ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå‡è®¾æœ‰ <span class=\"math inline\">\\([j,i]\\)</span> æ»¡è¶³æ¡ä»¶ï¼Œè´ªå¿ƒå¯çŸ¥ <span class=\"math inline\">\\(h_i=h_j\\)</span>ã€‚</p>\n<p>é‚£ä¹ˆç”±å®šä¹‰æœ‰ <span class=\"math inline\">\\(i-j+1&lt;2\\times (s_i-s_j+1)\\)</span>ã€‚å…¸ä¸­å…¸ï¼Œç›´æ¥ç§»é¡¹åˆ†ç¦»å˜é‡ã€‚åˆ™æœ‰ <span class=\"math inline\">\\(i-2\\times s_i-1&lt;j-2\\times s_j\\)</span>ã€‚ä»¤ <span class=\"math inline\">\\(t_p\\gets p-2\\times s_p\\)</span>ï¼Œå¯¹äºæ¯ä¸ª <span class=\"math inline\">\\(h\\)</span> è®°å½• <span class=\"math inline\">\\(t_j\\)</span> æœ€å¤§å€¼æŸ¥çœ‹æ˜¯å¦æœ‰ <span class=\"math inline\">\\(i,j\\)</span> æ»¡è¶³æ¡ä»¶å³å¯ã€‚</p>\n<h3 id=\"cu-b.-cannonball\">Cu B. Cannonball</h3>\n<p><a href=\"https://www.luogu.com.cn/problem/P10132\" class=\"uri\">https://www.luogu.com.cn/problem/P10132</a></p>\n<p><em>çœæµï¼šæœ‰ <span class=\"math inline\">\\(N\\)</span> ä¸ªæ ¼å­ï¼Œä» <span class=\"math inline\">\\(s\\)</span> æ ¼å­å¼€å§‹ä»¥ <span class=\"math inline\">\\(1\\)</span> ä¸ºåˆå§‹èƒ½é‡å‘å³è·³ï¼Œè·³ä¸€æ­¥çš„è·ç¦»ä¸ºèƒ½é‡å¤§å°ã€‚æ ¼å­åˆ†ä¸¤ç§ï¼Œä¸€ç§ç»è¿‡åŠ ä¸€å®šèƒ½é‡å¹¶åå‘ï¼Œå¦ä¸€ç§è‹¥å½“å‰èƒ½é‡å¤§äºä¸€å®šå€¼åˆ™å¯æ°¸ä¹…æ‘§æ¯ï¼Œé—®è·³å‡ºèŒƒå›´æˆ–æ— é™é•¿æ—¶é—´åå¯æ‘§æ¯æ ¼å­ä¸ªæ•°ã€‚</em></p>\n<p>ä¸éš¾å‘ç°è‹¥å¿½ç•¥å¢åŠ èƒ½é‡ä¸º <span class=\"math inline\">\\(0\\)</span> çš„è·³æ¿åˆ™æ¯ç»è¿‡ä¸€ä¸ªè·³æ¿å¯è·³è·ç¦»å¢åŠ  <span class=\"math inline\">\\(1\\)</span>ï¼Œæœ€å¤šå¢åŠ åˆ° <span class=\"math inline\">\\(n\\)</span>ï¼Œå¦åˆ™ä¼šè·³å‡ºå»ã€‚</p>\n<p>æ³¨æ„åˆ°è°ƒå’Œçº§æ•°ï¼Œæ•…ç›´æ¥æ¨¡æ‹Ÿè·³çš„è¿‡ç¨‹ã€‚å”¯ä¸€å¯¼è‡´æ—¶é—´æ— é™çš„æƒ…å†µæ˜¯å­˜åœ¨ç›¸é‚»çš„å¢åŠ èƒ½é‡ä¸º <span class=\"math inline\">\\(0\\)</span> çš„è·³æ¿ï¼Œä½†å…¶å®å®ƒå…·ä½“æ˜¯ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼Œåæ­£æˆ‘ä»¬è·³çš„æ¬¡æ•°ä¸¥æ ¼å¤§äºè°ƒå’Œçº§æ•°åå°±å¯ä»¥è®¤ä¸ºè¿›å…¥æ­»å¾ªç¯ï¼Œç›´æ¥ç»“æŸæ¨¡æ‹Ÿå³å¯ã€‚æˆ‘è¿™é‡Œå«Œéº»çƒ¦ç›´æ¥æ‹¿äº† <span class=\"math inline\">\\(2\\times 10^8\\)</span> ä½œé˜ˆå€¼ã€‚</p>\n<h3 id=\"cu-c.-balancing-bacteria\">Cu C. Balancing Bacteria</h3>\n<p><a href=\"https://www.luogu.com.cn/problem/P10133\" class=\"uri\">https://www.luogu.com.cn/problem/P10133</a></p>\n<p><em>çœæµï¼šå®šä¹‰ä¸€æ¬¡æ“ä½œä¸ºé€‰å–ä¸€ä¸ªæ•´æ•° <span class=\"math inline\">\\(\\Delta\\le N\\)</span>ï¼Œå¹¶ä» <span class=\"math inline\">\\(N\\)</span> åˆ° <span class=\"math inline\">\\(1\\)</span>ï¼Œä»¤ <span class=\"math inline\">\\(a_i\\gets a_i+\\Delta\\)</span> å¹¶ä»¤ <span class=\"math inline\">\\(\\Delta\\)</span> å‘ <span class=\"math inline\">\\(0\\)</span> é è¿‘ <span class=\"math inline\">\\(1\\)</span>ï¼Œ<span class=\"math inline\">\\(\\Delta=0\\)</span> æ—¶åœæ­¢ã€‚é—®ä»¤æ‰€æœ‰ <span class=\"math inline\">\\(a_i=0\\)</span> æ‰€éœ€æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚</em></p>\n<p>æŒºæœ‰æ„æ€çš„æ€ç»´é¢˜ï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œä¸€ä¸ªæ€ç»´è½¬åŒ–ã€‚<span class=\"math inline\">\\(\\Delta\\le N\\)</span> æ˜¯ä¸€ä¸ªåˆ©äºè§£é¢˜çš„é™åˆ¶ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æƒ³è®©ä»»ä½•ä¸€ä¸ª <span class=\"math inline\">\\(a_i\\)</span> æ”¹å˜ <span class=\"math inline\">\\(1\\)</span> è€Œä¸å½±å“åˆ°ä¹‹å‰çš„å€¼ï¼Œä»è®© <span class=\"math inline\">\\(a_1\\gets 0\\)</span> å…¥æ‰‹ï¼Œè¿›è¡Œä¸€æ¬¡æ“ä½œåæ¯ä¸ª <span class=\"math inline\">\\(a_i\\)</span> åˆ†åˆ°çš„ <span class=\"math inline\">\\(\\Delta\\)</span> åº”ä¾æ¬¡åŠ  1 æˆ–ä¾æ¬¡å‡ 1ã€‚åˆ™å·®åˆ†æ•°ç»„ä¸º <span class=\"math inline\">\\(0\\)</span> åè·Ÿç€ä¸€æˆª <span class=\"math inline\">\\(1\\)</span> æ˜¯ç†æƒ³çŠ¶æ€ã€‚ä¸­é—´æ¯æœ‰ä¸€é¡¹ä¸æ»¡è¶³è§„å¾‹éƒ½ä¼šå¸¦æ¥é¢å¤–çš„æ“ä½œæ¬¡æ•°ã€‚</p>\n<p>å½’çº³ä¸ºå·®åˆ†æ•°ç»„çš„å·®åˆ†æ•°ç»„ç»å¯¹å€¼ä¹‹å’Œå³ä¸ºç­”æ¡ˆã€‚</p>\n<hr />\n<h3 id=\"ag-a.-cowmpetency\">Ag A. Cowmpetency</h3>\n<p><a href=\"https://www.luogu.com.cn/problem/P10134\" class=\"uri\">https://www.luogu.com.cn/problem/P10134</a></p>\n<p><em>çœæµï¼šæœ‰è‹¥å¹²æ¡é™åˆ¶ï¼Œæ¯æ¡å½¢å¦‚ <span class=\"math inline\">\\(\\max\\limits_{i=1}^{a_h-1}\\{A_i\\}=\\max\\limits_{i=1}^{a_j}\\{A_i\\}\\)</span> ä¸” <span class=\"math inline\">\\(A_{a_h}&gt;\\max\\limits_{i=1}^{a_h-1}\\{A_i\\}\\)</span>ï¼Œéƒ¨åˆ†æ•°å·²çŸ¥ï¼Œæ„é€ å‡ºç¬¦åˆæ¡ä»¶ä¸”å­—å…¸åºæœ€å°çš„åºåˆ—ã€‚</em></p>\n<p>æ˜¯æœ¬åœºæœ€éš¾é¢˜å§ï¼Œä½†ä¹Ÿæ²¡å•¥å¡çš„ã€‚ç”»ä¸ªçº¿æ®µå›¾å®¹æ˜“å‘ç°ï¼Œè‹¥å°† <span class=\"math inline\">\\([a,h)\\)</span> è§†ä½œä¸€æ¡çº¿æ®µï¼Œé‚£ä¹ˆé™¤é <span class=\"math inline\">\\(h\\)</span> ç›¸åŒï¼Œå¦åˆ™ä¸¤æ¡çº¿æ®µä¸èƒ½æœ‰äº¤é›†ã€‚ä¸ç„¶çš„è¯å°±æ— è§£ã€‚ä»¥åŠå¦‚æœå­˜åœ¨ä¸æ»¡è¶³æ¡ä»¶çš„å®šå€¼ä¹Ÿæ˜¾ç„¶æ— è§£ã€‚</p>\n<p>ä»å‰å¾€åçœ‹æ¯ä¸ª <span class=\"math inline\">\\(h\\)</span> å¹¶å°è¯•èµ‹å€¼ï¼Œå¯¹äºæ¯ä¸ª <span class=\"math inline\">\\(1\\sim a\\)</span> è®°å½•ä¸€ä¸ªéœ€è¦æ»¡è¶³çš„æœ€å¤§å€¼æ•°å€¼ï¼ŒæŒ‰ç…§æ­¤æ•°å€¼ä»åå¾€å‰å¡«ç©ºæ ¼ã€‚</p>\n<p>å¡«å®Œè¿‡åæ‰«ä¸€éçœ‹çœ‹æ˜¯ä¸æ˜¯å…¨éƒ¨åˆæ³•ï¼Œå¯ä»¥è¯æ˜è‹¥æ­¤æ—¶ä¸åˆæ³•åˆ™æ— è§£ã€‚</p>\n<h3 id=\"ag-b.-potion-farming\">Ag B. Potion Farming</h3>\n<p><a href=\"https://www.luogu.com.cn/problem/P10135\" class=\"uri\">https://www.luogu.com.cn/problem/P10135</a></p>\n<p><em>çœæµï¼šä¸€æ£µæ ‘ï¼Œæ¯ä¸ªç‚¹ä¸Šæœ‰è‹¥å¹²ä¸ªç‰©å“ï¼Œå¯¹äºæ¯æ¡ä»æ ¹åˆ°å¶å­çš„ç®€å•è·¯å¾„ï¼Œå¯ä»¥é€‰æ‹©è·¯å¾„ä¸Šçš„ä¸€ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“åªèƒ½è¢«é€‰ä¸€æ¬¡ï¼Œé—®æœ€å¤šå¯é€‰ç‰©å“æ•°ã€‚</em></p>\n<p>å¦‚æœä¸€ä¸ªç‚¹å¼•å¯¼çš„å­æ ‘ä¸‹æ‰€æœ‰å¶å­æœ‰æ²¡æœ‰åˆ†é…åˆ°çš„ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªç‚¹çš„ç‰©å“åˆ†é…ç»™è¯¥å¶å­ã€‚</p>\n<p>è·‘ä¸€ä¸ªæ ‘å½¢ DP å³å¯ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>namespace XSC062 &#123;\nusing namespace fastIO;\nconst int maxn = 1e5 + 5;\nint n, x, y;\nint cnt[maxn];\nstd::vector&lt;int&gt; g[maxn];\nint a[maxn], f[maxn], p[maxn];\nint min(int x, int y) &#123;\n    return x &lt; y ? x : y;\n&#125;\nvoid DFS(int x, int fa) &#123;\n    if ((int)g[x].size() == 1)\n        cnt[x] = 1;\n    for (auto i : g[x]) &#123;\n        if (i == fa) continue;\n        DFS(i, x);\n        f[x] += f[i];\n        cnt[x] += cnt[i];\n    &#125;\n    if (f[x] &lt; cnt[x])\n        f[x] = min(f[x] + a[x], cnt[x]);\n    return;\n&#125;\nvoid add(int x, int y) &#123;\n    g[x].push_back(y);\n    return;\n&#125;\nint main() &#123;\n    read(n);\n    for (int i = 1; i &lt;= n; ++i) read(p[i]);\n    for (int i = 1; i &lt; n; ++i) &#123;\n        read(x), read(y);\n        add(x, y), add(y, x);\n    &#125;\n    int tot = 0;\n    for (int i = 2; i &lt;= n; ++i)\n        tot += ((int)g[i].size() == 1);\n    for (int i = 1; i &lt;= tot; ++i) ++a[p[i]];\n    DFS(1, -1);\n    print(f[1], &#39;\\n&#39;);\n    return 0;\n&#125;\n&#125; // namespace XSC062</code></pre>\n</details>\n<h3 id=\"ag-c.-cowlendar\">Ag C. Cowlendar</h3>\n<p><a href=\"https://www.luogu.com.cn/problem/P10136\" class=\"uri\">https://www.luogu.com.cn/problem/P10136</a></p>\n<p><em>çœæµï¼šå¯¹äºç»™å®šçš„åºåˆ— <span class=\"math inline\">\\(a\\)</span>ï¼Œæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³ <span class=\"math inline\">\\(a_i\\bmod L\\)</span> çš„å€¼çš„ç§ç±»æœ€å¤šä¸º 3 çš„ <span class=\"math inline\">\\(L\\)</span>ã€‚</em></p>\n<p>ä¹Ÿæ˜¯æŒºæœ‰æ„æ€çš„æ•°å­¦é¢˜äº†ã€‚è‹¥å°† <span class=\"math inline\">\\(a_i\\)</span> æŒ‰ç…§æ¨¡ <span class=\"math inline\">\\(L\\)</span> çš„æƒ…å†µåˆ†ç»„ï¼Œåˆ™å¯¹äºä»»æ„ä¸€ä¸ª <span class=\"math inline\">\\(a_i\\)</span>ï¼Œåœ¨ <span class=\"math inline\">\\((a_i,a_i+L)\\)</span> ä¸­æœ€å¤šåŒ…å«ä¸¤ä¸ªåˆ†åˆ«æ¥è‡ªå…¶ä½™ä¸¤ç»„çš„æ•°ã€‚</p>\n<p>å¯¹äºå»é‡å <span class=\"math inline\">\\(n&gt;3\\)</span> çš„æƒ…å†µï¼Œç”±é¸½å·¢å¾—å¿…å®šæœ‰ä¸¤ä¸ªæ•°å¯åˆ†ä¸ºä¸€ç»„ã€‚æ•…æˆ‘ä»¬æšä¸¾å¯èƒ½çš„ç»„é—´é—´éš”ï¼Œè€Œå¯èƒ½çš„ <span class=\"math inline\">\\(L\\)</span> å°±æ˜¯è¿™äº›é—´éš”çš„å› æ•°ã€‚</p>\n<p>ç”±ä¸Šé¢æˆ‘ä»¬æ¨å‡ºä¸€ä¸ªåˆæ³•ç»„é—´é—´éš”ä¸­æœ€å¤šé—´éš”ä¸‰ä¸ªæ•°ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰ <span class=\"math inline\">\\(a_{i+3}-a_i\\)</span>ã€<span class=\"math inline\">\\(a_{i+2}-a_i\\)</span> å’Œ <span class=\"math inline\">\\(a_{i+1}-a_i\\)</span> çº³å…¥è€ƒè™‘èŒƒå›´å³å¯ã€‚å¯¹äºæ‰€æœ‰å¯èƒ½çš„ <span class=\"math inline\">\\(L\\)</span>ï¼Œç›´æ¥ <span class=\"math inline\">\\(O(n)\\)</span> è·‘ä¸€ä¸ª <code>check</code> æ£€æŸ¥æ˜¯å¦åˆæ³•ã€‚</p>\n<p>å› å­ä¸ªæ•°ç…§ç†æ¥è¯´æ˜¯ <span class=\"math inline\">\\(\\sqrt{V}\\times n\\)</span> çº§åˆ«çš„ï¼Œä½†æ˜¯å®æµ‹ <span class=\"math inline\">\\(n\\)</span> æœ€å¤šåªæœ‰ä¸€ç™¾å¤šã€‚ä¼°è®¡æ˜¯å› ä¸º <span class=\"math inline\">\\(n\\)</span> å¤ªå¤§å°±å¾ˆéš¾æ„é€ å‡ºæ›´å¤šçš„åˆæ³•è§£å§ã€‚</p>\n<details>\n<pre class=\"cpp\"><code>#define int long long\nnamespace XSC062 &#123;\nusing namespace fastIO;\nconst int maxn = 1e4 + 5;\nconst int maxm = 3e4 + 5;\nstd::set&lt;int&gt; u;\nint n, res, mn, tot;\nint a[maxn], b[maxm];\nbool check(int x) &#123;\n    int l1 = 0, l2 = 0, l3 = 0;\n    for (int i = 1; i &lt;= n; ++i) &#123;\n        if (l1 == 0) l1 = a[i];\n        else if (x &amp;&amp; (a[i] - l1) % x == 0) l1 = a[i];\n        else if (l2 == 0) l2 = a[i];\n        else if (x &amp;&amp; (a[i] - l2) % x == 0) l2 = a[i];\n        else if (l3 == 0) l3 = a[i];\n        else if (x &amp;&amp; (a[i] - l3) % x == 0) l3 = a[i];\n        else return 0;\n    &#125;\n    return 1;\n&#125;\nint main() &#123;\n    read(n);\n    for (int i = 1; i &lt;= n; ++i) &#123;\n        read(a[i]);\n        if (!mn || a[i] / 4 &lt; mn) mn = a[i] / 4;\n    &#125;\n    std::sort(a + 1, a + n + 1);\n    n = std::unique(a + 1, a + n + 1) - a - 1;\n    if (check(0)) &#123;\n        print(mn * (mn + 1) / 2, &#39;\\n&#39;);\n        return 0;\n    &#125;\n    for (int i = 2; i &lt;= n; ++i) &#123;\n        b[++tot] = a[i] - a[i - 1];\n        if (i &gt;= 3) b[++tot] = a[i] - a[i - 2];\n        if (i &gt;= 4) b[++tot] = a[i] - a[i - 3];\n    &#125;\n    std::sort(b + 1, b + tot + 1);\n    tot = std::unique(b + 1, b + tot + 1) - b - 1;\n    for (int i = 1; i &lt;= tot; ++i) &#123;\n        if (check(b[i])) &#123;\n            for (int j = 1; j * j &lt;= b[i]; ++j) &#123;\n                if (b[i] % j == 0)\n                    u.insert(j), u.insert(b[i] / j);\n            &#125;\n        &#125;\n    &#125;\n    for (auto i : u) &#123;\n        if (i &gt; mn) break;\n        res += i;\n    &#125;\n    print(res, &#39;\\n&#39;);\n    return 0;\n&#125;\n&#125; // namespace XSC062\n#undef int</code></pre>\n<p></deteails></p>\n",
            "tags": [
                "é¸½å·¢åŸç†",
                "è°ƒå’Œçº§æ•°",
                "å·®åˆ†",
                "æ€ç»´",
                "æ ‘å½¢ DP"
            ]
        }
    ]
}