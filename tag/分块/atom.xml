<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://xsc062.netlify.app</id>
    <title> â€¢ Posts by &#34;åˆ†å—&#34; tag</title>
    <link href="https://xsc062.netlify.app" />
    <updated>2025-10-28T09:06:42.000Z</updated>
    <category term="å¹¶æŸ¥é›†" />
    <category term="æ–œç‡ä¼˜åŒ–" />
    <category term="æ‚¬çº¿æ³•" />
    <category term="å“ˆå¸Œ" />
    <category term="å­—å…¸æ ‘" />
    <category term="DP" />
    <category term="å•è°ƒé˜Ÿåˆ—" />
    <category term="åˆ†æ²»" />
    <category term="è®¡æ•°" />
    <category term="å®¹æ–¥" />
    <category term="äºŒåˆ†å›¾" />
    <category term="CRT / exCRT" />
    <category term="æ’åˆ—ç»„åˆ" />
    <category term="ç½‘ç»œæµ" />
    <category term="äºŒåˆ†" />
    <category term="å®¹æ–¥åŸç†" />
    <category term="çº¿æ®µæ ‘" />
    <category term="æ ‘çŠ¶æ•°ç»„" />
    <category term="åŒºé—´ DP" />
    <category term="æ„é€ " />
    <category term="æ•°æ®ç»“æ„" />
    <category term="Tarjan" />
    <category term="ä¸‹é¥­" />
    <category term="æè¶…çº¿æ®µæ ‘" />
    <category term="æ ‘é“¾å‰–åˆ†" />
    <category term="LCA" />
    <category term="å€å¢" />
    <category term="é¸½å·¢åŸç†" />
    <category term="æ•°å­¦" />
    <category term="è°ƒå’Œçº§æ•°" />
    <category term="å·®åˆ†" />
    <category term="æ€ç»´" />
    <category term="æ ‘å½¢ DP" />
    <category term="æœ€å°ç”Ÿæˆæ ‘" />
    <category term="çŠ¶å‹" />
    <category term="é«˜ç»´å‰ç¼€å’Œ" />
    <category term="SAM" />
    <category term="åˆ†å—" />
    <category term="å¯æŒä¹…åŒ–" />
    <category term="ç¬›å¡å°”æ ‘" />
    <category term="é—²è¯" />
    <category term="æ¬§æ‹‰å›è·¯" />
    <category term="é•¿é“¾å‰–åˆ†" />
    <category term="KMP" />
    <category term="border" />
    <category term="éšæœºåŒ–" />
    <category term="å­—ç¬¦ä¸²" />
    <category term="AC è‡ªåŠ¨æœº" />
    <category term="SA" />
    <category term="æ ‘ä¸Šå·®åˆ†" />
    <category term="FWT" />
    <category term="å †" />
    <category term="æ ‘çš„é‡å¿ƒ" />
    <category term="è´ªå¿ƒ" />
    <category term="å‡æ‘Š" />
    <category term="ä¼˜åŒ–å»ºå›¾" />
    <category term="åæ‚”è´ªå¿ƒ" />
    <category term="è°ƒæ•´æ³•" />
    <category term="èƒŒåŒ…" />
    <category term="åšå¼ˆè®º" />
    <category term="DP ä¼˜åŒ–" />
    <category term="è™šæ ‘" />
    <category term="ç‚¹åˆ†æ²»" />
    <category term="å››è¾¹å½¢ä¸ç­‰å¼" />
    <category term="æ”¯é…å¯¹" />
    <category term="DDP" />
    <category term="CDQ åˆ†æ²»" />
    <category term="çŒ«æ ‘" />
    <category term="DP å¥— DP" />
    <category term="Kruskal é‡æ„æ ‘" />
    <category term="é«˜ç²¾åº¦" />
    <category term="æœ€çŸ­è·¯" />
    <category term="æ ‘å¥—æ ‘" />
    <category term="äºŒé¡¹å¼åæ¼”" />
    <category term="æœç´¢" />
    <entry>
        <id>https://xsc062.netlify.app/20251028/</id>
        <title>æ‚é¢˜</title>
        <link rel="alternate" href="https://xsc062.netlify.app/20251028/"/>
        <content type="html">&lt;p&gt;æ¨¡æ‹Ÿèµ›çš„å¯†åº¦æ­£åœ¨å¨èƒå…¶ä»–æ–‡ç« çš„ç”Ÿå­˜ç¯å¢ƒã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;a.-æ’åº&#34;&gt;A. æ’åº&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P14352&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P14352&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; çš„æ’åˆ— &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;ï¼Œå®šä¹‰ä¸€è½®å†’æ³¡ï¼š&lt;/p&gt;
&lt;pre class=&#34;python&#34;&gt;&lt;code&gt;for i in range(1, n):
    if p[i] &amp;gt; p[i + 1]:
        swap(p[i], p[i + 1])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»™å®š &lt;span class=&#34;math inline&#34;&gt;\(n,k\)&lt;/span&gt;ï¼Œé—®åœ¨æ‰€æœ‰é•¿åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; çš„æ’åˆ—ä¸­ï¼Œå¯ä»¥åœ¨ &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; è½®å†’æ³¡åå•å¢çš„æ’åˆ—æ•°é‡ã€‚å¯¹ &lt;span class=&#34;math inline&#34;&gt;\(998244353\)&lt;/span&gt; å–æ¨¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(n\le 10^{18},k\le 2\times 10^7\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ååºè¡¨ã€‚ä»¤ &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt; è¡¨ç¤º &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; ç»“å°¾çš„é€†åºå¯¹æ•°ï¼Œé‚£ä¹ˆé™åˆ¶ç›¸å½“äºè¯´ &lt;span class=&#34;math inline&#34;&gt;\(\max\{a\}\le k\)&lt;/span&gt;ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¹Ÿå³é™åˆ¶ä¸€ä¸ªå…ƒç´ ä¹‹å‰å¤§äºä¹‹çš„å…ƒç´ æ•°ä¸è¶…è¿‡ &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;ï¼Œå¯ä»¥ç›´æ¥è®¡æ•°ã€‚æƒ³è±¡æŠŠ &lt;span class=&#34;math inline&#34;&gt;\(1\sim n\)&lt;/span&gt; ä¾æ¬¡å¡«å…¥æ’åˆ—çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(1\sim n-k\)&lt;/span&gt;ï¼Œåªèƒ½å¡«åœ¨å‰©ä½™ç©ºä½çš„å·¦ &lt;span class=&#34;math inline&#34;&gt;\(k+1\)&lt;/span&gt; ä¸ªï¼ˆå› ä¸ºå¡«å®Œå®ƒåï¼Œå‰©ä¸‹çš„ç©ºä½éƒ½æ¯”å®ƒå¤§ï¼‰ï¼›&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(n-k+1\sim n\)&lt;/span&gt;ï¼Œå¯ä»¥å¡«åœ¨å‰©ä½™ä»»æ„ä¸€ä¸ªç©ºä½ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•…ç­”æ¡ˆä¸º &lt;span class=&#34;math inline&#34;&gt;\((k+1)^{n-k}\cdot k!\)&lt;/span&gt;ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int mod = 998244353;
int main() &amp;#123;
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
    std::freopen(&amp;quot;sorting.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;sorting.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
    auto stime = std::chrono::steady_clock::now();
    long long n;
    int k;
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; k, k = std::min((long long)k, n);
    auto qkp = [&amp;amp;](long long x, int y) &amp;#123;
        auto res = 1ll;
        for (; y; (x *= x) %= mod, y &amp;gt;&amp;gt;= 1)
            if (y &amp;amp; 1)
                (res *= x) %= mod;
        return res;
    &amp;#125;;
    auto res = qkp(k + 1, (n - k) % (mod - 1));
    for (int i = 1; i &amp;lt;= k; ++i)
        (res *= i) %= mod;
    std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    std::cerr &amp;lt;&amp;lt; std::fixed &amp;lt;&amp;lt; std::setprecision(6) &amp;lt;&amp;lt; std::chrono::duration&amp;lt;double&amp;gt;(std::chrono::steady_clock::now() - stime).count() &amp;lt;&amp;lt; &amp;quot;s \n&amp;quot;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;b.-é‡æ’&#34;&gt;B. é‡æ’&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P14353&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/P14353&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªåˆå§‹ä¸ºç©ºçš„æ•°ç»„ &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;ï¼Œå†ç»™å‡º &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; æ¬¡åŠ æ•°æ“ä½œï¼Œæ¯æ¬¡åŠ æ•°åè¾“å‡ºï¼š&lt;/p&gt;
&lt;p&gt;ä»»æ„æ’åˆ— &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;ï¼Œå¾—åˆ°çš„ &lt;span class=&#34;math inline&#34;&gt;\(\sum\limits_{i=2}^n |a_{i+1}-a_{i}|\)&lt;/span&gt; çš„æœ€å¤§å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(n\le 3\times 10^6\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ˜¾ç„¶ä»å°åˆ°å¤§æ’åˆ—ï¼Œç­”æ¡ˆæ˜¯å &lt;span class=&#34;math inline&#34;&gt;\(\left\lfloor \dfrac n2\right\rfloor\)&lt;/span&gt; ä¸ªæ•°çš„å’Œå‡å»å‰ &lt;span class=&#34;math inline&#34;&gt;\(\left\lfloor \dfrac n2\right\rfloor\)&lt;/span&gt; çš„å’Œçš„å·®çš„äºŒå€ï¼Œå†å‡å»ä½äºä¸­é—´ 2 / 3 ä¸ªæ•°ä¸­ï¼Œç›¸é‚»ä¸¤ä¸ªå·®çš„æœ€å°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å®¶ä¼™åœ¨è¯´ä»€ä¹ˆå‘¢.jpg&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç”¨å¤§æ ¹å † + å°æ ¹å †ç»´æŠ¤å³å¯ï¼Œå› ä¸º pbds è¿‡ä¸å»&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int main() &amp;#123;
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
    std::freopen(&amp;quot;rearrange.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;rearrange.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
    auto stime = std::chrono::steady_clock::now();
    int n, T;
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; T;
    auto res = 0ll, la = 0ll, sL = 0ll, sR = 0ll;
    std::priority_queue&amp;lt;int&amp;gt; L;
    std::priority_queue&amp;lt;int, std::vector&amp;lt;int&amp;gt;, std::greater&amp;lt;int&amp;gt; &amp;gt; R;
    for (int i = 1, mid = 0; i &amp;lt;= n; ++i) &amp;#123;
        long long x;
        std::cin &amp;gt;&amp;gt; x;
        int b =  T ? x ^ la : x;
        if (i == 1)
            mid = b, la = 0ll;
        else if (i &amp;amp; 1) &amp;#123;
            if (b &amp;lt; L.top()) &amp;#123;
                mid = L.top(), sL -= mid;
                L.pop();
                sL += b, L.push(b);
            &amp;#125;
            else if (b &amp;gt; R.top()) &amp;#123;
                mid = R.top(), sR -= mid;
                R.pop();
                sR += b, R.push(b);
            &amp;#125;
            else
                mid = b;
            la = 2 * (sR - sL) - std::min(R.top() - mid, mid - L.top());
        &amp;#125;
        else &amp;#123;
            if (b &amp;lt;= mid) &amp;#123;
                sL += b, sR += mid;
                L.push(b), R.push(mid);
            &amp;#125;
            else &amp;#123;
                sL += mid, sR += b;
                L.push(mid), R.push(b);
            &amp;#125;
            la = 2 * (sR - sL) - (R.top() - L.top());
        &amp;#125;
        res ^= la;
    &amp;#125;
    printf(&amp;quot;%lld\n&amp;quot;, res);
    std::cerr &amp;lt;&amp;lt; std::fixed &amp;lt;&amp;lt; std::setprecision(6) &amp;lt;&amp;lt; std::chrono::duration&amp;lt;double&amp;gt;(std::chrono::steady_clock::now() - stime).count() &amp;lt;&amp;lt; &amp;quot;s \n&amp;quot;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;c.-æ•´å¼æ¯”è¾ƒ-qoj10506.-waga&#34;&gt;C. æ•´å¼æ¯”è¾ƒ / qoj#10506. Waga&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/6685/problem/3&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/6685/problem/3&lt;/a&gt; / &lt;a href=&#34;https://qoj.ac/problem/10506&#34; class=&#34;uri&#34;&gt;https://qoj.ac/problem/10506&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»™å®š &lt;span class=&#34;math inline&#34;&gt;\(a_{1\cdots n}\)&lt;/span&gt;ï¼Œå’Œä¸€ä¸ªç§°ï¼Œå¦‚ä¸‹æ“ä½œç§°ä¸ºä¸€æ¬¡ã€ç§°é‡ã€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰ä¸­ &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; çš„ä¸€ä¸ªå­é›†ï¼Œè¾“å…¥ç»™ç§°ã€‚è®°å®ƒä»¬çš„å’Œä¸º &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt;ï¼Œé‚£ä¹ˆç§°ä¼šè¿”å› &lt;span class=&#34;math inline&#34;&gt;\(\min(k,\left\lfloor \dfrac sc \right\rfloor)\)&lt;/span&gt;ï¼Œå…¶ä¸­ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(c\)&lt;/span&gt; ä¸ºç»™å®šå¸¸æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç°åœ¨å¯¹äºæ¯ä¸ªæ— åºå¯¹ &lt;span class=&#34;math inline&#34;&gt;\((i,j)\)&lt;/span&gt;ï¼ˆ&lt;span class=&#34;math inline&#34;&gt;\(i\ne j\)&lt;/span&gt;ï¼‰ï¼Œä½ éœ€è¦åˆ¤æ–­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å·²çŸ¥ &lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt; ä¸­é™¤ &lt;span class=&#34;math inline&#34;&gt;\(a_i,a_j\)&lt;/span&gt; å¤–æ‰€æœ‰å…ƒç´ å€¼ï¼Œä¸” &lt;span class=&#34;math inline&#34;&gt;\(a_i,a_j\)&lt;/span&gt; æ•°å€¼æœªçŸ¥çš„å‰æä¸‹ï¼Œæ˜¯å¦å¯ä»¥é€šè¿‡è‹¥å¹²æ¬¡ç§°é‡ç¡®å®š &lt;span class=&#34;math inline&#34;&gt;\(a_i,a_j\)&lt;/span&gt; çš„å¤§å°å…³ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(n,c\le 8000,k\le 10^5,1\le a_i&amp;lt; kc\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ˜¾ç„¶ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\(a_j\)&lt;/span&gt; èƒ½åŒºåˆ†ï¼Œå½“ä¸”ä»…å½“ &lt;span class=&#34;math inline&#34;&gt;\(\left\lfloor\dfrac {a_i}c\right\rfloor\ne \left\lfloor\dfrac {a_j}c\right\rfloor\)&lt;/span&gt;ï¼Œæˆ–è€…å­˜åœ¨ä¸€ä¸ªå…¶ä»–å…ƒç´ çš„å­é›† &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt;ï¼Œä½¿å¾— &lt;span class=&#34;math inline&#34;&gt;\(\left\lfloor\dfrac {a_i+s}c\right\rfloor\ne \left\lfloor\dfrac {a_j + s}c\right\rfloor\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åè¿‡æ¥ï¼Œå¦‚æœ &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt; å’Œ &lt;span class=&#34;math inline&#34;&gt;\(a_j\)&lt;/span&gt; ä¸èƒ½åŒºåˆ†ï¼Œä¸€ä¸ªå‰ææ˜¯ &lt;span class=&#34;math inline&#34;&gt;\(\left\lfloor\dfrac {a_i}c\right\rfloor =\left\lfloor\dfrac {a_j}c\right\rfloor\)&lt;/span&gt;ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¸‹æ„è¯†çŒœè¦æ’åºï¼Œæ’åºåæ‰“è¡¨å‘ç°ä½¿ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; ä¸åˆæ³•çš„ &lt;span class=&#34;math inline&#34;&gt;\(j\)&lt;/span&gt; æ€»æ˜¯è¿ç»­çš„ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;&lt;summary&gt;è¯æ˜&lt;/summary&gt;&lt;/p&gt;
&lt;ol type=&#34;1&#34;&gt;
&lt;li&gt;&lt;p&gt;éœ€è¦è¯ï¼šå¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(x&amp;lt;y&amp;lt;z\)&lt;/span&gt;ï¼Œè‹¥ &lt;span class=&#34;math inline&#34;&gt;\(x,y\)&lt;/span&gt; ä¸å¯åŒºåˆ†ï¼Œä¸” &lt;span class=&#34;math inline&#34;&gt;\(y,z\)&lt;/span&gt; ä¸å¯åŒºåˆ†ï¼Œé‚£ä¹ˆ &lt;span class=&#34;math inline&#34;&gt;\(x,z\)&lt;/span&gt; ä¸å¯åŒºåˆ†ã€‚&lt;/p&gt;
&lt;p&gt;è®° &lt;span class=&#34;math inline&#34;&gt;\(\left\lfloor\dfrac {x}c\right\rfloor=\left\lfloor\dfrac {y}c\right\rfloor=\left\lfloor\dfrac {z}c\right\rfloor=w\)&lt;/span&gt;ï¼Œä¸å­˜åœ¨ &lt;span class=&#34;math inline&#34;&gt;\(s\le c\cdot (k-w)\)&lt;/span&gt;ï¼Œä½¿å¾— &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt; å¯ä»¥è¿›ä½ä½† &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; ä¸å¯ï¼Œä¹Ÿä¸å­˜åœ¨è¿™æ ·çš„ &lt;span class=&#34;math inline&#34;&gt;\(s\)&lt;/span&gt; ä½¿å¾— &lt;span class=&#34;math inline&#34;&gt;\(z\)&lt;/span&gt; å¯ä»¥è¿›ä½ä½† &lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt; ä¸å¯ã€‚&lt;/p&gt;
&lt;p&gt;åˆå¹¶ä¸ç­‰å¼å®¹æ˜“å¾—åˆ°ä¸å­˜åœ¨è¿™æ ·çš„ &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; ä½¿å¾— &lt;span class=&#34;math inline&#34;&gt;\(z\)&lt;/span&gt; å¯ä»¥è¿›ä½ä½† &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; ä¸å¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;éœ€è¦è¯ï¼šå¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(x&amp;lt;y&amp;lt;z\)&lt;/span&gt;ï¼Œè‹¥ &lt;span class=&#34;math inline&#34;&gt;\(x,y\)&lt;/span&gt; å¯åŒºåˆ†æˆ– &lt;span class=&#34;math inline&#34;&gt;\(y,z\)&lt;/span&gt; å¯åŒºåˆ†ï¼Œåˆ™ &lt;span class=&#34;math inline&#34;&gt;\(x,z\)&lt;/span&gt; å¯åŒºåˆ†ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒæ•´æ³•æ˜“å¾—ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/details&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•…å‘ç°åªéœ€è¦è®¨è®ºç›¸é‚»ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å¯åŒºåˆ†ã€‚éœ€è¦çŸ¥é“æ‰€æœ‰å¯èƒ½çš„å­é›†å’Œç”¨äº checkï¼Œå¯ä»¥ç”¨åˆ†æ²»é¢„å¤„ç†ã€åªæœ‰æŸç›¸é‚»ä¸¤ä¸ªå…ƒç´ ä¸é€‰ã€æ—¶çš„å‰åç¼€èƒŒåŒ…æ•°ç»„ï¼ˆåˆ°è¾¾æŸä¸ªä½™æ•°æ—¶éœ€è¦çš„æœ€å°æ•´å€æ•°ï¼‰ï¼Œå°±å¯ä»¥ &lt;span class=&#34;math inline&#34;&gt;\(O(nc\log n)\)&lt;/span&gt; è§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘åœ¨åšä»€ä¹ˆï¼šåˆ ç‚¹åœ¨ &lt;span class=&#34;math inline&#34;&gt;\([l,mid]\)&lt;/span&gt;ï¼Œé‚£ä¹ˆ &lt;span class=&#34;math inline&#34;&gt;\([mid+1,r]\)&lt;/span&gt; çš„ DP æ•°ç»„ä¸ä¼šå—åˆ°å½±å“ï¼›åˆ ç‚¹åœ¨ &lt;span class=&#34;math inline&#34;&gt;\([mid + 1, r]\)&lt;/span&gt;ï¼Œé‚£ä¹ˆ &lt;span class=&#34;math inline&#34;&gt;\([l,mid]\)&lt;/span&gt; çš„ DP æ•°ç»„ä¸ä¼šå—åˆ°å½±å“ã€‚èƒŒåŒ…çš„ç‰©å“æ˜¯æ— é¡ºåºçš„ï¼Œæ‰€ä»¥æœ‰æ­£ç¡®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´å¤§éƒ¨åˆ†ä¿¡æ¯æ˜¯å¯ç»§æ‰¿çš„ã€‚&lt;em&gt;ä¸ºä»€ä¹ˆé¢˜è§£ç®¡è¿™ä¸ªå« CDQï¼Ÿæ˜¯å› ä¸ºæ™®é€šåˆ†æ²»æ€»ä¼šè¢«å« CDQ å—ï¼Ÿ&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åšä¸€ä¸ªç±»ä¼¼ 01 èƒŒåŒ…æ»šåŠ¨æ•°ç»„çš„ä¸œè¥¿ï¼Œç»´æŠ¤æ¯ä¸ªç‚¹å‰ / åå¯ä»¥å‡‘å‡ºæ¥çš„èƒŒåŒ…å€¼ï¼Œåœ¨æœ€åä¸‹ä¼ åˆ°å•ç‚¹æ—¶ç»Ÿè®¡ç­”æ¡ˆå³å¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
&lt;p&gt;ç›¸é‚»ä¸¤ä¸ªçš„å¤„ç†ç•¥æ˜¾çƒ§è„‘ï¼Œä½†æ„å¤–åœ°ç®€æ´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;gt;=&lt;/code&gt; ä¸è¦å†™æˆé™¤ï¼Œä¸ç„¶ä¼šæ…¢æˆå”è¯—&lt;/p&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxn = 8e3 + 5;
char nec(void) &amp;#123;
    static char buf[1 &amp;lt;&amp;lt; 20], *p = buf, *e = buf;
    if (p == e) &amp;#123;
        e = buf + fread(buf, 1, 1 &amp;lt;&amp;lt; 20, stdin);
        p = buf;
    &amp;#125;
    return *p++;
&amp;#125;
int read(void) &amp;#123;
    auto x = 0ll;
    char t = nec();
    for (; t &amp;lt; &amp;#39;0&amp;#39; || t &amp;gt; &amp;#39;9&amp;#39;; t = nec());
    for (; t &amp;gt;= &amp;#39;0&amp;#39; &amp;amp;&amp;amp; t &amp;lt;= &amp;#39;9&amp;#39;; t = nec())
        x = x * 10 + t - &amp;#39;0&amp;#39;;
    return x;
&amp;#125;
int ok[maxn], m, k;
std::pair&amp;lt;int, int&amp;gt; a[maxn];
void calc(int l, int r, const std::vector&amp;lt;int&amp;gt; f) &amp;#123;
    if (l &amp;gt; r)
        return;
    if (l == r) &amp;#123;
        if (a[l].first == a[l + 1].first)
            ok[l] = 1;
        else if (a[l].first / m == a[l + 1].first / m)
            ok[l] = (*std::min_element(f.begin() + m - a[l + 1].first % m, f.begin() + m - a[l].first % m) + a[l].first / m &amp;gt;= k);
        return;
    &amp;#125;
    int mid = (l + r) &amp;gt;&amp;gt; 1;
    auto g = f;
    for (int i = mid + 2; i &amp;lt;= r + 1; ++i) &amp;#123;
        auto h = g;
        for (int j = 0, k; j &amp;lt; m; ++j) &amp;#123;
            k = (j + m - a[i].first % m) % m;
            h[j] = std::min(h[j], g[k] + a[i].first / m + (k + a[i].first % m &amp;gt;= m));
        &amp;#125;
        h.swap(g);
    &amp;#125;
    calc(l, mid, g);
    g = f;
    for (int i = l; i &amp;lt;= mid; ++i) &amp;#123;
        auto h = g;
        for (int j = 0, k; j &amp;lt; m; ++j) &amp;#123;
            k = (j + m - a[i].first % m) % m;
            h[j] = std::min(h[j], g[k] + a[i].first / m + (k + a[i].first % m &amp;gt;= m));
        &amp;#125;
        h.swap(g);
    &amp;#125;
    calc(mid + 1, r, g);
    return;
&amp;#125;;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
    std::freopen(&amp;quot;intcmp.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;intcmp.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
    const auto stime = std::chrono::steady_clock::now();
#endif
    int n = read();
    m = read(), k = read();
    for (int i = 1; i &amp;lt;= n; ++i)
        a[i].first = read(), a[i].second = i;
    std::sort(a + 1, a + n + 1);
    std::vector&amp;lt;int&amp;gt; f(m, 0x3f3f3f3f);
    f[0] = 0;
    calc(1, n - 1, f);
    std::vector&amp;lt;int&amp;gt; resL(n + 1), resR(n + 1);
    int now = 0;
    for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
        resR[a[i].second] = i - 1 - now;
        if (i != n &amp;amp;&amp;amp; ok[i])
            ++now;
        else
            now = 0;
    &amp;#125;
    now = 0;
    for (int i = n; i; --i) &amp;#123;
        resL[a[i].second] = n - i - now;
        if (ok[i - 1])
            ++now;
        else
            now = 0;
    &amp;#125;
    for (int i = 1; i &amp;lt;= n; ++i)
        printf(&amp;quot;%d %d \n&amp;quot;, resL[i], resR[i]);
#ifndef ONLINE_JUDGE
    std::cerr &amp;lt;&amp;lt; std::fixed &amp;lt;&amp;lt; std::setprecision(6) &amp;lt;&amp;lt; std::chrono::duration&amp;lt;double&amp;gt; (std::chrono::steady_clock::now() - stime).count() &amp;lt;&amp;lt; &amp;quot;s\n&amp;quot;;
#endif
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;b.-å­—ç¬¦ä¸²è½¬æ¢&#34;&gt;B. å­—ç¬¦ä¸²è½¬æ¢&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/problem/52055&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/problem/52055&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»™å®šç­‰é•¿ 01 ä¸² &lt;span class=&#34;math inline&#34;&gt;\(S,T\)&lt;/span&gt;ï¼Œç»´æŠ¤ &lt;span class=&#34;math inline&#34;&gt;\(Q\)&lt;/span&gt; æ¬¡æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹ï¼šFlip &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; çš„æŸä¸ªå­—ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ï¼šFlip &lt;span class=&#34;math inline&#34;&gt;\(T\)&lt;/span&gt; çš„æŸä¸ªå­—ç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯æ¬¡æ“ä½œåï¼Œé—® &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; èƒ½å¦é€šè¿‡è‹¥å¹²æ¬¡ä¸‹åˆ—æ“ä½œå˜ä¸º &lt;span class=&#34;math inline&#34;&gt;\(T\)&lt;/span&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹© &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; ä¸­çš„ä¸€ä¸ª &lt;code&gt;00&lt;/code&gt;ï¼Œå˜ä¸º &lt;code&gt;10&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹© &lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; ä¸­çš„ä¸€ä¸ª &lt;code&gt;11&lt;/code&gt;ï¼Œå˜ä¸º &lt;code&gt;01&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(|S|,Q\le 3\times 10^5\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è¿ç»­ 00 / 11 æ“ä½œï¼Œè€ƒè™‘å¥‡æ•°ä½å–åã€‚å–åä¹‹åå‘ç°åŸæ“ä½œç­‰ä»·äº &lt;span class=&#34;math inline&#34;&gt;\(a_i\gets a_{i+1}\)&lt;/span&gt;ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¿™ä¸ªæ“ä½œåªä¼šä½¿è¿ç»­æ®µçš„æ•°é‡å‡å°‘ï¼Œæ•…è¦æ±‚æ¯ä¸€ä¸ªåç¼€ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(S\)&lt;/span&gt; çš„è¿ç»­æ®µä¸ªæ•°ä¸å°‘äº &lt;span class=&#34;math inline&#34;&gt;\(T\)&lt;/span&gt; çš„è¿ç»­æ®µä¸ªæ•°ï¼Œè€Œä¸”äºŒè€…ç»“å°¾ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;çº¿æ®µæ ‘ç»´æŠ¤å³å¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxn = 3e5 + 5;
struct &amp;#123; int l, r, mn, d; &amp;#125; t[maxn &amp;lt;&amp;lt; 2];
#define lt (p &amp;lt;&amp;lt; 1)
#define rt (lt | 1)
void bld(int p, int l, int r) &amp;#123;
    t[p].l = l, t[p].r = r;
    t[p].mn = t[p].d = 0;
    if (l == r)
        return;
    int mid = (l + r) &amp;gt;&amp;gt; 1;
    bld(lt, l, mid), bld(rt, mid + 1, r);
    return;
&amp;#125;
void pushdown(int p) &amp;#123;
    if (t[p].d) &amp;#123;
        t[lt].mn += t[p].d, t[lt].d += t[p].d;
        t[rt].mn += t[p].d, t[rt].d += t[p].d;
        t[p].d = 0;
    &amp;#125;
    return;
&amp;#125;
void add(int p, int l, int r, int v) &amp;#123;
    if (l &amp;lt;= t[p].l &amp;amp;&amp;amp; t[p].r &amp;lt;= r) &amp;#123;
        t[p].mn += v, t[p].d += v;
        return;
    &amp;#125;
    pushdown(p);
    int mid = (t[p].l + t[p].r) &amp;gt;&amp;gt; 1;
    if (l &amp;lt;= mid)
        add(lt, l, r, v);
    if (r &amp;gt; mid)
        add(rt, l, r, v);
    t[p].mn = std::min(t[lt].mn, t[rt].mn);
    return;
&amp;#125;
#undef lt
#undef rt
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
    std::freopen(&amp;quot;string.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;string.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
    const auto stime = std::chrono::steady_clock::now();
#endif
    int T;
    for (std::cin &amp;gt;&amp;gt; T; T--; ) &amp;#123;
        int n, q;
        std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; q;
        std::vector&amp;lt;int&amp;gt; a(n + 1), b(n + 1);
        bld(1, 1, n);
        for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
            char t;
            std::cin &amp;gt;&amp;gt; t, a[i] = (t == &amp;#39;B&amp;#39;);
            if (i &amp;amp; 1)
                a[i] ^= 1;
        &amp;#125;
        for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
            char t;
            std::cin &amp;gt;&amp;gt; t, b[i] = (t == &amp;#39;B&amp;#39;);
            if (i &amp;amp; 1)
                b[i] ^= 1;
        &amp;#125;
        for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
            int v = 0;
            v += (i == n || a[i] != a[i + 1]);
            v -= (i == n || b[i] != b[i + 1]);
            if (v)
                add(1, 1, i, v);
        &amp;#125;
        for (char op; q--; ) &amp;#123;
            int i;
            std::cin &amp;gt;&amp;gt; op &amp;gt;&amp;gt; i;
            if (op == &amp;#39;X&amp;#39;) &amp;#123;
                int v = 0, v1 = 0;
                v -= (i == n || a[i] != a[i + 1]);
                v1 -= (i != 1 &amp;amp;&amp;amp; a[i] != a[i - 1]);
                a[i] ^= 1;
                v += (i == n || a[i] != a[i + 1]);
                v1 += (i != 1 &amp;amp;&amp;amp; a[i] != a[i - 1]);
                if (v)
                    add(1, 1, i, v);
                if (v1)
                    add(1, 1, i - 1, v1);
            &amp;#125;
            else &amp;#123;
                int v = 0, v1 = 0;
                v += (i == n || b[i] != b[i + 1]);
                v1 += (i != 1 &amp;amp;&amp;amp; b[i] != b[i - 1]);
                b[i] ^= 1;
                v -= (i == n || b[i] != b[i + 1]);
                v1 -= (i != 1 &amp;amp;&amp;amp; b[i] != b[i - 1]);
                if (v)
                    add(1, 1, i, v);
                if (v1)
                    add(1, 1, i - 1, v1);
            &amp;#125;
            std::cout &amp;lt;&amp;lt; ((a[n] == b[n] &amp;amp;&amp;amp; t[1].mn &amp;gt;= 0) ? &amp;quot;YES&amp;quot; : &amp;quot;NO&amp;quot;) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        &amp;#125;
    &amp;#125;
#ifndef ONLINE_JUDGE
    std::cerr &amp;lt;&amp;lt; std::fixed &amp;lt;&amp;lt; std::setprecision(6) &amp;lt;&amp;lt; std::chrono::duration&amp;lt;double&amp;gt; (std::chrono::steady_clock::now() - stime).count() &amp;lt;&amp;lt; &amp;quot;s\n&amp;quot;;
#endif
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;c.-ç›‘æ§&#34;&gt;C. ç›‘æ§&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/problem/52057&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/problem/52057&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»™å®š &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; ä¸ªæ€ªï¼Œæ¯ä¸ªæ€ªæœ‰ &lt;span class=&#34;math inline&#34;&gt;\(B_i\)&lt;/span&gt; æ»´è¡€ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæ€ªèƒ½è¢«æ‰“ &lt;span class=&#34;math inline&#34;&gt;\(\le B_i\)&lt;/span&gt; æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;è¦æ±‚æ¯ä¸ªæ€ªå¿…é¡»è¢«æ‰“ &lt;span class=&#34;math inline&#34;&gt;\(\ge A_i\)&lt;/span&gt; æ¬¡ï¼Œå¹¶è®¤ä¸ºè¢«æ‰“æ°å¥½ &lt;span class=&#34;math inline&#34;&gt;\(A_i\)&lt;/span&gt; æ¬¡æ—¶è¿™ä¸ªæ€ªæ˜¯å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(1\le x\le \sum B_i\)&lt;/span&gt;ï¼Œæ±‚ï¼šåœ¨æ”»å‡»æ¬¡æ•°åªèƒ½ä¸º &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; çš„å€æ•°çš„å‰æä¸‹ï¼Œä¸å¥½çš„æ€ªçš„æœ€å°å€¼ã€‚ä½ åªéœ€è¦è¾“å‡ºç­”æ¡ˆçš„å’Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(N\le 10^5,1\le A_i&amp;lt; B_i\le 10^5\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è®° &lt;span class=&#34;math inline&#34;&gt;\(c_i=B_i-A_i\)&lt;/span&gt;ï¼ŒæŠŠ &lt;span class=&#34;math inline&#34;&gt;\(c_i\)&lt;/span&gt; é™åºæ’åˆ—ï¼Œè®° &lt;span class=&#34;math inline&#34;&gt;\(s=\sum A_i\)&lt;/span&gt;ï¼Œé‚£ä¹ˆä¸€ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; çš„ç­”æ¡ˆä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\min\left\{i\mid{\left\lceil \frac{s}x \right\rceil\cdot x - s\ge c_i}\right\}
\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®¹æ˜“æƒ³åˆ°æ•´é™¤åˆ†å—ï¼Œæšä¸¾ &lt;span class=&#34;math inline&#34;&gt;\(\left\lceil \dfrac{s}x \right\rceil\)&lt;/span&gt; çš„å€¼ &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;ï¼Œé‚£ä¹ˆç›¸å½“äºæƒ³è¦æ‰¾åˆ° &lt;span class=&#34;math inline&#34;&gt;\([L_i,R_i]\)&lt;/span&gt; ä¸­çš„æ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;ï¼Œ&lt;span class=&#34;math inline&#34;&gt;\(x\cdot k-s\)&lt;/span&gt; ä¼šè½åœ¨å“ªä¸ª &lt;span class=&#34;math inline&#34;&gt;\(c\)&lt;/span&gt; çš„ç®¡è¾–èŒƒå›´é‡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸å¦¨è®° &lt;span class=&#34;math inline&#34;&gt;\(c_i\)&lt;/span&gt; çš„ç®¡è¾–èŒƒå›´ä¸º &lt;span class=&#34;math inline&#34;&gt;\([cL_i,cR_i]\)&lt;/span&gt;ï¼Œé‚£ä¹ˆè½¬åŒ–ä¸º &lt;span class=&#34;math inline&#34;&gt;\(x\cdot k-s\in [cL_i,cR_i]\)&lt;/span&gt;ï¼Œæšä¸¾ &lt;span class=&#34;math inline&#34;&gt;\(c\)&lt;/span&gt; è§£ä¸ç­‰å¼å³å¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä½†å‘ç°ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼šå¤–å±‚æ•´é™¤åˆ†å—å¤æ‚åº¦æ˜¯ &lt;span class=&#34;math inline&#34;&gt;\(\sqrt(s)\)&lt;/span&gt; çš„ï¼Œæœ€åŠ£ &lt;span class=&#34;math inline&#34;&gt;\(10^5\)&lt;/span&gt; çº§åˆ«ï¼Œå¾ˆåäº†ã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°æšä¸¾å•†æ•°åŠ£çš„åŸå› æ˜¯ä½¿ &lt;span class=&#34;math inline&#34;&gt;\(\left\lceil \dfrac{s}x \right\rceil\)&lt;/span&gt; å¾ˆå¤§çš„ &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; å¹¶ä¸å¤šï¼Œå´å ç”¨äº†å¾ˆå¤šæšä¸¾æ¬¡æ•°&lt;/p&gt;
&lt;p&gt;å¦‚æœåšç»å…¸çš„æ•´é™¤åˆ†å—åŒæ ·ä¼šå‘ç°åˆ°åæœŸå—å†…å…ƒç´ è¿œè¿œå°‘äº &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;ï¼Œå´è¦èŠ±è´¹ &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; æ¬¡æ“ä½œæ¥å¤„ç†å®ƒä»¬ã€‚æ‰€ä»¥å¯¹äºè¿™éƒ¨åˆ†æ•°æˆ‘ä»¬ç›´æ¥æœ´ç´ äºŒåˆ†ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å–é˜ˆå€¼ä¸º 1500 å³å¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int B = 1500;
const long long inf = 1e18;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr), std::cout.tie(nullptr);
#else
    std::freopen(&amp;quot;.in&amp;quot;, &amp;quot;r&amp;quot;, stdin);
    std::freopen(&amp;quot;.out&amp;quot;, &amp;quot;w&amp;quot;, stdout);
    const auto stime = std::chrono::steady_clock::now();
#endif
    int n;
    std::cin &amp;gt;&amp;gt; n;
    std::vector&amp;lt;long long&amp;gt; c(n + 1);
    auto sa = 0ll, sb = 0ll;
    for (int i = 1, a, b; i &amp;lt;= n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b;
        sa += a, sb += b, c[i] = b - a;
    &amp;#125;
    std::sort(c.begin() + 1, c.end(), std::greater&amp;lt;int&amp;gt; ());
    std::partial_sum(c.begin() + 1, c.end(), c.begin() + 1);
    auto L = sb + 1;
    std::stack&amp;lt;std::pair&amp;lt;long long, int&amp;gt; &amp;gt; st;
    for (int k = 1; k &amp;lt;= 1500; ++k) &amp;#123;
        auto l = (sa + k - 1) / k, r = L - 1;
        if (l &amp;gt; r)
            continue;
        L = l;
        st.emplace(r, n + 1);
        for (int i = n; ~i; --i)
            st.emplace(std::min(r, (c[i] + sa) / k), i);
    &amp;#125;
    for (int i = L - 1; i; --i)
        st.emplace(i, std::lower_bound(c.begin(), c.end(), ((sa + i - 1) / i) * i - sa) - c.begin());
    auto res = 0ll;
    for (auto l = 1ll; !st.empty(); ) &amp;#123;
        auto [r, v] = st.top();
        st.pop();
        if (l &amp;gt; r)
            continue;
        if (v == n + 1)
            v = 0;
        res += (r - l + 1) * v;
        l = r + 1;
    &amp;#125;
    std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
#ifndef ONLINE_JUDGE
    std::cerr &amp;lt;&amp;lt; std::fixed &amp;lt;&amp;lt; std::setprecision(6) &amp;lt;&amp;lt; std::chrono::duration&amp;lt;double&amp;gt; (std::chrono::steady_clock::now() - stime).count() &amp;lt;&amp;lt; &amp;quot;s\n&amp;quot;;
#endif
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;g---range-set-modifying-query&#34;&gt;G - Range Set Modifying Query&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/abc430/tasks/abc430_g&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/abc430/tasks/abc430_g&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å‘ç°å¼€ 60 ä¸ªçº¿æ®µæ ‘éå¸¸åˆç†&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¥ç€å‘ç°æ˜¯ beats æ¿å­é¢˜ã€‚çœ‹ä¼¼éœ€è¦ä¸‰åª logï¼Œå…¶å®åªæœ‰ä¸¤åªã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å‚è§ abc426ï¼Œæœ€è¿‘ abc éƒ½å–œæ¬¢ beats æ¿å­é¢˜å—ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="åˆ†æ²»" />
        <category term="åˆ†å—" />
        <category term="èƒŒåŒ…" />
        <updated>2025-10-28T09:06:42.000Z</updated>
    </entry>
    <entry>
        <id>https://xsc062.netlify.app/20250907/</id>
        <title>è¿‘æœŸæ‚é¢˜</title>
        <link rel="alternate" href="https://xsc062.netlify.app/20250907/"/>
        <content type="html">&lt;p&gt;çªå›´&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;e---colinear&#34;&gt;E - Colinear&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/abc422/tasks/abc422_e&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/abc422/tasks/abc422_e&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°é¢˜ç›®ä¼šæœ‰ä¸€ä¸ªä¹±æçš„æƒ³æ³•ï¼šéšæœºå–ä¸€å¯¹ç‚¹ï¼Œé‚£ä¹ˆæ˜¯æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(\dfrac 14\)&lt;/span&gt; çš„æ¦‚ç‡éƒ½åœ¨ç›´çº¿ä¸Šçš„ã€‚å¸¦è¿›å»æš´åŠ› check ä¸€ä¸‹ï¼Œå¤šæ¥å‡ æ¬¡æ­£ç¡®ç‡å°±æ¯”è¾ƒé«˜ã€‚&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆï¼Œè¿™æ˜¯æ­£è§£ï¼Ÿabc çš„é£æ ¼çœŸæ˜¯è¶Šæ¥è¶Šå¥‡æ€ªäº†ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;f---eat-and-ride&#34;&gt;F - Eat and Ride&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/abc422/tasks/abc422_f&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/abc422/tasks/abc422_f&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è€ƒè™‘ä¸€ä¸ªè´¹ç”¨æå‰è®¡ç®—çš„åˆ†å±‚å›¾ï¼Œå°±å¯ä»¥è·‘ Dij äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®˜è§£ç»™å‡ºäº†ä¸€ä¸ªä¼˜åŒ–ï¼š&lt;strong&gt;æœç´¢å®é™…ä¸Šæ˜¯åœ¨ç»™è¾¹å®šå‘ï¼›è¿™æ ·å›¾å°±è½¬åŒ–ä¸º DAG&lt;/strong&gt;ï¼ˆå®é™…ä¸Šåå‘è¾¹å¹¶ä¸ä¼šäº§ç”Ÿæœ‰æ•ˆæ›´æ–°ï¼Œæ•…ç›´æ¥æœ´ç´ è½¬ç§»å³å¯ï¼‰ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;b---triangle-toggle&#34;&gt;B - Triangle Toggle&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/arc205/tasks/arc205_b&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/arc205/tasks/arc205_b&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç°åœºæ˜¯æ‰“è¡¨æ‰¾è§„å¾‹åšå‡ºæ¥çš„ ğŸ˜…&lt;/p&gt;
&lt;p&gt;å‘ç°è¿™æ ·ä¸€æ¬¡æ“ä½œä¹‹åæ¯ä¸ªç‚¹ä¸Šé»‘è¾¹çš„å¥‡å¶æ€§æ˜¯ä¸ä¼šå˜çš„ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ä¸ªä¸Šç•Œï¼Œéš¾ç‚¹åœ¨äºæ˜¯å¦å¯ä»¥è¾¾åˆ°è¿™ä¸ªä¸Šç•Œã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°åªè¦å­˜åœ¨ä¸€ä¸ªç‚¹ä¸Šè¿æœ‰ä¸¤æ¡ç™½è¾¹ï¼Œå°±å¯ä»¥æŠŠ 001 åè½¬ä¸º 110ï¼Œä¸€æ¬¡æ“ä½œè‡³å°‘å¯ä»¥æ–°å¢ä¸€æ¡é»‘è¾¹ã€‚æ•…æ˜¯å¯ä»¥è¾¾åˆ°çš„ã€‚&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;d---non-ancestor-matching&#34;&gt;D - Non-Ancestor Matching&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://atcoder.jp/contests/arc205/tasks/arc205_d&#34; class=&#34;uri&#34;&gt;https://atcoder.jp/contests/arc205/tasks/arc205_d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ²¡å•¥å¥½è¯´çš„æ‘©å°”æŠ•ç¥¨ï¼Œæœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„ä¼˜å…ˆé˜Ÿåˆ—åšæ³•&lt;/p&gt;
&lt;p&gt;ä½† Rosmist æ‰“äº†å¦ä¸€ä¸ªçœ‹èµ·æ¥æœ‰ç‚¹ç„å­¦çš„ä¸œè¥¿ï¼šå¯ä»¥æ„Ÿå—åˆ°æ¯æ¬¡åªå‘æœ€å¤§çš„å­æ ‘é€’å½’æ˜¯åˆç†çš„ï¼Œå°è¯•è¯æ˜ä¸€ä¸‹å‘ç°ç¡®å®æ¯”è¾ƒæ˜¾ç„¶&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;e---subset-product-problem&#34;&gt;E - Subset Product Problem&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/AT_arc205_e&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/problem/AT_arc205_e&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¥‡æ€ªé¢˜ç›®&lt;/p&gt;
&lt;p&gt;é«˜ç»´å‰ç¼€å’Œ + åˆ†å—å…¶å®ä¸ç®—ç‰¹åˆ«ç½•è§çš„ trick&lt;/p&gt;
&lt;p&gt;ç”¨ &lt;span class=&#34;math inline&#34;&gt;\(f_{i,j}\)&lt;/span&gt; è¡¨ç¤ºå‰ &lt;span class=&#34;math inline&#34;&gt;\(10\)&lt;/span&gt; ä½ä¸º &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;ï¼Œå &lt;span class=&#34;math inline&#34;&gt;\(10\)&lt;/span&gt; ä½çš„é«˜ç»´å‰ç¼€å’Œ&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡æŸ¥è¯¢ / æ›´æ–°éƒ½æ˜¯ &lt;span class=&#34;math inline&#34;&gt;\(O(2^{10})\)&lt;/span&gt; çš„ï¼Œå¯ä»¥æ¥å—ï¼ˆå—ï¼‰&lt;/p&gt;
&lt;p&gt;ç„¶åè¿˜æœ‰ä¸€ä¸ªç§‘ç ”æ€§çš„åšæ³• è§ &lt;a href=&#34;https://www.luogu.com.cn/article/1uyz0hn2&#34; class=&#34;uri&#34;&gt;https://www.luogu.com.cn/article/1uyz0hn2&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;c.-by-the-assignment&#34;&gt;C. By the Assignment&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://codeforces.com/contest/2135/problem/C&#34; class=&#34;uri&#34;&gt;https://codeforces.com/contest/2135/problem/C&lt;/a&gt;&lt;/p&gt;
</content>
        <category term="åˆ†å—" />
        <category term="éšæœºåŒ–" />
        <category term="æœ€çŸ­è·¯" />
        <updated>2025-09-07T08:13:09.000Z</updated>
    </entry>
    <entry>
        <id>https://xsc062.netlify.app/20240501/</id>
        <title>äº”ä¸€æ‚é¢˜</title>
        <link rel="alternate" href="https://xsc062.netlify.app/20240501/"/>
        <content type="html">&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5169&#34;&gt;SAM æ‚é¢˜&lt;/a&gt; + &lt;a href=&#34;https://www.becoder.com.cn/contest/5170&#34;&gt;NOIPS8&lt;/a&gt; + &lt;a href=&#34;https://www.becoder.com.cn/contest/5175&#34;&gt;å‘¨è€ƒ&lt;/a&gt; é€‰è®²ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹è¿™ä¸ªæ ‡ç­¾åˆ—è¡¨é•¿åº¦å°±çŸ¥é“è¿™ä¸‰å¤©åšçš„é¢˜æœ‰å¤šæ‚ã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;d.-å­—ç¬¦ä¸²&#34;&gt;D. å­—ç¬¦ä¸²&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5169/problem/4&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5169/problem/4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å’Œ SA çš„åšæ³•ä¸€æ ·ï¼Œå…ˆäºŒåˆ† &lt;span class=&#34;math inline&#34;&gt;\(s_{c\sim d}\)&lt;/span&gt; çš„å‰ç¼€é•¿åº¦ &lt;span class=&#34;math inline&#34;&gt;\(mid\)&lt;/span&gt;ï¼Œåªéœ€ check &lt;span class=&#34;math inline&#34;&gt;\(s_{c \sim c + mid - 1}\)&lt;/span&gt; æ˜¯å¦åœ¨ &lt;span class=&#34;math inline&#34;&gt;\(s_{a\sim b}\)&lt;/span&gt; ä¸­å‡ºç°è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘æ€ä¹ˆå¿«é€Ÿ checkã€‚ä» &lt;span class=&#34;math inline&#34;&gt;\(c\)&lt;/span&gt; ä¸€æ­¥ä¸€æ­¥è·³åˆ° &lt;span class=&#34;math inline&#34;&gt;\(c+mid-1\)&lt;/span&gt; æ˜¾ç„¶ä¼šèµ·é£ï¼Œè€ƒè™‘åˆ°æŸ¥è¯¢æ˜¯é™æ€çš„ï¼Œæˆ‘ä»¬äº‹å…ˆé¢„å¤„ç†ä¸€ä¸‹ç„¶åå€å¢åœ°è·³å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶åªéœ€çœ‹å½“å‰çŠ¶æ€çš„ &lt;span class=&#34;math inline&#34;&gt;\(\text {endpos}\)&lt;/span&gt; æ˜¯å¦åœ¨ &lt;span class=&#34;math inline&#34;&gt;\([a + mid - 1, b]\)&lt;/span&gt; å‡ºç°è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºè¿™ä¸ªä¸èƒ½ç”¨æœ€å¤§æœ€å°ç®€å•ä»£æ›¿ï¼Œæ‰€ä»¥å°±åˆ°äº†æˆ‘ä»¬å–œé—»ä¹è§çš„çº¿æ®µæ ‘åˆå¹¶ç¯èŠ‚ã€‚å°†æ’å…¥åçš„æ¯ä¸ªå•ç‚¹ &lt;span class=&#34;math inline&#34;&gt;\(\text {endpos}\)&lt;/span&gt; åœ¨æƒå€¼çº¿æ®µæ ‘ä¸Šæ›´æ–°ï¼Œåœ¨ parent tree ä¸Šæš´åŠ›çº¿æ®µæ ‘åˆå¹¶å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ä¸€ç›´æœ‰ä¸€ä¸ªè¯¯åŒºï¼Œå°±æ˜¯è§‰å¾—çº¿æ®µæ ‘åˆå¹¶æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œæ¯”å¦‚ç”¨ A æ ‘å’Œ B æ ‘å¹¶å‡ºæ¥äº† C æ ‘ä¹‹åï¼ŒA æ ‘å’Œ B æ ‘çš„æ•°æ®å°±æ— æ•ˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†è¿™æ˜¾ç„¶æ˜¯å¾ˆè’è°¬çš„ï¼ŒåŒæ ·å› ä¸ºæˆ‘ä»¬çš„æŸ¥è¯¢æ˜¯é™æ€çš„ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥ç”¨ä¸€ç§ç±»ä¼¼äºå¯æŒä¹…åŒ–çš„æ–¹å¼ï¼Œå»ºç«‹ä¸€äº›æ–°çš„ç‚¹è¡¨ç¤ºåˆå¹¶åçš„ä¿¡æ¯çŠ¶æ€ç‚¹ï¼Œä¸€äº›å¯ä»¥ä¿ç•™çš„ç‚¹å°±ä¿ç•™ä½œå„¿å­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¯¹åº”çš„çŠ¶æ€ä¸ŠæŸ¥è¯¢å³å¯ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxm = 35;
const int maxn = 6e5 + 5;
const int maxk = 8e7 + 5;
struct _ &amp;#123;
    int l, f;
    int ne[maxm]; 
    _() &amp;#123;&amp;#125;
    _(int l1, int f1): l(l1), f(f1) &amp;#123;&amp;#125;
&amp;#125;;
_ t[maxn &amp;lt;&amp;lt; 1];
int vis[maxn &amp;lt;&amp;lt; 1];
int fa[maxn][maxm];
int n, la, tot, siz;
struct &amp;#123; int l, r, u; &amp;#125; t1[maxk];
int tab[maxn &amp;lt;&amp;lt; 1], cnt[maxn &amp;lt;&amp;lt; 1];
void Init(void) &amp;#123;
    la = tot = 1;
    t[1] = _(0, 0);
    return;
&amp;#125;
void ext(int c) &amp;#123;
    int p = la, np = ++tot;
    la = tot;
    t[np] = _(t[p].l + 1, 0);
    while (p &amp;amp;&amp;amp; !t[p].ne[c])
        t[p].ne[c] = np, p = t[p].f;
    if (!p)
        t[np].f = 1;
    else &amp;#123;
        int q = t[p].ne[c];
        if (t[q].l == t[p].l + 1)
            t[np].f = q;
        else &amp;#123;
            int nq = ++tot;
            t[nq] = _(t[p].l + 1, t[q].f);
            std::copy(t[q].ne, t[q].ne + 26, t[nq].ne);
            while (p &amp;amp;&amp;amp; t[p].ne[c] == q)
                t[p].ne[c] = nq, p = t[p].f;
            t[q].f = nq;
            t[np].f = nq;
        &amp;#125;
    &amp;#125;
    return;
&amp;#125;
int now = 0;
void ins(int &amp;amp;p, int l, int r, int v) &amp;#123;
    if (!p)
        p = ++now;
    ++t1[p].u;
    if (l == r)
        return;
    int mid = (l + r) &amp;gt;&amp;gt; 1;
    if (v &amp;lt;= mid)
        ins(t1[p].l, l, mid, v);
    else
        ins(t1[p].r, mid + 1, r, v);
    return;
&amp;#125;
int ask(int p, int l, int r, int ql, int qr) &amp;#123;
    if (ql &amp;lt;= l &amp;amp;&amp;amp; r &amp;lt;= qr)
        return t1[p].u;
    int mid = (l + r) &amp;gt;&amp;gt; 1, res = 0;
    if (ql &amp;lt;= mid)
        res = ask(t1[p].l, l, mid, ql, qr);
    if (qr &amp;gt; mid)
        res += ask(t1[p].r, mid + 1, r, ql, qr);
    return res;
&amp;#125;
int merge(int p, int q, int l, int r) &amp;#123;
    if (!p || !q)
        return p + q;
    int np = ++now, mid = (l + r) &amp;gt;&amp;gt; 1;
    t1[np].u = t1[p].u + t1[q].u;
    if (l == r) return np;
    t1[np].l = merge(t1[p].l, t1[q].l, l, mid);
    t1[np].r = merge(t1[p].r, t1[q].r, mid + 1, r);
    return np;
&amp;#125;
int pos[maxn], rt[maxn &amp;lt;&amp;lt; 1];
bool check(int x, int a, int b, int c, int d) &amp;#123;
    assert(c + x - 1 &amp;gt;= 0);
    int p = pos[c + x - 1];
    for (int i = siz; ~i; --i)
        if (fa[p][i] &amp;amp;&amp;amp; t[fa[p][i]].l &amp;gt;= x)
            p = fa[p][i];
    return ask(rt[p], 0, n - 1, a + x - 1, b) &amp;gt; 0;
&amp;#125;
int solve(int a, int b, int c, int d) &amp;#123;
    int l = 1, r = std::min(d - c + 1, b - a + 1), res = 0;
    while (l &amp;lt;= r) &amp;#123;
        int mid = (l + r) &amp;gt;&amp;gt; 1;
        if (check(mid, a, b, c, d))
            l = mid + 1, res = mid;
        else
            r = mid - 1;
    &amp;#125;
    return res;
&amp;#125;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
#endif
    int m;
    std::string s;
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m &amp;gt;&amp;gt; s;
    Init();
    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        ext(s[i] - &amp;#39;a&amp;#39;);
        pos[i] = la;
        ins(rt[la], 0, n - 1, i);
    &amp;#125;
    siz = log(tot) / log(2.0);
    for (int i = 1; i &amp;lt;= tot; ++i)
        ++cnt[t[i].l];
    std::partial_sum(cnt + 1, cnt + tot + 1, cnt + 1);
    for (int i = 1; i &amp;lt;= tot; ++i)
        tab[cnt[t[i].l]--] = i;
    for (int i = 1; i &amp;lt;= tot; ++i) &amp;#123;
        int u = tab[i];
        fa[u][0] = t[u].f;
        for (int j = 1; j &amp;lt;= siz; ++j)
            fa[u][j] = fa[fa[u][j - 1]][j - 1];
    &amp;#125;
    for (int i = tot; i; --i) &amp;#123;
        int u = tab[i];
        if (t[u].f)
            rt[t[u].f] = merge(rt[t[u].f], rt[u], 0, n - 1);
    &amp;#125;
    while (m--) &amp;#123;
        int a, b, c, d;
        std::cin &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b &amp;gt;&amp;gt; c &amp;gt;&amp;gt; d;
        std::cout &amp;lt;&amp;lt; solve(a - 1, b - 1, c - 1, d - 1) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    &amp;#125;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;f.-security&#34;&gt;F. Security&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5169/problem/6&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5169/problem/6&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹æˆ‘ä»¬æ¥è¯´åº”è¯¥æ˜¯ä¼š D å°±ä¼š F çš„ã€‚æ‰€ä»¥åªæ‰“äº† 10minã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè€ƒè™‘ä¸€ä¸ªå¤§å®¶å–œé—»ä¹è§çš„ DFS æ±‚æœ€å°å­—å…¸åºã€‚æ˜¾ç„¶åœ°ï¼Œå¦‚æœå­˜åœ¨å’Œå½“å‰ä½ç›¸ç­‰çš„å­—ç¬¦ï¼Œé‚£ä¹ˆä¼˜å…ˆè·³ç›¸ç­‰å­—ç¬¦ï¼Œè¿›å…¥ä¸‹ä¸€å±‚æ·±æœï¼›å¦åˆ™æ‰¾åˆ°æœ€å°çš„æ›´å¤§å­—ç¬¦ï¼Œç„¶åç›´æ¥ outã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ SAM å°±æ˜¯æˆ‘ä»¬ç”¨æ¥åˆ¤æ–­ &lt;span class=&#34;math inline&#34;&gt;\(S_{l, r}\)&lt;/span&gt; ä¸­æ˜¯å¦å­˜åœ¨æŸçŠ¶æ€çš„å·¥å…·äº†ã€‚ç”šè‡³æ¯”ä¸Šä¸€é¢˜ç®€å•ï¼Œå› ä¸ºä¸ç”¨å†™äºŒåˆ†å’Œå€å¢ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœ &lt;span class=&#34;math inline&#34;&gt;\(S_{l, r}\)&lt;/span&gt; åŒ…å« &lt;span class=&#34;math inline&#34;&gt;\(T\)&lt;/span&gt; é‚£ä¹ˆè¿˜è¦åœ¨åé¢éšä¾¿åŠ ä¸€ä¸ªå­—ç¬¦ä»¥å­—å…¸åºä¿è¯ä¸¥æ ¼å¤§äº &lt;span class=&#34;math inline&#34;&gt;\(T\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯å› ä¸ºæˆ‘å†™çš„å¤ªä¸‘äº†ä»¥è‡³äºåœ¨ CF ä¸Šä¼šå…‰è£ MLE #46ã€‚ç„¶ååˆ†å±å·¦åŠè¾¹çœ‹æˆ‘ä»£ç å³åŠè¾¹å†™çš„ zwb å´æ²¡æœ‰ã€‚å•§ã€‚ä¸ºä»€ä¹ˆå‘¢ã€‚&lt;/p&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxm = 35;
const int maxn = 6e5 + 5;
const int maxk = 8e7 + 5;
struct _ &amp;#123;
    int l, f;
    int ne[maxm]; 
    _() &amp;#123;&amp;#125;
    _(int l1, int f1): l(l1), f(f1) &amp;#123;&amp;#125;
&amp;#125;;
_ t[maxn &amp;lt;&amp;lt; 1];
int vis[maxn &amp;lt;&amp;lt; 1];
int fa[maxn][maxm];
int n, la, tot, siz;
struct &amp;#123; int l, r, u; &amp;#125; t1[maxk];
int tab[maxn &amp;lt;&amp;lt; 1], cnt[maxn &amp;lt;&amp;lt; 1];
void Init(void) &amp;#123;
    la = tot = 1;
    t[1] = _(0, 0);
    return;
&amp;#125;
void ext(int c) &amp;#123;
    int p = la, np = ++tot;
    la = tot;
    t[np] = _(t[p].l + 1, 0);
    while (p &amp;amp;&amp;amp; !t[p].ne[c])
        t[p].ne[c] = np, p = t[p].f;
    if (!p)
        t[np].f = 1;
    else &amp;#123;
        int q = t[p].ne[c];
        if (t[q].l == t[p].l + 1)
            t[np].f = q;
        else &amp;#123;
            int nq = ++tot;
            t[nq] = _(t[p].l + 1, t[q].f);
            std::copy(t[q].ne, t[q].ne + 26, t[nq].ne);
            while (p &amp;amp;&amp;amp; t[p].ne[c] == q)
                t[p].ne[c] = nq, p = t[p].f;
            t[q].f = nq;
            t[np].f = nq;
        &amp;#125;
    &amp;#125;
    return;
&amp;#125;
int now = 0;
void ins(int &amp;amp;p, int l, int r, int v) &amp;#123;
    if (!p)
        p = ++now;
    ++t1[p].u;
    if (l == r)
        return;
    int mid = (l + r) &amp;gt;&amp;gt; 1;
    if (v &amp;lt;= mid)
        ins(t1[p].l, l, mid, v);
    else
        ins(t1[p].r, mid + 1, r, v);
    return;
&amp;#125;
int ask(int p, int l, int r, int ql, int qr) &amp;#123;
    if (ql &amp;lt;= l &amp;amp;&amp;amp; r &amp;lt;= qr)
        return t1[p].u;
    int mid = (l + r) &amp;gt;&amp;gt; 1, res = 0;
    if (ql &amp;lt;= mid)
        res = ask(t1[p].l, l, mid, ql, qr);
    if (qr &amp;gt; mid)
        res += ask(t1[p].r, mid + 1, r, ql, qr);
    return res;
&amp;#125;
int merge(int p, int q, int l, int r) &amp;#123;
    if (!p || !q)
        return p + q;
    int np = ++now, mid = (l + r) &amp;gt;&amp;gt; 1;
    t1[np].u = t1[p].u + t1[q].u;
    if (l == r) return np;
    t1[np].l = merge(t1[p].l, t1[q].l, l, mid);
    t1[np].r = merge(t1[p].r, t1[q].r, mid + 1, r);
    return np;
&amp;#125;
int pos[maxn], rt[maxn &amp;lt;&amp;lt; 1];
bool check(int p, int ch, int l, int r) &amp;#123;
    return ask(rt[t[p].ne[ch]], 0, n - 1, l, r) &amp;gt; 0;
&amp;#125;
bool fun(std::string &amp;amp;res, std::string now, std::string &amp;amp;t, int x, int p, int l, int r) &amp;#123;
    // std::cout &amp;lt;&amp;lt; &amp;quot;x = &amp;quot; &amp;lt;&amp;lt; x &amp;lt;&amp;lt; &amp;quot;, now = \&amp;quot;&amp;quot; &amp;lt;&amp;lt; now &amp;lt;&amp;lt; &amp;quot;\&amp;quot;;\n&amp;quot;;
    if (x != (int)t.length() &amp;amp;&amp;amp; check(p, t[x] - &amp;#39;a&amp;#39;, l + x, r) &amp;amp;&amp;amp; fun(res, now + t[x], t, x + 1, ::t[p].ne[t[x] - &amp;#39;a&amp;#39;], l, r))
        return 1;
    for (int i = (x == (int)t.length()) ? 0 : t[x] - &amp;#39;a&amp;#39; + 1; i &amp;lt; 26; ++i) &amp;#123;
        if (check(p, i, l + x, r)) &amp;#123;
            now += i + &amp;#39;a&amp;#39;;
            res = now;
            return 1;
        &amp;#125;
    &amp;#125;
    return 0;
&amp;#125;
std::string solve(std::string &amp;amp;t, int l, int r) &amp;#123;
    std::string res;
    return fun(res, &amp;quot;&amp;quot;, t, 0, 1, l, r) ? res : &amp;quot;-1&amp;quot;;
&amp;#125;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
#endif
    int q;
    std::string s;
    std::cin &amp;gt;&amp;gt; s &amp;gt;&amp;gt; q;
    n = (int)s.length();
    Init();
    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        ext(s[i] - &amp;#39;a&amp;#39;);
        pos[i] = la;
        ins(rt[la], 0, n - 1, i);
    &amp;#125;
    siz = log(tot) / log(2.0);
    for (int i = 1; i &amp;lt;= tot; ++i)
        ++cnt[t[i].l];
    std::partial_sum(cnt + 1, cnt + tot + 1, cnt + 1);
    for (int i = 1; i &amp;lt;= tot; ++i)
        tab[cnt[t[i].l]--] = i;
    for (int i = 1; i &amp;lt;= tot; ++i) &amp;#123;
        int u = tab[i];
        fa[u][0] = t[u].f;
        for (int j = 1; j &amp;lt;= siz; ++j)
            fa[u][j] = fa[fa[u][j - 1]][j - 1];
    &amp;#125;
    for (int i = tot; i; --i) &amp;#123;
        int u = tab[i];
        if (t[u].f)
            rt[t[u].f] = merge(rt[t[u].f], rt[u], 0, n - 1);
    &amp;#125;
    while (q--) &amp;#123;
        int l, r;
        std::string t;
        std::cin &amp;gt;&amp;gt; l &amp;gt;&amp;gt; r &amp;gt;&amp;gt; t;
        std::cout &amp;lt;&amp;lt; solve(t, l - 1, r - 1) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    &amp;#125;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;a.-å…­å‡ºç¥å±±&#34;&gt;A. å…­å‡ºç¥å±±&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5170/problem/1&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5170/problem/1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯èƒ½ç”¨è´ªå¿ƒæ‹¿ 60pts çš„ DP é¢˜ /tuu&lt;/p&gt;
&lt;p&gt;éœ€è¦å…ˆæŠŠæš´åŠ›çš„å¼å­å†™å‡ºæ¥ã€‚è®¾ &lt;span class=&#34;math inline&#34;&gt;\(f_{i, j}\)&lt;/span&gt; ä¸ºå°† &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; å±±ä¿®æ”¹é«˜åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(j\)&lt;/span&gt; çš„ä»£ä»·ï¼Œåˆ™ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
f_{i, j} = \min\limits_{k\in [j-d, j+d]}\left\{f_{i-1, k}\right\} + |h_i - j|
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°å¯ä»¥å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–ã€‚ä½†æ˜¯è¿™æ ·åšå¤æ‚åº¦è¿˜æ˜¯ &lt;span class=&#34;math inline&#34;&gt;\(O(nV)\)&lt;/span&gt; çš„ï¼Œæ ¹æœ¬åŸå› åœ¨äºç¬¬äºŒç»´è¿™ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(V\)&lt;/span&gt; çš„çŠ¶æ€æ•°å¤ªå¤šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç›´è§‰ï¼Œæœ€å &lt;span class=&#34;math inline&#34;&gt;\(j\)&lt;/span&gt; çš„å€¼åº”ä¸º &lt;span class=&#34;math inline&#34;&gt;\(k+d\)&lt;/span&gt; æˆ– &lt;span class=&#34;math inline&#34;&gt;\(k-d\)&lt;/span&gt; æˆ– &lt;span class=&#34;math inline&#34;&gt;\(a_i\)&lt;/span&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œåˆæ³•çš„çŠ¶æ€æ•°ä¸ºæ‰€æœ‰çš„ &lt;span class=&#34;math inline&#34;&gt;\(a_i+x\times d, x\in[-n, n]\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;&lt;summary&gt;æ­£ç¡®æ€§è¯æ˜â€¦â€¦&lt;/summary&gt;&lt;/p&gt;
&lt;p&gt;è€ƒè™‘å…¨éƒ¨æ›´æ”¹å®Œåçš„ç»“æŸçŠ¶æ€ï¼Œå³æœ€åçš„æœ€ä¼˜çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘æ‰€æœ‰å±±ä¸­æœ€çŸ®çš„å±± &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;ï¼Œæ­¤å±±çš„é«˜åº¦è¦ä¹ˆä¸º &lt;span class=&#34;math inline&#34;&gt;\(h_i\)&lt;/span&gt;ï¼Œè¦ä¹ˆä¸ºå‰ä¸€åº§å±±çš„é«˜åº¦ &lt;span class=&#34;math inline&#34;&gt;\(-d\)&lt;/span&gt;ï¼Œè¦ä¹ˆä¸ºåä¸€åº§å±±çš„é«˜åº¦ &lt;span class=&#34;math inline&#34;&gt;\(-d\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘ç¬¬äºŒçŸ®çš„å±±ï¼Œä»¥æ­¤ç±»æ¨å³å¯ã€‚&lt;/p&gt;
&lt;/details&gt;
&lt;p&gt;å°†ç¬¬äºŒç»´çš„çŠ¶æ€é›†å¤§å°å‡å°‘ä¸º &lt;span class=&#34;math inline&#34;&gt;\(O(n^2)\)&lt;/span&gt;ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(O(n^3)\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;éœ€æ³¨æ„åˆ°å› ä¸º &lt;span class=&#34;math inline&#34;&gt;\(a_i+x\times d\)&lt;/span&gt; ä¸­çš„ &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; èŒƒå›´ä¸º &lt;span class=&#34;math inline&#34;&gt;\([-n, n]\)&lt;/span&gt; å…± &lt;span class=&#34;math inline&#34;&gt;\(2\times n\)&lt;/span&gt;ï¼Œæ‰€ä»¥ DP æ•°ç»„ç¬¬äºŒç»´å¤§å°ä¸€å®šè¦å¼€ &lt;span class=&#34;math inline&#34;&gt;\(2\times n^2\)&lt;/span&gt; å‘€ï¼ï¼ï¼&lt;/p&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
using ll = long long;
const int maxn = 305;
const int maxm = 18e4 + 5;
const ll inf = 0x3f3f3f3f3f3f3f3f;
ll d;
int n;
ll h[maxn];
ll f[maxn][maxm];
int main() &amp;#123;
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
    memset(f, 0x3f, sizeof (f));
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; d;
    std::vector&amp;lt;ll&amp;gt; st;
    for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; h[i];
        for (ll j = -n; j &amp;lt;= n; ++j)
            st.push_back(h[i] + j * d);
    &amp;#125;
    std::sort(st.begin(), st.end());
    st.erase(std::unique(st.begin(), st.end()), st.end());
    auto abs = [&amp;amp;](ll x) -&amp;gt; ll &amp;#123; return x &amp;gt;= 0 ? x : -x; &amp;#125;;
    f[1][lower_bound(st.begin(), st.end(), h[1]) - st.begin()] = 0;
    for (int i = 2; i &amp;lt;= n; ++i) &amp;#123;
        int h(1), t(0), p(-1);
        static int q[maxm];
        for (int j = 0; j &amp;lt; (int)st.size(); ++j) &amp;#123;
            while (p &amp;lt; (int)st.size() &amp;amp;&amp;amp; st[p + 1] &amp;lt;= st[j] + d) &amp;#123;
                ++p;
                while (h &amp;lt;= t &amp;amp;&amp;amp; f[i - 1][p] &amp;lt;= f[i - 1][q[t]])
                    --t;
                q[++t] = p;
            &amp;#125;
            while (h &amp;lt;= t &amp;amp;&amp;amp; st[q[h]] &amp;lt; st[j] - d)
                ++h;
            if (h &amp;lt;= t)
                f[i][j] = std::min(inf, f[i - 1][q[h]] + abs(st[j] - ::h[i]));
        &amp;#125;
    &amp;#125;
    ll res = f[n][std::lower_bound(st.begin(), st.end(), h[n]) - st.begin()];
    std::cout &amp;lt;&amp;lt; (res == inf ? -1 : res) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;b.-æ°´æ·¹ä¸ƒå†›&#34;&gt;B. æ°´æ·¹ä¸ƒå†›&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5170/problem/2&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5170/problem/2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®¹æ˜“å‘ç°æœ€åè¿å‡ºæ¥ä¸€å®šæ˜¯æ²¡æœ‰ç¯çš„ã€‚æ‰€ä»¥ä¸€å®šæ˜¯ä¸€ä¸ª DAGã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“çŠ¶æ€å‹ç¼©æ˜¯ä¼šéå†åˆ°æ¯ä¸€ç§æƒ…å†µçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡è®¾å½“å‰çš„ DAG å°±æ˜¯è¯¥çŠ¶æ€ä¸‹çš„æœ€ä¼˜ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºè¿™ä¸ªã€Œæœ€ä¼˜ã€å¦‚ä½•å®šä¹‰å°±è¦äº¤ç»™æˆ‘ä»¬äº†ã€‚æˆ‘ä»¬ä¸å¦¨å¼ºåˆ¶è®¤ä¸ºè¿™ä¸ª DAG æ˜¯æŒ‰å±‚åºéå†å¾—åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿ç»­éå†åˆ°çš„ç‚¹å±äºåŒä¸€å±‚ï¼ˆè¿™é‡Œçš„å±‚æ˜¯æŒ‡æŸç‚¹åˆ°ä»»æ„æºç‚¹çš„æœ€é•¿è·¯é•¿åº¦ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ˜¾ç„¶åªæœ‰ä¸€ç»„ç›¸äº’ä¹‹é—´æ²¡æœ‰ä»»ä½•è¿è¾¹çš„ç‚¹æ‰èƒ½ç»„æˆåŒä¸€å±‚ã€‚ä¸å¦¨æšä¸¾ç‚¹é›†ç„¶åæš´åŠ›è½¬ç§»ï¼Œè½¬ç§»æ—¶è®°å½•è·¯å¾„å³å¯ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;æ³¨æ„åˆ°åœ¨å†™è¿™ç©æ„å„¿çš„æ—¶å€™æˆ‘è¿˜ä¸ä¼š &lt;a href=&#34;/2024/05/17/20240517/&#34;&gt;çŠ¶å‹æšä¸¾å­é›†&lt;/a&gt;ï¼Œæ‰€ä»¥æšä¸¾å­é›†çš„éƒ¨åˆ†å¯èƒ½æ‰“å¾—æ¯”è¾ƒæŠ½è±¡ã€‚&lt;/p&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxn = 25;
const int inf = 0x3f3f3f3f;
const int maxm = (1 &amp;lt;&amp;lt; 16) + 5;
int n, res;
int tag[maxn][maxn];
int f[maxn], g[maxn];
int solve(std::vector&amp;lt;int&amp;gt;&amp;amp; a) &amp;#123;
    static int g[maxn];
    static int f[maxm], p[maxm];
    int n(a.size()), siz(1 &amp;lt;&amp;lt; n);
    std::fill(g, g + n, 0);
    std::fill(p, p + siz + 1, 0);
    std::fill(f, f + siz + 1, inf);
    std::vector&amp;lt;int&amp;gt; st;
    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        for (int j = 0; j &amp;lt; n; ++j) &amp;#123;
            if (::g[a[i]] &amp;amp; (1 &amp;lt;&amp;lt; a[j]))
                g[i] |= 1 &amp;lt;&amp;lt; j;
        &amp;#125;
    &amp;#125;
    for (int i = 1; i &amp;lt; siz; ++i) &amp;#123;
        int now = 0;
        for (int j = 0; j &amp;lt; n; ++j) &amp;#123;
            if (i &amp;amp; (1 &amp;lt;&amp;lt; j))
                now |= g[j];
        &amp;#125;
        if (!(now &amp;amp; i))
            st.push_back(i), f[i] = 0, p[i] = i;
        for (auto j : st) &amp;#123;
            if (!(i &amp;amp; j)) &amp;#123;
                if (f[i | j] &amp;gt; f[i] + 1)
                    f[i | j] = f[i] + 1, p[i | j] = j;
            &amp;#125;
        &amp;#125;
    &amp;#125;
    int now = siz - 1;
    while (now) &amp;#123;
        int fa = now ^ p[now];
        for (int i = 0; i &amp;lt; n; ++i)
            if (p[now] &amp;amp; (1 &amp;lt;&amp;lt; i))
                for (int j = 0; j &amp;lt; n; ++j)
                    if ((fa &amp;amp; (1 &amp;lt;&amp;lt; j)) &amp;amp;&amp;amp; tag[a[j]][a[i]] == 2)
                        tag[a[j]][a[i]] = 1, tag[a[i]][a[j]] = -1;
        now = fa;
    &amp;#125;
    return f[siz - 1];
&amp;#125;
int find(int x) &amp;#123;
    return x == f[x] ? x : f[x] = find(f[x]);
&amp;#125;
int main() &amp;#123;
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
    int m;
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m;
    std::vector&amp;lt;std::pair&amp;lt;int, int&amp;gt; &amp;gt; edge;
    for (int i = 0; i &amp;lt; n; ++i)
        f[i] = i;
    while (m--) &amp;#123;
        int x, y;
        std::cin &amp;gt;&amp;gt; x &amp;gt;&amp;gt; y;
        edge.emplace_back(--x, --y);
        f[find(x)] = find(y);
        g[x] |= 1 &amp;lt;&amp;lt; y;
        g[y] |= 1 &amp;lt;&amp;lt; x;
        tag[x][y] = tag[y][x] = 2;
    &amp;#125;
    std::vector&amp;lt;int&amp;gt; ver[maxn];
    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        ver[find(i)].push_back(i);
    &amp;#125;
    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        if (f[i] == i)
            res = std::max(res, solve(ver[i]));
    &amp;#125;
    std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    for (auto i : edge) &amp;#123;
        if (tag[i.first][i.second] == 1)
            std::cout &amp;lt;&amp;lt; i.first + 1 &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; i.second + 1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        else std::cout &amp;lt;&amp;lt; i.second + 1 &amp;lt;&amp;lt; &amp;#39; &amp;#39; &amp;lt;&amp;lt; i.first + 1 &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    &amp;#125;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;c.-ç…®é…’è®ºè‹±é›„&#34;&gt;C. ç…®é…’è®ºè‹±é›„&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5170/problem/3&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5170/problem/3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°å¦‚æœå­˜åœ¨ä¸²è¢«å…¶ä»–ä¸²åŒ…å«é‚£ä¹ˆç›´æ¥å°†å…¶æ¯™æ‰å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç›¸äº’ä¸å®Œå…¨åŒ…å«çš„ä¸²ï¼Œæˆ‘ä»¬ä»¤ &lt;span class=&#34;math inline&#34;&gt;\(mx_{i, j, 0/1, 0/1}\)&lt;/span&gt; è¡¨ç¤ºå°†æ­£åº / é€†åºçš„ &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt; ä¸²æ‹¼åˆ°æ­£åº / é€†åºçš„ &lt;span class=&#34;math inline&#34;&gt;\(j\)&lt;/span&gt; ä¸²ä¹‹å‰ï¼Œä¸¤è€…å…±ç”¨ç›¸æ¥å…¬å…±éƒ¨åˆ†çš„ä¸²é•¿ã€‚è¿™ä¸ªå¯ä»¥ç”¨å­—ç¬¦ä¸²å“ˆå¸Œæš´åŠ›æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨çŠ¶å‹æšä¸¾æ‹¼æ¥é¡ºåºï¼Œæ±‚å¾—æœ€å°æ€»ä¸²é•¿å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„å¦‚æœå»æ‰è¢«åŒ…å«ä¸²å &lt;span class=&#34;math inline&#34;&gt;\(n=1\)&lt;/span&gt; æ—¶éœ€ç›´æ¥è¾“å‡ºä¸²çš„ borderï¼›ä»¥åŠç­”æ¡ˆéœ€å’Œ &lt;span class=&#34;math inline&#34;&gt;\(2\)&lt;/span&gt; å– &lt;span class=&#34;math inline&#34;&gt;\(\max\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ç°èµ·æ¥åˆè‡­åˆé•¿ï¼Œä½†å®é™…ä¸Šæ€è·¯ç¡®å®éå¸¸ç®€å•ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
using ll = long long;
const int p = 131;
const int maxn = 25;
const int lim = 2e4;
const int maxl = 2e4 + 5;
const int mod = 998244353;
const int inf = 0x3f3f3f3f;
const int maxm = (1 &amp;lt;&amp;lt; 16) + 5;
int n;
std::vector&amp;lt;std::string&amp;gt; s;
std::vector&amp;lt;std::vector&amp;lt;ll&amp;gt; &amp;gt; h[2];
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
#endif
    std::cin &amp;gt;&amp;gt; n;
    s.resize(n);
    h[0].resize(n);
    h[1].resize(n);
    static ll base[maxl];
    static bool del[maxn];
    base[0] = 1;
    for (int i = 1; i &amp;lt;= lim; ++i)
        base[i] = base[i - 1] * p % mod;

    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; s[i];
        h[0][i].resize((int)s[i].length());
        h[1][i].resize((int)s[i].length());
        ll x = 0;
        for (int j = 0; j &amp;lt; (int)s[i].length(); ++j, (x *= p) %= mod)
            h[0][i][j] = ((x += s[i][j]) %= mod);
        std::reverse(s[i].begin(), s[i].end());
        x = 0;
        for (int j = 0; j &amp;lt; (int)s[i].length(); ++j, (x *= p) %= mod)
            h[1][i][j] = ((x += s[i][j]) %= mod);
        std::reverse(s[i].begin(), s[i].end());
    &amp;#125;

    std::vector&amp;lt;int&amp;gt; tab;
    auto gethash = [&amp;amp;](int i, int l, int r, bool t) -&amp;gt; ll &amp;#123;
        if (l &amp;gt; r) return 0;
        ll res = (h[t][i][r] - (l ? h[t][i][l - 1] : 0) * base[r - l + 1] % mod);
        return (res % mod + mod) % mod;
    &amp;#125;;
    // ll now = 0;
    // for (int i = 0; i &amp;lt;= 4; ++i)
    //     now = (now * p + s[1][i]) % mod;
    // printf(&amp;quot;now = %lld\n&amp;quot;, now);
    // now = 0;
    // for (int i = 3; i &amp;lt;= 7; ++i)
    //     now = (now * p + s[0][i]) % mod;
    // printf(&amp;quot;now = %lld\n&amp;quot;, now);
    // printf(&amp;quot;# %lld\n&amp;quot;, h[0][0].back());
    for (int i = 0; i &amp;lt; n; ++i) &amp;#123;
        tab.push_back(i);
        for (int j = 0; j &amp;lt; n; ++j)
            if (!del[j] &amp;amp;&amp;amp; i != j)
                for (int k = 0; k &amp;lt;= ((int)s[j].length()) - ((int)s[i].length()); ++k) &amp;#123;
                    // printf(&amp;quot;i = %d, j = %d, k = %d, %lld / %lld\n&amp;quot;, i, j, k,
                    //         gethash(i, 0, ((int)s[i].length()) - 1, 0), gethash(j, k, k + ((int)s[i].length()) - 1, 0));
                    if (h[0][i].back() == gethash(j, k, k + ((int)s[i].length()) - 1, 0)) &amp;#123;
                        tab.pop_back();
                        del[i] = 1;
                        goto outo;
                    &amp;#125;
                &amp;#125;
        outo: ;
    &amp;#125;
    n = (int)tab.size();
    if (n == 1) &amp;#123;
        int border;
        for (border = ((int)s[tab[0]].length()) - 1; ~border; --border) &amp;#123;
            if (gethash(tab[0], 0, border - 1, 0) == gethash(tab[0], ((int)s[tab[0]].length()) - border, ((int)s[tab[0]].length()) - 1, 0))
                break;
        &amp;#125;
        std::cout &amp;lt;&amp;lt; std::max(2, ((int)s[tab[0]].length()) - border) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    &amp;#125;
    else &amp;#123;
        static int mx[maxn][maxn][2][2];
        for (int i = 0; i &amp;lt; n; ++i)
            for (int j = 0; j &amp;lt; n; ++j)
                for (int a = 0; a &amp;lt; 2; ++a)
                    for (int b = 0; b &amp;lt; 2; ++b)
                        for (int k = std::min((int)s[tab[i]].length(), (int)s[tab[j]].length()); ~k; --k) &amp;#123;
                            if (gethash(tab[i], ((int)s[tab[i]].length()) - k, ((int)s[tab[i]].length()) - 1, a) ==
                                                                                            gethash(tab[j], 0, k - 1, b)) &amp;#123;
                                mx[i][j][a][b] = (int)s[tab[j]].length() - k;
                                // printf(&amp;quot;%d(%d) + %d(%d) = %d, k = %d\n&amp;quot;, i, a, j, b, mx[i][j][a][b], k);
                                break;
                            &amp;#125;
                        &amp;#125;
        static int f[maxm][maxn][2];
        memset(f, 0x3f, sizeof (f));

        int siz = 1 &amp;lt;&amp;lt; n, res = inf;
        f[1][0][0] = (int)s[tab[0]].length();
        for (int i = 1; i &amp;lt; siz; ++i)
            for (int j = 0; j &amp;lt; n; ++j)
                if (i &amp;amp; (1 &amp;lt;&amp;lt; j))
                    for (int a = 0; a &amp;lt; 2; ++a) &amp;#123;
                        // printf(&amp;quot;f[%d][%d][%d] = %d\n&amp;quot;, i, j, a, f[i][j][a]);
                        for (int k = 0; k &amp;lt; n; ++k)
                            if (!(i &amp;amp; (1 &amp;lt;&amp;lt; k)))
                                for (int b = 0; b &amp;lt; 2; ++b)
                                    f[i | (1 &amp;lt;&amp;lt; k)][k][b] = std::min(f[i | (1 &amp;lt;&amp;lt; k)][k][b], f[i][j][a] + mx[j][k][a][b]);
                        if (i == siz - 1)
                            res = std::min(res, f[i][j][a] - (int)s[tab[0]].length() + mx[j][0][a][0]);
                    &amp;#125;
        
        std::cout &amp;lt;&amp;lt; std::max(2, res) &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    &amp;#125;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;a.-ææ–‘é©¬&#34;&gt;A. ææ–‘é©¬&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5175/problem/1&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5175/problem/1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ç”šè‡³ä¸ä¼šï¼ˆï¼‰&lt;/p&gt;
&lt;p&gt;ç¿»è½¬ + æ‹¼æ¥æœ¬è´¨ä¸Šå°±æ˜¯é¦–å°¾ç›¸æ¥ã€‚æˆ‘ä»¬æŠŠå­—ç¬¦ä¸²æ•´ä¸ªæ‹¼åˆ°è‡ªå·±åè¾¹å„¿ï¼Œç„¶åä»»å–ä¸€æ®µé•¿åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; çš„ä¸²å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå€’è¿‡æ¥çš„æ“ä½œåçš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°å¯ä»¥æ“ä½œå¾ˆå¤šæ¬¡ã€‚ä½†æ˜¯æ—¢ç„¶æˆ‘ä»¬æ“ä½œåçš„ä¸²ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªæ‹¼æ¥åçš„ä¸²ä¸­æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆå…¶å®å¤šæ¬¡æ“ä½œåçš„ä¹Ÿè¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å‘¢æˆ‘ä»¬åœ¨æ‹¼æ¥åçš„ä¸²ç§æšä¸¾æ¯ä¸€ä¸ªé•¿åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt; çš„ä¸²è®¡ç®—ç­”æ¡ˆå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“æ€ä¹ˆç®—å‘¢ï¼Ÿæ³¨æ„åˆ°åªçœ‹å¼€å¤´ï¼Œä¹Ÿå°±æ˜¯åœ¨æ–°ä¸²ä¸­åªçœ‹ç¦»æˆ‘ä»¬å½“å‰æšä¸¾çš„å³ç«¯ç‚¹æœ€è¿‘çš„é‚£ä¸€æ®µï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œçœ‹è¿™ä¸€æ®µæ˜¯å¦åœ¨å³ç§»åä»ç„¶åˆæ³•ï¼Œå¦‚æœéæ³•å°±æŠŠç­”æ¡ˆåŒºé—´å·¦ç«¯ç‚¹æ›´æ–°ä¸ºå³ç«¯ç‚¹è‡ªå·±ã€‚ä»¥åŠæ³¨æ„åˆ°å·¦å³ç«¯ç‚¹çš„è·ç¦»ä¸èƒ½è¶…è¿‡ &lt;span class=&#34;math inline&#34;&gt;\(n\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
int res;
std::string s;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
#endif
    std::cin &amp;gt;&amp;gt; s;
    int l = 0, r = -1, n = (int)s.length();
    char la = 0;
    s += s;
    while (++r &amp;lt; (int)s.length()) &amp;#123;
        if (s[r] == la)
            l = r;
        while (r - l + 1 &amp;gt; n) ++l;
        la = s[r];
        res = std::max(res, r - l + 1);
    &amp;#125;
    std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;d.-é“¾çŠ¶é—ªç”µ&#34;&gt;D. é“¾çŠ¶é—ªç”µ&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5175/problem/4&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5175/problem/4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è«åå…¶å¦™ä¸”åˆè‡­åˆé•¿çš„æ ¹å·åšæ³•ã€‚&lt;/p&gt;
&lt;p&gt;å®¹æ˜“å‘ç°ä¸€ä¸ªæ€ªè¢«æ€æ‰äº†åºåˆ—å°±ä¼šè£‚å¼€æˆä¸¤æ®µè¿ç»­å­åºåˆ—ï¼Œä»¥åŠæœ€å…ˆè¢«æ€æ‰çš„æ€ªç‰©ä¸€å®šè¡€é‡æœ€å°‘ã€‚åœ¨è£‚å¼€æ¥çš„ä¸¤æ®µè¿ç»­å­åºåˆ—ä¸­ä¹Ÿæ»¡è¶³æ­¤è§„å¾‹ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘å¯¹åºåˆ—å»ºç«‹ç¬›å¡å°”æ ‘ã€‚ä»¤æ ‘æ ¹ä¸º &lt;span class=&#34;math inline&#34;&gt;\(rt\)&lt;/span&gt;ï¼Œå½“å‰æ”»å‡»åŠ›ä¸º &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;ï¼Œè®° &lt;span class=&#34;math inline&#34;&gt;\(t_{x, k}=\left\lceil \dfrac {h_x}k \right\rceil\)&lt;/span&gt;ï¼Œå³ä¸è€ƒè™‘å…¶ä»–æ¡ä»¶æ—¶å‡»å€’ &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt; æ‰€éœ€æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(rt\)&lt;/span&gt; çš„å·¦ã€å³å„¿å­ &lt;span class=&#34;math inline&#34;&gt;\(l,r\)&lt;/span&gt;ï¼Œå•è€ƒè™‘è¿™ä¸‰ä¸ªæ€ªç‰©æ‰€éœ€çš„æ€»å‡»å€’æ¬¡æ•°ï¼Œå®¹æ˜“å‘ç°ä¸º &lt;span class=&#34;math inline&#34;&gt;\(t_{rt,k}+(t_{l,k}-t_{rt,k})+(t_{r,k}-t_{rt,k})\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(l\)&lt;/span&gt; å¼•å¯¼çš„å­æ ‘ï¼Œæ­¤æ—¶çš„å®é™…å·²æ”»å‡»æ¬¡æ•°ä¸º &lt;span class=&#34;math inline&#34;&gt;\(t_{l,k}\)&lt;/span&gt;ï¼›æ‰€ä»¥å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(l\)&lt;/span&gt; çš„å·¦å³å„¿å­ &lt;span class=&#34;math inline&#34;&gt;\(l&amp;#39;,r&amp;#39;\)&lt;/span&gt;ï¼Œå‡»å€’è¿™ä¸¤ä¸ªæ€ªç‰©çš„æ‰€éœ€æ¬¡æ•°ä¸º &lt;span class=&#34;math inline&#34;&gt;\((t_{l&amp;#39;,k} - t_{l,k})+(t_{r&amp;#39;,k}-t_{l,k})\)&lt;/span&gt;ã€‚&lt;span class=&#34;math inline&#34;&gt;\(r\)&lt;/span&gt; å¼•å¯¼çš„å­æ ‘åŒç†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ï¼Œå¦‚æœå­˜åœ¨æ ‘è¾¹ &lt;span class=&#34;math inline&#34;&gt;\(u\to v\)&lt;/span&gt;ï¼Œé‚£ä¹ˆå‡»å€’ &lt;span class=&#34;math inline&#34;&gt;\(v\)&lt;/span&gt; çš„æ‰€éœ€æ¬¡æ•°ä¸º &lt;span class=&#34;math inline&#34;&gt;\(t_{v,k}-t_{u,k}\)&lt;/span&gt;ï¼›ç‰¹åˆ«åœ°ï¼Œå‡»å€’ &lt;span class=&#34;math inline&#34;&gt;\(rt\)&lt;/span&gt; çš„æ‰€éœ€æ¬¡æ•°ä¸º &lt;span class=&#34;math inline&#34;&gt;\(t_{rt,k}\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸€æ¬¡ &lt;span class=&#34;math inline&#34;&gt;\(O(n)\)&lt;/span&gt; çš„æ ‘ä¸Š DFS å¯¹äºä¸€ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt; æ‰¾åˆ°ç­”æ¡ˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(2\times 10^4\)&lt;/span&gt; èŒƒå›´å†…çš„æ‰€æœ‰ &lt;span class=&#34;math inline&#34;&gt;\(k\)&lt;/span&gt;ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±è¦åˆ©ç”¨ &lt;span class=&#34;math inline&#34;&gt;\(t\)&lt;/span&gt; çš„æ€§è´¨è¿›è¡Œæ ¹å·åˆ†æ²»äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(k\le \sqrt {2\times 10^4}\)&lt;/span&gt;ï¼Œæˆ‘ä»¬å¤§å¯ä»¥ç›´æ¥åšè¿™ä¹ˆå¤šæ¬¡ DFS å¾—åˆ°ç­”æ¡ˆï¼›&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯¹äº &lt;span class=&#34;math inline&#34;&gt;\(k&amp;gt;\sqrt {2\times 10^4}\)&lt;/span&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å®¹æ˜“å‘ç°æœ€ç»ˆçš„ç»“æœæ˜¯è‹¥å¹²ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(t\)&lt;/span&gt; çš„å€¼ç›¸åŠ å‡å¾—åˆ°çš„ï¼Œè€Œæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(t\)&lt;/span&gt; çš„æƒå€¼ &lt;span class=&#34;math inline&#34;&gt;\(cnt\)&lt;/span&gt; å–å†³äºå…¶åœ¨ç¬›å¡å°”æ ‘ä¸Šçš„å„¿å­ä¸ªæ•°ï¼Œæœ‰å¤šå°‘å°±åœ¨ &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt; çš„åŸºç¡€ä¸Šå‡å»å¤šå°‘ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº &lt;span class=&#34;math inline&#34;&gt;\(t\)&lt;/span&gt; å®åœ¨è¿‡äºç‰¹æ®Šï¼Œè€ƒè™‘æ•´é™¤åˆ†å— / æ•°è®ºåˆ†å—ã€‚å¯¹äºæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;ï¼Œå¯¹äºä»»æ„ &lt;span class=&#34;math inline&#34;&gt;\(k&amp;#39;\in (\sqrt {2\times 10^4}, 2\times 10^4]\)&lt;/span&gt;ï¼Œå¯èƒ½çš„ &lt;span class=&#34;math inline&#34;&gt;\(t\)&lt;/span&gt; å€¼åªæœ‰ &lt;span class=&#34;math inline&#34;&gt;\(\sqrt {2\times 10^4 }\)&lt;/span&gt; ç§ã€‚è®¡ç®—å‡ºå¯¹äºæ¯ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(t&amp;#39;\)&lt;/span&gt;ï¼Œæ»¡è¶³ &lt;span class=&#34;math inline&#34;&gt;\(\left\lceil \dfrac {h_x}{k&amp;#39;} \right\rceil=t&amp;#39;\)&lt;/span&gt; çš„ &lt;span class=&#34;math inline&#34;&gt;\(k&amp;#39;\)&lt;/span&gt; èŒƒå›´ï¼Œå¯¹è¯¥èŒƒå›´ &lt;span class=&#34;math inline&#34;&gt;\(k&amp;#39;\)&lt;/span&gt; çš„ç­”æ¡ˆåŒºé—´åŠ ä¸Š &lt;span class=&#34;math inline&#34;&gt;\(t&amp;#39;\times cnt\)&lt;/span&gt; å³å¯ï¼Œå¯ä»¥ä½¿ç”¨å·®åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œå°±å¯ä»¥åœ¨ä¸€æ¬¡ DFS å†…è§£å†³è¿™ç§æƒ…å†µä¸‹çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ€»æ—¶é—´å¤æ‚åº¦ä¸º &lt;span class=&#34;math inline&#34;&gt;\(O(n\sqrt {2\times 10^4})\)&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨åšè¿™é“é¢˜çš„æ—¶å€™å¹¶æ²¡æœ‰æ„è¯†åˆ°è‡ªå·±ç”¨åˆ°äº†ç¬›å¡å°”æ ‘ï¼Œ&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä»£ç ä¸­ç¬›å¡å°”æ ‘çš„å»ºæ ‘éƒ¨åˆ†å¯èƒ½é•¿å¾—ç‰¹åˆ«æŠ½è±¡ï¼ˆ&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯ä½¿ç”¨äº†ä¸‹æ ‡ä¸Šçš„ ST è¡¨å¸¦ log åœ°æ±‚è§£äº†å·¦å³å„¿å­ã€‚&lt;/p&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxm = 35;
const int maxn = 1e5 + 5;
using ll = long long;
ll res;
int n, k, l;
int g[maxn][2];
int f[maxn][maxm];
int a[maxn], t[maxn];
ll dif[maxn], cnt[maxn];
int ask(int l, int r) &amp;#123;
    if (l &amp;gt; r) return 0;
    int k = log(r - l + 1) / log(2.0);
    return (a[f[l][k]] &amp;lt; a[f[r - (1 &amp;lt;&amp;lt; k) + 1][k]]) ? f[l][k] : f[r - (1 &amp;lt;&amp;lt; k) + 1][k];
&amp;#125;
void bld(int rt, int l, int r) &amp;#123;
    if (rt != l) &amp;#123;
        g[rt][0] = ask(l, rt - 1);
        bld(g[rt][0], l, rt - 1);
    &amp;#125;
    if (rt != r) &amp;#123;
        g[rt][1] = ask(rt + 1, r);
        bld(g[rt][1], rt + 1, r);
    &amp;#125;
    return;
&amp;#125;
// k &amp;lt;= sqrt(lim)
void DFS(int x, int k, int fa) &amp;#123;
    t[x] = (a[x] + k - 1) / k;
    res += t[x] - t[fa];
    for (int i = 0; i &amp;lt; 2; ++i) &amp;#123;
        if (g[x][i])
            DFS(g[x][i], k, x);
    &amp;#125;
    return;
&amp;#125;
// k &amp;gt; sqrt(lim)
void DFS(int x, int fa) &amp;#123;
    ++cnt[x];
    --cnt[fa];
    for (int i = 0; i &amp;lt; 2; ++i) &amp;#123;
        if (g[x][i])
            DFS(g[x][i], x);
    &amp;#125;
    int l = k + 1, r;
    // æ³¨æ„è¿™é‡Œ i çš„èŒƒå›´åˆ¤å®šï¼Œå¦‚æœç›´æ¥å†™æˆ i * i &amp;lt;= k ä¼šå°‘è®¡ç®—ä¸€äº›æƒ…å†µ
    for (int i = 1; (i - 1) * (i - 1) &amp;lt; k; ++i) &amp;#123;
        r = l - 1;
        l = (a[x] + i - 1) / i;
        // fprintf(stderr, &amp;quot;%d: [%d, %d] += %d * %d\n&amp;quot;, a[x], l, r, cnt[x], i);
        dif[l] += i * cnt[x], dif[r + 1] -= i * cnt[x];
    &amp;#125;
    return;
&amp;#125;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
#endif
    std::cin &amp;gt;&amp;gt; n;
    for (int i = 1; i &amp;lt;= n; ++i) &amp;#123;
        std::cin &amp;gt;&amp;gt; a[i];
        f[i][0] = i;
        k = std::max(k, a[i]);
    &amp;#125;
    for (int j = 1; (1 &amp;lt;&amp;lt; j) &amp;lt;= n; ++j)
        for (int i = 1; i + (1 &amp;lt;&amp;lt; j) - 1 &amp;lt;= n; ++i)
            f[i][j] = (a[f[i][j - 1]] &amp;lt; a[f[i + (1 &amp;lt;&amp;lt; (j - 1))][j - 1]]) ? f[i][j - 1] : f[i + (1 &amp;lt;&amp;lt; (j - 1))][j - 1];
    int rt = ask(1, n);
    bld(rt, 1, n);
    for (int i = 1; i * i &amp;lt;= k; ++i) &amp;#123;
        res = 0;
        DFS(rt, i, 0);
        std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
        l = i + 1;
    &amp;#125;
    // fputs(&amp;quot;\n&amp;quot;, stderr);
    DFS(rt, 0);
    std::partial_sum(dif + 1, dif + k + 1, dif + 1);
    for (int i = l; i &amp;lt;= k; ++i)
        std::cout &amp;lt;&amp;lt; dif[i] &amp;lt;&amp;lt; &amp;#39; &amp;#39;;
    std::cout &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
    return 0;
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;hr /&gt;
&lt;h3 id=&#34;f.-å¼¹é£ç»µç¾Š&#34;&gt;F. å¼¹é£ç»µç¾Š&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.becoder.com.cn/contest/5175/problem/6&#34; class=&#34;uri&#34;&gt;https://www.becoder.com.cn/contest/5175/problem/6&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆæ£’å¯æŒä¹…åŒ–åˆ†å—ï¼Œä½¿æˆ‘ lxl æ—‹è½¬ã€‚&lt;/p&gt;
&lt;p&gt;ç¬‘è¯ï¼šèµ›å 5s æ‰äº¤ä¸Šå»ã€‚ç„¶å A äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çŒœå¤§å®¶éƒ½ä¼šæ™®é€šçš„å¼¹é£ç»µç¾Šè¿™é“é¢˜ã€‚å°±æ˜¯å—é—´æš´åŠ›è·³å˜›ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç»™ä¸€ä¸ªæˆ‘è‡ªå·±æ•´çš„ç®€å•å®ç°æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠåˆ†å‡ºæ¥çš„å—è§†ä½œè‹¥å¹²ä¸ªæ— å…³è”çš„æ•£å—å¹¶çº³å…¥å—é›†åˆï¼›å¯¹äºæ¯ä¸€ä¸ªç‰ˆæœ¬ï¼Œç”¨ä¸€ä¸ªå¤§å°ä¸º &lt;span class=&#34;math inline&#34;&gt;\(\sqrt n\)&lt;/span&gt; çš„ &lt;span class=&#34;math inline&#34;&gt;\(id\)&lt;/span&gt; æ•°ç»„è®°å½•æ¯ä¸€ä½ç½®çš„å—åœ¨å—é›†åˆä¸­å¯¹åº”çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åè¯¥æ€ä¹ˆææ€ä¹ˆæå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;P.S. zwb åšå®šä¸ç§»ä¿¡ä»° lxl ç¥æ•™äºæ˜¯å†³å®šç”¨å¯æŒä¹…åŒ–å¹³è¡¡æ ‘å®ç°å¯æŒä¹…åŒ–åˆ†å—ï¼Œç»“æœå½“ç„¶æ˜¯å› ä¸ºå¤šäº†ä¸ª &lt;span class=&#34;math inline&#34;&gt;\(\log\)&lt;/span&gt; è¢«å¡é£äº†ï¼Œæœ€åæ°”æ€¥è´¥åæ…Œä¸æ‹©è·¯æ¼ç¾æˆæ€’æŠ„èµ·äº†æˆ‘çš„ä»£ç ã€‚&lt;/p&gt;
&lt;details&gt;
&lt;pre class=&#34;cpp&#34;&gt;&lt;code&gt;#include &amp;lt;bits/stdc++.h&amp;gt;
const int maxk = 320;
const int maxn = 2e5 + 5;
class devicer &amp;#123;
public:
    int l, r;
    std::vector&amp;lt;int&amp;gt; ne, u, a;
    int &amp;amp;nex(int x);
    int &amp;amp;val(int x);
&amp;#125;;
int id[maxn][maxk];
std::vector&amp;lt;devicer&amp;gt; b;
int n, q, ty, siz, k, la;
int a[maxn], tab[maxn], blk[maxn];
void upd(int x, int a, devicer &amp;amp;p) &amp;#123;
    if (x + a &amp;gt; n)
        p.nex(x) = -1, p.val(x) = 1;
    else if (x + a &amp;gt; p.r)
        p.nex(x) = x + a, p.val(x) = 1;
    else
        p.nex(x) = p.nex(x + a), p.val(x) = p.val(x + a) + 1;
    // printf(&amp;quot;x = %d, a = %d, r = %d, upd ne[%d] to %d\n&amp;quot;, x, a, p.r, x, p.nex(x));
    return;
&amp;#125;
int main() &amp;#123;
#ifdef ONLINE_JUDGE
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
    std::cout.tie(nullptr);
#endif
    std::cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; q &amp;gt;&amp;gt; ty;
    siz = sqrt(n);
    k = (n + siz - 1) / siz;
    b.resize(k);
    int la = 0, now = k - 1;
    for (auto &amp;amp;i : b)
        i.l = la + 1, la = i.r = i.l + siz - 1;
    b.back().r = n;
    for (int i = 0; i &amp;lt; k; ++i) &amp;#123;
        id[0][i] = i;
        b[i].a.resize(b[i].r - b[i].l + 1);
        b[i].u.resize(b[i].r - b[i].l + 1);
        b[i].ne.resize(b[i].r - b[i].l + 1);
        for (int j = b[i].l; j &amp;lt;= b[i].r; ++j)
            tab[j] = j - b[i].l, blk[j] = i;
    &amp;#125;
    for (int i = 1; i &amp;lt;= n; ++i)
        std::cin &amp;gt;&amp;gt; b[blk[i]].a[tab[i]];
    for (int i = n; i; --i)
        upd(i, b[blk[i]].a[tab[i]], b[blk[i]]);
    int ver = 0;
    while (q--) &amp;#123;
        int op, pr, x;
        static int res = 0;
        std::cin &amp;gt;&amp;gt; op &amp;gt;&amp;gt; pr &amp;gt;&amp;gt; x;
        if (!ty)
            res = 0;
        x ^= res;
        if (op == 1) &amp;#123;
            std::copy(id[pr], id[pr] + k, id[++ver]);
            b.push_back(b[id[ver][blk[x]]]);
            id[ver][blk[x]] = ++now;
            std::cin &amp;gt;&amp;gt; b.back().a[tab[x]];
            b.back().a[tab[x]] ^= res;
            for (int i = x; i &amp;gt;= b.back().l; --i)
                upd(i, b.back().a[tab[i]], b.back());
        &amp;#125;
        else &amp;#123;
            int p = x;
            res = 0;
            while (~p) &amp;#123;
                // printf(&amp;quot;p = %d\n&amp;quot;, p);
                res += b[id[pr][blk[p]]].u[tab[p]];
                p = b[id[pr][blk[p]]].ne[tab[p]];
            &amp;#125;
            std::cout &amp;lt;&amp;lt; res &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
        &amp;#125;
    &amp;#125;
    return 0;
&amp;#125;
int&amp;amp; devicer::nex(int x) &amp;#123;
    return ne[tab[x]];
&amp;#125;
int&amp;amp; devicer::val(int x) &amp;#123;
    return u[tab[x]];
&amp;#125;&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
</content>
        <category term="DP" />
        <category term="çŠ¶å‹" />
        <category term="SAM" />
        <category term="åˆ†å—" />
        <category term="å¯æŒä¹…åŒ–" />
        <category term="ç¬›å¡å°”æ ‘" />
        <updated>2024-05-01T07:44:48.000Z</updated>
    </entry>
</feed>
