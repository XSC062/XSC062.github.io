<!DOCTYPE html>
<html>
<!-- ç½‘ç«™å›¾æ ‡ -->
<link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png">
<!-- å…¶ä»–å›¾æ ‡æ”¯æŒ -->
<link rel="stylesheet" href="/css/fa-brands.min.css">
<link rel="stylesheet" href="/css/fa-regular.min.css">
<link rel="stylesheet" href="/css/fa-solid.min.css">
<link rel="stylesheet" href="/css/fontawesome.min.css">
<link rel="stylesheet" href="/css/fontawesome-all.css">
<link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">
<!-- ç½‘ç«™æ ‡é¢˜ -->
<title>
	
		èƒŒå•è¯ -
	
	XSC062 çš„åšå®¢
</title>
<!-- js å¼•å…¥ -->

<script src="/js/beforebody.js"></script>


<script src="/js/jQuery.js"></script>

<!-- css å¼•å…¥ -->

<link rel="stylesheet" href="/css/layout.css">


<link rel="stylesheet" href="/css/prcss/prism.css">


<link rel="stylesheet" href="/css/prcss/prism-line-numbers.css">

<!-- è½½å…¥ Valine -->

<script src="/js/Valine.min.js"></script>

<!-- æœç´¢åŠŸèƒ½ç›¸å…³é…ç½® -->

<script src="/js/search.js"></script>

<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length == 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, 'local-search-input', 'local-search-result');
</script>

<meta charset="utf-8"> 
<body>
	
		
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            processEscapes: true
          }
        });
      </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
            tex2jax: {
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
          });
      </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
              var all = MathJax.Hub.getAllJax(), i;
              for(i=0; i < all.length; i += 1) {
                  all[i].SourceElement().parentNode.className += ' has-jax';
              }
          });
      </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

	
	<div id="searchbar">
	åˆ«æ…Œï¼Œæœç´¢è¿˜æ²¡å†™å¥½
</div>
	<!-- é¡¶æ æ•´ä½“å¯¼èˆªèœå• -->
<div class="ui top menu">
	<!-- å·¦å¯¹é½ logo -->
	<a class="logo" href="/">
		<img src="/images/icon.png"></img>
		<div id="bartitle">
			XSC062 çš„åšå®¢
		</div>
	</a>
	<!-- å³å¯¹é½éƒ¨åˆ†å¯¼èˆª -->
	<div id="rightali">
		<a class="item" id="Search" rule="button">
			<i class="btn text-muted fa fa-search" id="search-icon" disabled></i>
		</a>
		<a class="item" id="Home" href="/">
			Home
		</a>
		<a class="item" id="Arch" href="/archives">
			Archives
		</a>
		<!-- <a class="item" id="Cate" href="/categories">
			Categories
		</a> -->
		<a class="item" id="Tags" href="/tags">
			Tags
		</a>
		<a class="item" id="Frie" href="/friends">
			Friends
		</a>
		<a class="item" id="Abou" href="/about">
			About
		</a>
	</div>
</div>
    
<link rel="stylesheet" href="/css/post.css">


<script src="/js/post.js"></script>


<div class="ui post container">
	<div class="ui text container yahei">
		<span id="postcon">
			<span id="postinfo">
				<div class="ui post title">
					<div id="fortitle" data-content="èƒŒå•è¯">
						èƒŒå•è¯
					</div>
					<div class="ui title background">
					</div>
				</div>
				<span id="date">
					<i class="fas fa-calendar-alt" style="margin-right: 4px;"></i>
					2023-01-10
				</span>
			</span>
		</span>
		<div id="posttags" class="dotted border">
			
				<span style="color: #888;">æš‚æ— æ ‡ç­¾</span>
			
				</div>
		<!-- æœ¬æ¥ç”¨çš„æ˜¯ fromNow ç„¶åå­—ç¬¦ä¸²åˆ¤æ–­ï¼Œæ²¡æƒ³åˆ°å¯ä»¥ç›´æ¥è°ƒç”¨ moment() -->
		
		<div id="content">
			<p>Solution to<a
target="_blank" rel="noopener" href="http://222.180.160.110:1024/problem/59">ã€ŒSCOI2016ã€èƒŒå•è¯</a>ã€‚</p>
<span id="more"></span>
<hr />
<p>é¢˜è§£ P3294ã€‚</p>
<p>æˆ‘ä»¬çœ‹åˆ°å­—å…¸æ ‘è¿™ä¸ªæ ‡ç­¾ï¼Œä¸‹æ„è¯†æƒ³åˆ°äº†å‰ç¼€ã€‚</p>
<p>ä½†æ˜¯é¢˜ç›®è®©æˆ‘ä»¬æ±‚åç¼€ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæ‰€æœ‰å­—ç¬¦ä¸²å…ˆ <code>reverse</code>
ä¸€ä¸‹ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºå‰ç¼€ï¼Œæ–¹ä¾¿æè¿°ã€‚</p>
<hr />
<p>æˆ‘ä»¬å‘ç°ï¼Œå› ä¸º <span class="math inline">\(y &lt; x \le
n\)</span>ï¼Œæ‰€ä»¥ä¸‰ç§æƒ…å†µçš„èŠ±è´¹æ’åºä¸º <span
class="math inline">\(x-y&lt;x&lt;n\times n\)</span>ã€‚</p>
<p>ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆç®€å•åœ°é€šè¿‡ã€ŒæŠŠæŸå•è¯çš„æ‰€æœ‰å‰ç¼€å•è¯æ”¾åˆ°å®ƒä¹‹å‰ã€æ¶ˆé™¤å¼€é”€ä¸º
<span class="math inline">\(n\times n\)</span>
çš„æƒ…å†µã€‚æ­¤æ—¶å¼€é”€æœ€åŠ£æƒ…å†µä¸‹ä¸º <span
class="math inline">\(\sum\limits_{i=1}^ni &lt; n\times n\)</span>ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œé—®é¢˜åœ¨äºæ€æ ·åœ¨æ»¡è¶³ã€ŒæŠŠæŸå•è¯çš„æ‰€æœ‰å‰ç¼€å•è¯æ”¾åˆ°å®ƒä¹‹å‰ã€çš„æ¡ä»¶ä¸‹ï¼Œæœ€å°åŒ–å¼€é”€ã€‚ä¸éš¾å‘ç°ï¼Œå½“æˆ‘ä»¬å»é™¤ç¬¬ä¸€ç§æƒ…å†µåï¼Œå‰©ä¸‹çš„
<span class="math inline">\(x\)</span> å’Œ <span
class="math inline">\(x-y\)</span> éƒ½åŒ…å« <span
class="math inline">\(x\)</span> é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦æœ€å°åŒ– <span
class="math inline">\(\sum -y\)</span> çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§åŒ– <span
class="math inline">\(\sum y\)</span> çš„å€¼ã€‚è€Œ <span
class="math inline">\(\sum x\)</span> ä¸ºå®šå€¼ <span
class="math inline">\(\sum\limits_{i=1}^ni\)</span>ã€‚</p>
<p><strong>å…³äºå¤„ç†æ–¹å¼ï¼šä¸éš¾å‘ç°ä¸€ä¸ªå•è¯çš„æœ€é•¿å‰ç¼€å•è¯æœ€å¤šåªæœ‰ä¸€ä¸ªï¼Œä½†ä»¥è¯¥å•è¯ä¸ºæœ€é•¿å‰ç¼€å•è¯çš„å•è¯å¯èƒ½æœ‰å¤šä¸ªï¼Œè”æƒ³åˆ°æ ‘ã€‚</strong></p>
<p><strong>æˆ‘ä»¬å°†æ¯ä¸ªå•è¯çš„æœ€é•¿å‰ç¼€å’Œè¯¥å•è¯è¿è¾¹ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªæ£®æ—ã€‚</strong></p>
<p>ä¸å¦¨å…ˆè€ƒè™‘é—®é¢˜çš„ç®€åŒ–ï¼Œå‡è®¾æœ‰ä¸¤æ¡é“¾ï¼ˆå³ï¼Œä¸ä¼šåŒæ—¶å­˜åœ¨å¤šä¸ªå•è¯ï¼Œä½¿å¾—å®ƒä»¬çš„æœ€é•¿å‰ç¼€å•è¯ç›¸åŒï¼‰ï¼Œåº”è¯¥å¦‚ä½•å®‰æ’å…¶é¡ºåºã€‚</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œè€ƒè™‘ã€ŒåŒä¸€æ¡é“¾å‡åŒ€åˆ†æ•£åˆ°åºåˆ—ä¸­ã€å’Œã€ŒåŒä¸€æ¡é“¾é›†ä¸­åœ¨ä¸€èµ·ã€ä¸¤ç§æœ‰è§„å¾‹çš„å®‰æ’æ–¹å¼ï¼Œå¾—åˆ°ï¼š</p>
<p><img src="1.jpg" /></p>
<p>å¯ä»¥å‘ç°ï¼Œç¬¬äºŒç§æƒ…å†µæ˜æ˜¾æ›´ä¼˜ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬æ‰©å±•çŒœæƒ³ï¼šå¯¹äºæŸä¸€å•è¯ï¼Œä»¥å®ƒä¸ºå‰ç¼€çš„æ‰€æœ‰å•è¯å¿…é¡»ç´§éšå…¶åã€‚è¯¥ç»“è®ºæ˜¯å¯é€’å½’çš„ã€‚</p>
<p>ç»§ç»­å¤„ç†ç»†èŠ‚éƒ¨åˆ†ã€‚è€ƒè™‘ä¸¤æ¡é“¾é•¿åº¦ä¸åŒï¼Œåº”å¦‚ä½•æ’åˆ—å®ƒä»¬çš„ä½ç½®ï¼Ÿ</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ã€Œå‰çŸ­åé•¿ã€å’Œã€Œå‰é•¿åçŸ­ã€ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<p><img src="2.jpg" /></p>
<p>å¯ä»¥å‘ç°ï¼Œå‰çŸ­åé•¿çš„æ–¹æ¡ˆæ›´ä¼˜ã€‚</p>
<p>æ‰©å±•å¾—åˆ°çŒœæƒ³ï¼ŒåŒä¸€å•è¯çš„æ‰€æœ‰å­æ ‘ä¸­ï¼Œå¤§å°æ›´å°çš„åº”åœ¨æ›´å‰é¢ã€‚è¯¥ç»“è®ºæ˜¯å¯é€’å½’çš„ã€‚</p>
<hr />
<p>æ¥ä¸‹æ¥å¯¹çŒœæƒ³è¿›è¡Œè¯æ˜ã€‚</p>
<p>å‡è®¾ç°åœ¨å·²æœ‰ä¸€æ¡é“¾ã€‚æˆ‘ä»¬åªæœ‰æŠŠæ•´æ¡é“¾è¿åœ¨ä¸€èµ·ï¼ŒçŸ­å•è¯æ”¾åˆ°é•¿å•è¯å‰é¢è¿™ä¸€ç§æ–¹æ³•ã€‚</p>
<p>ç„¶åæ–°æ¥äº†ä¸€ä¸ªä¸å±äºè¿™æ¡é“¾çš„èŠ‚ç‚¹ï¼Œæ˜æ˜¾ï¼Œå› ä¸ºèŠ‚ç‚¹ä¸ç®¡æ”¾åˆ°å“ªé‡Œï¼Œå…¶
<span class="math inline">\(y\)</span> å€¼ä¸å˜ï¼Œä½†ä¼šæ”¹å˜å·²æœ‰é“¾çš„ <span
class="math inline">\(y\)</span> å€¼ï¼Œæ‰€ä»¥æ”¾åˆ°æœ€å‰é¢æœ€ä¼˜ã€‚</p>
<p>åˆæ¥äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå’Œåˆšæ‰æ–°å¢çš„èŠ‚ç‚¹å±äºåŒä¸€æ¡é“¾ï¼Œä¸€æ ·ï¼Œä¸ç®¡è¿™ä¸ªèŠ‚ç‚¹ä½•å»ä½•ä»ï¼Œå…¶
<span class="math inline">\(y\)</span> ä¸å˜ï¼Œä½†æ”¾åœ¨è¶Šå‰é¢ï¼Œåé¢çš„èŠ‚ç‚¹çš„
<span class="math inline">\(y\)</span> å€¼å¢åŠ å¾—è¶Šå¤šã€‚</p>
<p>ä»¥æ­¤ç±»æ¨å¯å¾—åˆ°ç»“è®ºï¼ŒåŒä¸€æ¡é“¾æ”¾åˆ°ä¸€èµ·ã€‚çŸ­é“¾æ”¾åˆ°é•¿é“¾å‰é¢ä¹Ÿæ˜¯æ¯”è¾ƒå¥½æƒ³çš„ã€‚å‡è®¾æœ‰ä¸¤æ¡é“¾ï¼ŒçŸ­é“¾é•¿åº¦ä¸º
<span class="math inline">\(a\)</span>ï¼Œé•¿é“¾é•¿åº¦ä¸º <span
class="math inline">\(b\)</span>ï¼Œæ”¾ç½®èµ·ç‚¹ä¸º <span
class="math inline">\(l\)</span>ï¼Œåˆ™å‰çŸ­åé•¿å’Œé’±é•¿åçŸ­çš„ y ä¹‹å’Œåˆ†åˆ«ä¸º
<span class="math inline">\(\dfrac{(l + l + a - 2) \times (a - 1) + (l +
a + l + a + b - 2) \times (b - 1)} 2\)</span> å’Œ <span
class="math inline">\(\dfrac{(l + l + b - 2) \times (b - 1) + (l + b + l
+ b + a - 2) \times (b - 1)}
2\)</span>ï¼ˆè¿ç”¨ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼ï¼‰ï¼Œè§£ä¸ç­‰å¼å¯å¾—å‰çŸ­åé•¿ä¸€å®šæ›´ä¼˜ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯ä»é“¾æ‰©å±•åˆ°æ ‘ã€‚é‚£ä¹ˆæˆ‘ä»¬æƒ³åˆ°äº†ä»€ä¹ˆï¼Ÿæ ‘é“¾å‰–åˆ†ã€‚</p>
<p>æˆ‘ä»¬åŒ–ç”¨æ ‘å‰–æ€æƒ³ï¼Œä»¥æœ€è½»è¾¹ä¸ºå‰–åˆ†æ¡ä»¶ï¼Œå°†æ ‘åˆ’åˆ†ä¸ºæœ‰é¡ºåºçš„é“¾ï¼ŒæŒ‰ç…§ä¸Šè¿°æ–¹å¼æ’åˆ—å…¶é¡ºåºå³å¯ã€‚</p>
<p>æ­¤æ—¶æˆ‘ä»¬è®°å½•ä¸‹æ¯ä¸ªå•è¯çš„ç›´ç³»çˆ¶äº²ï¼ˆå³å…¶æœ€é•¿å‰ç¼€å•è¯ï¼‰ï¼Œåœ¨å”¯ä¸€åºåˆ—ä¸­æ¨¡æ‹Ÿè®¡åˆ†æ“ä½œï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚</p>
<hr />
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œå¯å°†æ‰€æœ‰å…¥åº¦ä¸º <span class="math inline">\(0\)</span>
çš„ç‚¹ä¸ä¸€ä¸ªè™šç‚¹ç›¸è¿ï¼Œå°†æ£®æ—è½¬åŒ–ä¸ºæ ‘ã€‚</p>
<p>æ³¨æ„ <code>long long</code>ã€‚</p>
<details>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">namespace</span> XSC062 <span class="token punctuation">&#123;</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> fastIO<span class="token punctuation">;</span>
<span class="token keyword">using</span> str <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>string<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token number">1e6</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxm <span class="token operator">=</span> <span class="token number">1e6</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
str s<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> T<span class="token punctuation">[</span>maxm<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> kaz<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">,</span> siz<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// kaz å³ä¸º kazuha(?) è¡¨ç¤ºå•è¯åœ¨æœ€ç»ˆåºåˆ—ä¸­æ‰€å¤„çš„ä½ç½®</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> g<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span> l<span class="token punctuation">,</span> res<span class="token punctuation">,</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> ti<span class="token punctuation">;</span>
<span class="token keyword">int</span> tot<span class="token punctuation">[</span>maxm<span class="token punctuation">]</span><span class="token punctuation">,</span> fa<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">,</span> deg<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
	<span class="token keyword">int</span> f <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> len <span class="token operator">=</span> s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>T<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
			T<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">++</span>cnt<span class="token punctuation">;</span>
		f <span class="token operator">=</span> T<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	tot<span class="token punctuation">[</span>f<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Search</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> f <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		f <span class="token operator">=</span> T<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tot<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>tot<span class="token punctuation">[</span>f<span class="token punctuation">]</span> <span class="token operator">!=</span> k<span class="token punctuation">)</span>
				fa<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> tot<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•å½“å‰æœ€é•¿å‰ç¼€</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token operator">++</span>deg<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
	g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">DFS1</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// æå‰è®¡ç®—æ¯ä¸ªå­æ ‘çš„ size</span>
	siz<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">:</span> g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">DFS1</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		siz<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+=</span> siz<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">DFS2</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	kaz<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> ti<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">// æ—¶é—´æˆ³å³ä¸ºå•è¯ä½ç½®</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> siz<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;</span> siz<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‰å­æ ‘ size æ’åº</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">:</span> g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token function">DFS2</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span><span class="token function">reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åç¼€è½¬å‰ç¼€</span>
		<span class="token function">Insert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		res <span class="token operator">+=</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">Search</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token function">add</span><span class="token punctuation">(</span>fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å»ºå›¾</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>deg<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// å»ºè™šç‚¹æ–¹ä¾¿æ“ä½œ</span>
			<span class="token function">add</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">DFS1</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">DFS2</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		res <span class="token operator">-=</span> kaz<span class="token punctuation">[</span>fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å¤„ç† y å€¼</span>
	<span class="token function">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span class="token comment">// namespace XSC062</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>

		</div>
		<hr class="dotted">
		<div class="post footer">
			<div id="hitokoto">
				<h3 id="hitokoto-title">
					ä¸€è¨€ - Hitokoto
				</h3>
				<div id="hitokoto-content">
				</div>
				<div id="hitokoto-from">
				</div>
			</div>
			<div class="button flex">
				<div id="prev">
					
						<!-- åæ§½ï¼Œä¸ºå•¥è¿˜éœ€è¦åŠ  / -->
						<a href="/20230111/">
							<i class="fas fa-angle-double-left" style="margin-right: 10px;"></i>
							ç‘°ä¸½åå°”å…¹
						</a>
					
				</div>
				<div id="next">
					
				</div>
			</div>
			<div id="vcomments" class="yahei"></div>
<script>
	new Valine({
		el: '#vcomments',
		appId: 'OlmvQ0a2Zw7xo3no2bwabOzx-gzGzoHsz',
		appKey: 'TW6t8mFeGLmhPjWisvmllvvo',
		recordIP: true,
		enableQQ: true, 
		// ç›®å‰ Valine çš„ QQ è‡ªåŠ¨è·å–æ˜µç§°ä¼¼ä¹ä¸å¯ç”¨
		// æ•…ä¸å»ºè®®å¼€å¯
		pageSize: 10,
		placeholder: 'The world is but a little place after all...\nèƒ½å¤Ÿæ ¹æ®é‚®ç®±è·å–ä½ çš„ Gravatar å¤´åƒ ğŸ±â€ğŸ',
	})
</script>
		</div>
		<script>setHitokoto();</script>
	</div> 
</div>
    <!-- é¡µè„šå¼€å§‹ -->
<div id="footer" class="yahei">
    Powered by 
    <a target="_blank" rel="noopener" href="https://hexo.io">
        Hexo
    </a>
    & 
    <a href="/about">
       XSC062
    </a>
	<p style="margin-top: 5px;">
		2021 - 2024
	</p>
</div>
<!-- Valine ç›¸å…³é…ç½® -->
<script>
    const getValineDomTimer = setInterval(() => {
        // ä¸çŸ¥é“ä¸ºä»€ä¹ˆ æˆ‘ä»åŸåšå®¢ js æ–‡ä»¶ç²˜è¿‡æ¥çš„å‚æ•°æ˜¯
        // "#valine .vcards .vcard"
        // DEBUG äº†åŠå¤©æ‰å®šä½åˆ°è¿™ä¸ªé—®é¢˜ã€‚ã€‚ã€‚
        const vcards =
            document.querySelectorAll('#valine, .vcards, .vcard');
        if (vcards.length > 0) {
            let author = 'XSC062';
            for (let vcard of vcards) {
                const vnick_dom = vcard.querySelector('.vhead .vnick');
                const vnick = vnick_dom.innerHTML;
                if (vnick === author) {
                    vnick_dom.innerHTML =
                        `${vnick} <span id="rootitem" class="fira">root</span>`
                }
            }
            clearInterval(getValineDomTimer);
        } else {
            clearInterval(getValineDomTimer);
        }
    }, 2000);
</script>
<script>
	SetActiveItem();
	setDetailsSummary();
</script>

<!-- é¡µè„šç»“æŸ -->

</body>
</html>