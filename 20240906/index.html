<!DOCTYPE html>
<html>
<!-- ç½‘ç«™å›¾æ ‡ -->
<link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png">
<!-- å…¶ä»–å›¾æ ‡æ”¯æŒ -->
<link rel="stylesheet" href="/css/fa-brands.min.css">
<link rel="stylesheet" href="/css/fa-regular.min.css">
<link rel="stylesheet" href="/css/fa-solid.min.css">
<link rel="stylesheet" href="/css/fontawesome.min.css">
<link rel="stylesheet" href="/css/fontawesome-all.css">
<link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">
<!-- ç½‘ç«™æ ‡é¢˜ -->
<title>
	
		åŠ¨ï¼æ€ï¼å½’ï¼åˆ’ï¼10ï¼é¢˜ï¼ -
	
	XSC062 çš„åšå®¢
</title>
<!-- js å¼•å…¥ -->

<script src="/js/beforebody.js"></script>


<script src="/js/jQuery.js"></script>

<!-- css å¼•å…¥ -->

<link rel="stylesheet" href="/css/layout.css">


<link rel="stylesheet" href="/css/prcss/prism.css">


<link rel="stylesheet" href="/css/prcss/prism-line-numbers.css">

<!-- è½½å…¥ Valine -->

<script src="/js/Valine.min.js"></script>

<!-- æœç´¢åŠŸèƒ½ç›¸å…³é…ç½® -->

<script src="/js/search.js"></script>

<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length == 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, 'local-search-input', 'local-search-result');
</script>

<meta charset="utf-8"> 
<body>
	
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            processEscapes: true
          }
        });
      </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
            tex2jax: {
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
          });
      </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
              var all = MathJax.Hub.getAllJax(), i;
              for(i=0; i < all.length; i += 1) {
                  all[i].SourceElement().parentNode.className += ' has-jax';
              }
          });
      </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

	<!-- é¡¶æ æ•´ä½“å¯¼èˆªèœå• -->
<div class="ui top menu">
	<!-- å·¦å¯¹é½ logo -->
	<a class="logo" href="/">
		<img src="/images/icon.png"></img>
		<div id="bartitle">
			XSC062 çš„åšå®¢
		</div>
	</a>
	<!-- å³å¯¹é½éƒ¨åˆ†å¯¼èˆª -->
	<div id="rightali">
		<a class="item" id="Search" type="button" onclick="surprise();">
			<i class="btn text-muted fa fa-search" id="search-icon" disabled></i>
		</a>
		<a class="item" id="Home" href="/">
			Home
		</a>
		<a class="item" id="Arch" href="/archives">
			Archives
		</a>
		<!-- <a class="item" id="Cate" href="/categories">
			Categories
		</a> -->
		<a class="item" id="Tags" href="/tags">
			Tags
		</a>
		<a class="item" id="Frie" href="/friends">
			Friends
		</a>
		<a class="item" id="Abou" href="/about">
			About
		</a>
	</div>
</div>
    
<link rel="stylesheet" href="/css/post.css">


<script src="/js/post.js"></script>


<div class="main">
	<div id="toc">
		<span id="toctitle">
			<i class="fas fa-list"></i>
			ç›®å½•
		</span>
		<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%90%88%E5%B9%B6"><span class="toc-text">1. å­—ç¬¦åˆå¹¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mod-mod-mod"><span class="toc-text">2. Mod Mod Mod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stalinsort-algorithm"><span class="toc-text">3. StalinSort Algorithm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#merge-triplets"><span class="toc-text">4. Merge Triplets</span></a></li></ol>
	</div>
	<div class="ui post container">
		<div class="ui text container yahei">
			<span id="postcon">
				<span id="postinfo">
					<div class="ui post title">
						<div id="fortitle" data-content="åŠ¨ï¼æ€ï¼å½’ï¼åˆ’ï¼10ï¼é¢˜ï¼">
							åŠ¨ï¼æ€ï¼å½’ï¼åˆ’ï¼10ï¼é¢˜ï¼
						</div>
						<div class="ui title background">
						</div>
					</div>
					<span id="date">
						<i class="fas fa-calendar-alt" style="margin-right: 4px;"></i>
						2024-09-06
					</span>
				</span>
			</span>
			<div id="posttags" class="dotted border">
				
					
						<a href="/tags/DP/" class="citem">DP</a>
					
					
					</div>
			<!-- æœ¬æ¥ç”¨çš„æ˜¯ fromNow ç„¶åå­—ç¬¦ä¸²åˆ¤æ–­ï¼Œæ²¡æƒ³åˆ°å¯ä»¥ç›´æ¥è°ƒç”¨ moment() -->
			
			<div id="content">
				<p>ç°åœ¨æ˜¯ 10 é¢˜ã€‚è™½ç„¶çœ‹ç€å¾ˆæ‰ä»·ï¼Œä½†æ˜¯å†™å¤Ÿäº† 10 å°±æ”¹æˆ 20
é¢˜ã€‚ä»¥æ­¤ç±»æ¨ï¼Œå…å¾—æˆ‘æ‘†çƒ‚ï¼ˆï¼‰</p>
<p>è‡ªç”¨å‘ï¼Œä¸å†™å¤ªè¯¦ç»†ï¼ŒæŠŠç ´é¢˜ç‚¹å†™å‡ºæ¥å°±å·®ä¸å¤šäº†ã€‚å“¦å“¦è¿™é‡Œçš„ç ´é¢˜æ˜¯åŠ¨è¯ä¸æ˜¯åè¯ã€‚</p>
<span id="more"></span>
<hr />
<h3 id="å­—ç¬¦åˆå¹¶">1. å­—ç¬¦åˆå¹¶</h3>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3736"
class="uri">https://www.luogu.com.cn/problem/P3736</a></p>
<p><strong>çŠ¶å‹</strong>ï¼Œ<strong>åŒºé—´ DP</strong>ã€‚</p>
<p>æ³¨æ„åˆ° <span class="math inline">\(k\)</span> åªæœ‰ <span
class="math inline">\(8\)</span>ï¼Œç‹¬ç‰¹çš„è¾“å…¥æ–¹å¼ä¹Ÿå¼•å¯¼æˆ‘ä»¬æ³¨æ„åˆ°çŠ¶æ€æ•°ä¸º
<span class="math inline">\(10^2\)</span>
çº§åˆ«ã€‚åˆå¹¶çš„èƒŒæ™¯åˆè®©æˆ‘ä»¬æœ¬èƒ½æƒ³åˆ°åŒºé—´ DPï¼Œæ‰€ä»¥åˆšå¥½ç›²çŒœè¿™é¢˜æ˜¯ä¸ª <span
class="math inline">\(O(2^k\times n^2)\)</span> çš„åŒºé—´çŠ¶å‹ DPã€‚</p>
<ul>
<li><p>ç„¶åæˆ‘è§‰å¾—æœ€ç¥çš„ä¸€ä¸ªåœ°æ–¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ€åçš„ç­”æ¡ˆä¸€å®šæ˜¯ä¸€ä¸ªé•¿åº¦å°äº
<span class="math inline">\(k\)</span>
çš„ä¸²ï¼Œ<mark>æ¯ä½å±•å¼€è¿˜åŸï¼Œå¯ä»¥çŸ¥é“ï¼Œæ¯ä¸ªåˆå¹¶æ“ä½œé€‰å–çš„åŒºé—´äº’ä¸ç›¸äº¤ã€‚</mark></p>
<p>çœ‹èµ·æ¥å¾ˆè ¢å¾ˆæ˜¾ç„¶ï¼Œä½†è¿™æ˜¯æˆ‘ä»¬ <span class="math inline">\(n^2\)</span>
åŒºé—´ DP çš„åŸºç¡€å•Šï¼ˆï¼ˆï¼ˆ</p></li>
</ul>
<p>ç„¶åæˆ‘ä»¬åŒºé—´ DP å¥—è·¯ï¼Œæšä¸¾å¯¹äº <span
class="math inline">\([l,r]\)</span>
æœ€å·¦è¾¹ä¸€ä½ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹å¤§åŠ›è½¬ç§»äº†ã€‚</p>
<p>ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™ä¸€ä½åŸæœ¬çš„æ ·å­æœ‰ç‚¹å¤šï¼Œå¯ä»¥ä»»ä½•ä¸€ä¸ª <span
class="math inline">\(1 + d\times (k-1)\)</span>ï¼Œæ‰€ä»¥åªèƒ½å†æ¥ä¸€å±‚ <span
class="math inline">\(\dfrac nk\)</span> åœ°æšä¸¾ï¼Œæé™æƒ…å†µæ˜¯ä¸ªæœ‰ç‚¹éš¾ç»·çš„
3e9ï¼Œä½œä¸ºæ­£è§£åªèƒ½è¯´è¿™ä¸ªæ•°æ®èŒƒå›´çš„æç¤ºæ€§æœ‰ç‚¹ä»¤äººéš¾è¯„äº†ã€‚</p>
<p>æœ¬æ¥æˆ‘å®ç°ç€å®ç°ç€æŠŠè‡ªå·±æ•´æ‡µäº†ï¼š<code>00000</code> å’Œ <code>0</code>
å‹å‡ºæ¥éƒ½æ˜¯
<code>0</code>ï¼Œä½†äºŒè€…ä»£è¡¨çš„å«ä¹‰æ˜¾ç„¶ä¸åŒï¼Œåˆæ— æ³•ç®€å•åŒºåˆ«ã€‚ä½†å…¶å®<mark>é•¿åº¦ä¸º
<span class="math inline">\(1+d\times (k-1)\)</span> çš„åŒºé—´å’Œé•¿åº¦ä¸º
<span class="math inline">\(d\)</span>
çš„æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬è®¾è®¡çš„åŒ…å«äº†åŒºé—´ä½œå³ç«¯ç‚¹çš„çŠ¶æ€ä¸­ï¼Œå‹å‡ºæ¥çš„å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„é‚£ä¸ªã€‚</mark></p>
<details>
<p>è¿™é‡Œçš„å®ç°æ¯”<strong>æ‰€æœ‰</strong>æˆ‘æ‰¾åˆ°çš„é¢˜è§£éƒ½æ›´åƒäººæ‰“å‡ºæ¥çš„ã€‚å¯¼è‡´æˆ‘æƒ³å¯¹æ¯”ç–—æ³•éƒ½æ‰¾ä¸åˆ°åˆé€‚çš„ä»£ç 
ğŸ˜…</p>
<p>æ¢è¨€ä¹‹ï¼Œè¿™æœ€åƒæ˜¯ä¸€ä»½é€šå¸¸çš„åŒºé—´ DP
ä»£ç ï¼Œä¸å­˜åœ¨å…¶ä»–é¢˜è§£ä¸­ä¹±ä¸ƒå…«ç³Ÿçš„å¡«è¡¨å•Šç›¸äº’å½±å“å•Šä¹‹ç±»çš„æ¶å¿ƒ featureã€‚</p>
<p>sto rybp orz</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token number">305</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> a<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> c<span class="token punctuation">[</span>maxm<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">[</span>maxm<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> f<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxm<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">ONLINE_JUDGE</span></span>
	std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
	<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"in.in"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"out.out"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
	<span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> k<span class="token punctuation">;</span>
	<span class="token keyword">int</span> siz <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> k<span class="token punctuation">)</span><span class="token punctuation">,</span> si <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> siz<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>></span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> l <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> <span class="token operator">++</span>l<span class="token punctuation">)</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> p <span class="token operator">=</span> i<span class="token punctuation">;</span> p <span class="token operator">&lt;=</span> j<span class="token punctuation">;</span> <span class="token operator">++</span>p<span class="token punctuation">)</span>
				now <span class="token operator">=</span> now <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
			f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">int</span> now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i <span class="token operator">+</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
			now <span class="token operator">=</span> now <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
		f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">+</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> l <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>l<span class="token punctuation">)</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> p <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token generic-function"><span class="token function">p</span> <span class="token generic class-name"><span class="token operator">&lt;</span> j<span class="token punctuation">;</span> p <span class="token operator">+=</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> q <span class="token operator">&lt;</span> si<span class="token punctuation">;</span> <span class="token operator">++</span>q<span class="token punctuation">)</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>q <span class="token operator">>></span></span></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
						f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q <span class="token operator">>></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> f<span class="token punctuation">[</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>q <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">%</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> k <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
					<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> q <span class="token operator">&lt;</span> siz<span class="token punctuation">;</span> <span class="token operator">++</span>q<span class="token punctuation">)</span>
						f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q <span class="token operator">>></span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> f<span class="token punctuation">[</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>q <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>std<span class="token double-colon punctuation">::</span><span class="token function">max_element</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">+</span> si<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>
<hr />
<p>å…¶å®ä¸€å¼€å§‹æŒºæ‹…å¿ƒä¼šä¸ä¼šå› ä¸ºå†™åšå®¢å½±å“åšé¢˜æ—¶é—´ä¹‹ç±»çš„ã€‚</p>
<p>åæ¥å‘ç°æˆ‘å¯ä»¥çœ‹çŸ¥ä¹çœ‹ä¸€ä¸ªä¸Šåˆç„¶åä»£ç åŠ¨éƒ½ä¸åŠ¨ä¸€ä¸‹ï¼Œåæ­£ä¸æƒ³åšé¢˜çš„æ—¶å€™ä¹Ÿä¸èƒ½å¼ºåˆ¶è®©è‡ªå·±åšé¢˜ï¼Œé‚£ä¸å¦‚å†™å†™åšå®¢ç®—äº†
ğŸ˜…</p>
<hr />
<h3 id="mod-mod-mod">2. Mod Mod Mod</h3>
<p><a target="_blank" rel="noopener" href="https://codeforces.com/contest/889/problem/E"
class="uri">https://codeforces.com/contest/889/problem/E</a></p>
<p><strong>æŠ€å·§ / ç‰¹æ®Šæ€§è´¨ç±» DP</strong>ã€‚</p>
<p>å°ç¥é¢˜ã€‚æ³¨æ„åˆ°é¢˜æ„å¯ä»¥è½¬åŒ–ä¸ºï¼Œæ‰¾åˆ°ä¸€ä¸ª <span
class="math inline">\(x\)</span>ï¼Œæœ€å¤§åŒ–ï¼š</p>
<p><span class="math display">\[
x\bmod a_1 + x\bmod a_1\bmod a_2 + \cdots + x\bmod a_1\bmod
a_2\bmod\cdots\bmod a_n.
\]</span></p>
<p>ç®€ç§° <span class="math inline">\(x\bmod a_1\bmod a_2\bmod \cdots\bmod
a_i\)</span> çš„å€¼ä¸º <span class="math inline">\(f_i\)</span>ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¸éš¾æ³¨æ„åˆ°ï¼Œ<span class="math inline">\(f_i\)</span>
è‚¯å®šæ˜¯å•è°ƒä¸å‡çš„ã€‚å½¢è±¡åŒ–åœ°ï¼Œæ•´ä¸ª <span class="math inline">\(f\)</span>
åºåˆ—è‚¯å®šæ˜¯ç”±è‹¥å¹²ä¸ªå•è°ƒä¸‹é™çš„æ®µç»„æˆçš„ã€‚å¹¶ä¸”ï¼Œå¿…å®šå­˜åœ¨è‡³å°‘ä¸€ä¸ª <span
class="math inline">\(i\)</span>ï¼Œä½¿å¾— <span class="math inline">\(f_i =
a_i-1\)</span>ï¼Œå¦åˆ™å¯ä»¥å°†æ‰€æœ‰ <span class="math inline">\(f_i\gets
f_i+1\)</span>ï¼ŒåŒæ—¶ <span class="math inline">\(\sum f\gets (\sum f) +
n\)</span>ã€‚</p>
<p>è¿™å¯ç¤ºæˆ‘ä»¬å…³æ³¨ <span class="math inline">\(f_i\)</span>
çš„å€¼åŸŸã€‚å‡è®¾å·²ç»ç¡®å®šäº† <span class="math inline">\(f\)</span>
åºåˆ—çš„ä¸€ä¸ªå‰ç¼€ <span class="math inline">\(f_1\sim i\)</span>ï¼Œå¯¹äºä»»æ„
<span class="math inline">\(0\le k\le
f_{\min}\)</span>ï¼ˆæ³¨æ„ç”±äºå•è°ƒä¸é™ï¼Œ<span
class="math inline">\(f_{\min} = f_i\)</span>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰ <span
class="math inline">\(f_j\gets f_j-k\)</span>ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„åˆæ³•çš„ <span
class="math inline">\(f&#39;_{1\sim i}\)</span>ã€‚</p>
<p>å½¢è±¡åŒ–åœ°ï¼Œå°† <span class="math inline">\(f_{1\sim i}\)</span>
æƒ³è±¡ä¸ºä¸€ä¸ªé€æ¸é™ä½çš„æŸ±çŠ¶å›¾ï¼Œä»»æ„åˆ‡å»äº†ä¸€ä¸ªé«˜åº¦çš„åº•éƒ¨ï¼Œå¹¶ä¸”è¿™ä¸ªé«˜åº¦ä¸é«˜äºæœ€çŸ®çš„å…ƒç´ ï¼ˆå³ç¬¬
<span class="math inline">\(i\)</span> ä¸ªå…ƒç´ ï¼‰ã€‚</p>
<p>è¿™æ—¶å€™æœ‰ä¸€ä¸ªå¾ˆç¾å¦™çš„æ€§è´¨ï¼Œå°±æ˜¯æˆ‘ä»¬<mark>å¯¹äºåˆ‡ä¹‹å‰å’Œåˆ‡ä¹‹åçš„æŸ±çŠ¶å›¾ï¼Œå…¶
<strong>æœ€çŸ®å…ƒç´ ä»¥ä¸Šçš„éƒ¨åˆ†</strong>
é•¿å¾—å®Œå…¨ç›¸åŒ</mark>ã€‚ç„¶åå°±æ˜¯ç¥ä¸­ç¥ä¹‹ DP
çŠ¶æ€è®¾è®¡ã€‚å¾ˆéš¾æƒ³è±¡æ˜¯åœ¨ä»€ä¹ˆæ ·çš„ç²¾ç¥çŠ¶æ€ä¸‹å‡‘å‡ºæ¥è¿™ç§ç¥å¥‡çŠ¶æ€çš„ï¼Œå¯èƒ½æ˜¯æŸç§æˆ‘ä¸äº†è§£çš„
trickï¼Ÿ</p>
<p>ä»¤ <span class="math inline">\(dp_{i, j}\)</span> è¡¨ç¤ºå¯¹äºå‰ç¼€ <span
class="math inline">\(f_{1, i}\)</span>ï¼Œå½“åˆ‡å»çš„é«˜åº¦ä¸º <span
class="math inline">\(0\sim j\)</span>
æ—¶ï¼Œ<strong>æœ€çŸ®å…ƒç´ ä»¥ä¸Šçš„éƒ¨åˆ†</strong> çš„å’Œéƒ½ä¸º <span
class="math inline">\(dp_{i, j}\)</span>ã€‚é‚£ä¹ˆæ˜“å¾— <span
class="math inline">\(\sum f_{1\sim i}=j\times i + dp_{i,
j}\)</span>ã€‚</p>
<p>è€ƒè™‘è½¬ç§»ã€‚å‡è®¾å·²çŸ¥æ‰€æœ‰ <span class="math inline">\(dp_{i - 1,
j}\)</span>ï¼Œéœ€è½¬ç§»åˆ° <span
class="math inline">\(i\)</span>ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§è½¬ç§»è·¯å¾„ï¼š</p>
<ol type="1">
<li><p><span class="math inline">\(j &lt; a_i\)</span>ï¼š</p>
<p>å¯¹ <span class="math inline">\(a_i\)</span>
å–æ¨¡å–ä¸åŠ¨ï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ã€‚<span class="math inline">\(dp_{i, j}\gets
dp_{i - 1, j}\)</span>ã€‚</p></li>
<li><p><span class="math inline">\(j\ge a_i\)</span>ï¼š</p>
<ul>
<li><p>è®© <span class="math inline">\(i\)</span> æ‰¿æ‹… <span
class="math inline">\(f_i=a_i-1\)</span> çš„è´£ä»»ã€‚æˆ‘ä»¬ä» <span
class="math inline">\(0\sim j\)</span> ä¸­æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³ <span
class="math inline">\(j&#39;\bmod a_i=a_i-1\)</span> çš„ <span
class="math inline">\(j&#39;\)</span>ï¼Œ<span
class="math inline">\(j&#39;\)</span> è‚¯å®šæ˜¯è¶Šå¤§è¶Šå¥½ï¼Œæ•… <span
class="math inline">\(j&#39;=(\left\lfloor \dfrac
{j}{a_i}\right\rfloor-1)\times a_i+(a_i-1)\)</span>ã€‚</p>
<p>æ­¤æ—¶ä¾¿æœ‰ <span class="math inline">\(dp_{i, a_i-1}\gets dp_{i - 1,
j&#39;} + [j&#39; - (a_i-1)]\times (i-1)\)</span>ã€‚</p></li>
<li><p>ç›²çŒœ <span class="math inline">\(0\sim i - 1\)</span> æˆ– <span
class="math inline">\(i+1\sim n\)</span> ä¸­ä¼šå‡ºç°æ‰¿æ‹… <span
class="math inline">\(f_{i&#39;}=a_{i&#39;-1}\)</span> çš„ <span
class="math inline">\(i&#39;\)</span>ï¼Œæ•…æŒ‰ç…§ <span
class="math inline">\(j\)</span> å–æœ€å¤§æ¥è½¬ç§»ã€‚</p>
<p>æ­¤æ—¶æœ‰ <span class="math inline">\(dp_{i, j\bmod
a_i}=dp_{i-1,j}+(j-j\bmod a_i)\times (i-1)\)</span>ã€‚</p></li>
</ul></li>
</ol>
<p>ç­”æ¡ˆå³ä¸º <span class="math inline">\(\max\{j\times n+dp_{n,
j}\}\)</span>ã€‚ç”±äºä¸å­˜åœ¨ <span class="math inline">\(f_i=a_i-1\)</span>
çš„ <span class="math inline">\(f\)</span>
è‚¯å®šæ¯”å­˜åœ¨çš„è¦åŠ£ï¼Œæ‰€ä»¥æˆ‘ä»¬è‚¯å®šé€‰åˆ°çš„æ˜¯æ­£ç¡®çš„ç­”æ¡ˆã€‚</p>
<p>æ³¨æ„åˆ°æ¯ä¸ª <span class="math inline">\(i\)</span> åªä¼šæ–°å¢ <span
class="math inline">\(a_i-1\)</span> ä¸€ä¸ªçŠ¶æ€ï¼Œæ•…çŠ¶æ€æ€»æ•°ä¸º <span
class="math inline">\(O(n)\)</span>ã€‚æŠŠ <span
class="math inline">\(dp\)</span> å¼€æˆ map å°±å¯ä»¥ <span
class="math inline">\(O(n\log n)\)</span> åœ°è§£å†³é—®é¢˜ã€‚</p>
<details>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">ONLINE_JUDGE</span></span>
	std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
	<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">".in"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">".out"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
	<span class="token keyword">int</span> n<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">></span> t<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	t<span class="token punctuation">[</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">auto</span> p <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">lower_bound</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">long</span> <span class="token keyword">long</span> j <span class="token operator">=</span> p<span class="token operator">-></span>first<span class="token punctuation">,</span> f <span class="token operator">=</span> p<span class="token operator">-></span>second<span class="token punctuation">;</span>
			t<span class="token punctuation">[</span>j <span class="token operator">%</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>j <span class="token operator">%</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f <span class="token operator">+</span> <span class="token punctuation">(</span>j <span class="token operator">-</span> j <span class="token operator">%</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
				j <span class="token operator">=</span> <span class="token punctuation">(</span>j <span class="token operator">/</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
				t<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f <span class="token operator">+</span> <span class="token punctuation">(</span>j <span class="token operator">-</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			t<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">long</span> <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">:</span> t<span class="token punctuation">)</span>
		res <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i<span class="token punctuation">.</span>first <span class="token operator">*</span> n <span class="token operator">+</span> i<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> res <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>
<hr />
<h3 id="stalinsort-algorithm">3. StalinSort Algorithm</h3>
<p><a target="_blank" rel="noopener" href="https://qoj.ac/problem/1456"
class="uri">https://qoj.ac/problem/1456</a></p>
<p>ä½ ä¼šå‘ç°<mark>åˆ æœ€å°‘ = ç•™æœ€å¤š</mark>ã€‚</p>
<p>è€ƒè™‘ <span class="math inline">\(i\)</span> èƒ½å¤Ÿè½¬ç§»åˆ°çš„ <span
class="math inline">\(j(j&gt;i)\)</span> éœ€æ»¡è¶³çš„æ¡ä»¶ã€‚è‹¥ä»¤ <span
class="math inline">\(nex_p\)</span> è¡¨ç¤º <span
class="math inline">\(p\)</span> ä¹‹åç¬¬ä¸€ä¸ªå€¼æ¯” <span
class="math inline">\(a_p\)</span> å¤§çš„å…ƒç´ ï¼Œåˆ™ <span
class="math inline">\(j\in [nex_i, nex_{nex_i})\)</span> ä¸” <span
class="math inline">\(a_j&gt;a_i\)</span>ã€‚</p>
<p><mark>èµ›æ—¶è¯¯è®¤ä¸ºå³ç«¯ç‚¹ä¸º <span class="math inline">\(i\)</span>
ä¹‹åç¬¬äºŒä¸ªå€¼æ¯” <span class="math inline">\(a_i\)</span>
å¤§çš„å…ƒç´ ï¼Œå¯¼è‡´å®Œå…¨å¯„æ‰ã€‚</mark></p>
<p>æ—¶é—´å¤æ‚åº¦ <span
class="math inline">\(O(n^2)\)</span>ï¼Œè€ƒè™‘ä¼˜åŒ–ã€‚<mark>æ³¨æ„åˆ°å¦‚æœåªæœ‰
<span class="math inline">\(j\in [nex_i, nex_{nex_i})\)</span>
è¿™ä¸ªæ¡ä»¶å¾ˆå®¹æ˜“ç”¨çº¿æ®µæ ‘ç»´æŠ¤ï¼Œè€ƒè™‘æ¶ˆå» <span
class="math inline">\(a_j&gt;a_i\)</span> çš„å½±å“ã€‚æ•…è€ƒè™‘æŒ‰ <span
class="math inline">\(a\)</span> <strong>ä»å°åˆ°å¤§</strong> çš„é¡ºåºé€‰å–
<span class="math inline">\(i\)</span>ï¼Œå› ä¸ºå½“å‰æœ€å°çš„ <span
class="math inline">\(i\)</span> ä¸€å®šå·²ç»è¢«åˆ·å®Œè¡¨äº†</mark>ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(n\log n)\)</span>ã€‚</p>
<details>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token number">5e5</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">_</span> <span class="token punctuation">&#123;</span> <span class="token keyword">int</span> u<span class="token punctuation">,</span> d<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> t1<span class="token punctuation">[</span>maxn <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span> t<span class="token punctuation">[</span>maxn <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">lt</span> <span class="token expression"><span class="token punctuation">(</span>p <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">rt</span> <span class="token expression"><span class="token punctuation">(</span>lt <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">)</span></span></span>
<span class="token keyword">void</span> <span class="token function">upd</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    t<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>
        <span class="token function">upd</span><span class="token punctuation">(</span>lt<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> x<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">upd</span><span class="token punctuation">(</span>rt<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> x<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">ask</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> ql<span class="token punctuation">,</span> <span class="token keyword">int</span> qr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ql <span class="token operator">&lt;=</span> l <span class="token operator">&amp;&amp;</span> r <span class="token operator">&lt;=</span> qr<span class="token punctuation">)</span>
        <span class="token keyword">return</span> t<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">,</span> res <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ql <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token function">ask</span><span class="token punctuation">(</span>lt<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> ql<span class="token punctuation">,</span> qr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>qr <span class="token operator">></span> mid<span class="token punctuation">)</span>
        res <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">ask</span><span class="token punctuation">(</span>rt<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> ql<span class="token punctuation">,</span> qr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">pushdown</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        t1<span class="token punctuation">[</span>lt<span class="token punctuation">]</span><span class="token punctuation">.</span>u <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span>lt<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">,</span> t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">[</span>lt<span class="token punctuation">]</span><span class="token punctuation">.</span>d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span>lt<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">,</span> t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>       
        t1<span class="token punctuation">[</span>rt<span class="token punctuation">]</span><span class="token punctuation">.</span>u <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span>rt<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">,</span> t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">[</span>rt<span class="token punctuation">]</span><span class="token punctuation">.</span>d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span>rt<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">,</span> t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>       
        t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">upd</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> ql<span class="token punctuation">,</span> <span class="token keyword">int</span> qr<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>u <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ql <span class="token operator">&lt;=</span> l <span class="token operator">&amp;&amp;</span> r <span class="token operator">&lt;=</span> qr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>d<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">pushdown</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ql <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>
        <span class="token function">upd</span><span class="token punctuation">(</span>lt<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> ql<span class="token punctuation">,</span> qr<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>qr <span class="token operator">></span> mid<span class="token punctuation">)</span>
        <span class="token function">upd</span><span class="token punctuation">(</span>rt<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> ql<span class="token punctuation">,</span> qr<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">ask</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span>
        <span class="token keyword">return</span> t1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">;</span>
    <span class="token function">pushdown</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">ask</span><span class="token punctuation">(</span>lt<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">ask</span><span class="token punctuation">(</span>rt<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">ONLINE_JUDGE</span></span>
    std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"sort3.in"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// freopen(".out", "w", stdout);</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ne</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">fill</span><span class="token punctuation">(</span>t <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> t <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">fill</span><span class="token punctuation">(</span>t1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> t1 <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token operator">-</span>inf<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> <span class="token operator">~</span>i<span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">ask</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">upd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">&#125;</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">id</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">iota</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> a<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            f<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">ask</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> f<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ne<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span>
            <span class="token function">upd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> ne<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span>ne<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">-</span> res <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>
<hr />
<h3 id="merge-triplets">4. Merge Triplets</h3>
<p><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/agc043/tasks/agc043_d"
class="uri">https://atcoder.jp/contests/agc043/tasks/agc043_d</a></p>
<p>ç”±äºè¦å¯¹åˆæ³•çš„æœ€ç»ˆåºåˆ—è¿›è¡Œè®¡æ•°ï¼Œè€ƒè™‘æœ€ç»ˆåºåˆ—çš„æ€§è´¨ã€‚</p>
<p>è‹¥åºåˆ—ä¸­ <span
class="math inline">\(a_{i+1}&lt;a_i\)</span>ï¼Œåˆ™è¯´æ˜åœ¨æŸä¸€ç»„ä¸­ï¼Œå€¼ä¸º
<span class="math inline">\(a_i\)</span> çš„å…ƒç´ ä¸‹ä¸€ä¸ªå°±æ˜¯ <span
class="math inline">\(a_{i+1}\)</span>ã€‚å¦åˆ™ï¼Œå›  <span
class="math inline">\(a_{i+1}\)</span> å¯é€‰ä¸”æ¯” <span
class="math inline">\(a_i\)</span> å°ï¼Œ<span
class="math inline">\(a_{i+1}\)</span> åº”æ’åœ¨ <span
class="math inline">\(a_i\)</span> å‰é¢ã€‚</p>
<p>å¦åˆ™ï¼Œ<span class="math inline">\(a_{i+1}\)</span> æ—¢å¯ä»¥ä¸ <span
class="math inline">\(a_i\)</span> ä¸åœ¨åŒä¸€ç»„ï¼Œä¹Ÿå¯ä»¥æ˜¯ <span
class="math inline">\(a_i\)</span> çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>ä¸€ç»„æœ€å¤šä¸‰ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å‡ºç° <span
class="math inline">\(a_i&gt;a_{i+1},a_{i+2},a_{i+3}\)</span> çš„æƒ…å†µã€‚è€Œ
<span class="math inline">\(N=1\)</span> æ—¶åºåˆ—é•¿åº¦åªæœ‰ <span
class="math inline">\(3\)</span>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ ·ä¾‹ä¸€çš„ç­”æ¡ˆä¸º <span
class="math inline">\(3!\)</span>ã€‚</p>
<p>ä½†è¿™ä¸ªé™åˆ¶å¹¶ä¸èƒ½æ’é™¤æ‰€æœ‰éæ³•æƒ…å†µã€‚<span
class="math inline">\(N=2\)</span> æ—¶æš´æœæˆ‘ä»¬ç›®å‰é™åˆ¶ä¸‹çš„è§£ï¼Œå…±æœ‰ 276
ä¸ªï¼Œæ¯”ç­”æ¡ˆä¸­çš„ 261 ä¸ªè¦å¤šï¼Œè¯´æ˜åŒ…å«äº†å…¶ä»–éæ³•è§£ã€‚</p>
<p>æš´æœè¾“å‡ºå¹¶è§‚å¯Ÿï¼Œæ˜“å¾—è¿™ 15 ä¸ªéæ³•åºåˆ—å³ä¸ºæ»¡è¶³ç›®å‰é™åˆ¶ä¸”å­˜åœ¨ <span
class="math inline">\(3\)</span> ä¸ª <span
class="math inline">\(i\)</span>ï¼Œæ»¡è¶³ <span
class="math inline">\(a_i&gt;a_{i+1}\)</span> ä¸” <span
class="math inline">\(a_i&lt;a_{i+2}\)</span>
çš„æ‰€æœ‰åºåˆ—ï¼Œ<mark>ç”±å‰é¢çš„æ¨å¯¼ï¼Œå¿…é¡»åˆ†ä¸ºä¸‰ä¸ªé•¿åº¦ä¸º 2
çš„ç»„ï¼Œè€Œæˆ‘ä»¬è¦æ±‚çš„æ˜¯é•¿åº¦ä¸º 3
çš„ç»„ã€‚æ˜¾ç„¶æ— æ³•ç”¨å‰è€…ç»„åˆå¾—åˆ°åè€…</mark>ã€‚</p>
<p>åœ¨æˆ‘ä»¬ç¬¬ä¸€ä¸ªæ¡ä»¶çš„é™åˆ¶ä¸‹ï¼Œå¿…é¡»è¢«åˆ†åˆ°åŒä¸€ç»„çš„æ•°çš„è¿ç»­é•¿åº¦ï¼Œåªæœ‰ <span
class="math inline">\(1,2,3\)</span> ä¸‰ç§ã€‚è€Œï¼š</p>
<ul>
<li>é•¿åº¦ä¸º 3 çš„å¯¹ç­”æ¡ˆåˆæ³•æ€§æ— å½±å“ï¼›</li>
<li>è€Œé•¿åº¦ä¸º 1 çš„æ—¢å¯ä»¥å’Œ 2 ç»„ä¸ºä¸€ç»„ï¼Œä¹Ÿå¯ä»¥å’Œå…¶ä»–ä¸¤ä¸ª 1 ç»„ä¸ºä¸€ç»„ï¼›</li>
<li>é•¿åº¦ä¸º 2 çš„åªèƒ½å’Œ 1 ç»„æˆä¸€ç»„ã€‚</li>
</ul>
<p><mark>è¿™æ—¶ï¼Œæˆ‘ä»¬å‘ç°æ‰€æœ‰é™åˆ¶éƒ½æŒ‡å‘é•¿åº¦ä¸º 2 çš„æ®µï¼Œå…¶æ€»ä¸ªæ•°ä¸èƒ½æ¯”é•¿åº¦ä¸º
1 çš„æ®µå¤šã€‚</mark></p>
<p>äºæ˜¯ä¹ï¼Œä¸Šè¿°é™åˆ¶å¯æ€»ç»“ä¸ºä¸¤ç‚¹ï¼š</p>
<ol type="1">
<li>è‹¥ä»¤æ‰€æœ‰æ»¡è¶³ <span class="math inline">\(a_l&gt;\max\{a_{l\sim
r}\}\)</span>
çš„æå¤§åŒºé—´ä¸ºä¸€æ®µï¼ˆæ˜“è¯æ¯æ®µäº’ä¸é‡åˆä¸”è¦†ç›–å…¨åºåˆ—ï¼‰ï¼Œé‚£ä¹ˆå…¶é•¿åº¦ä¸èƒ½è¶…è¿‡
3ã€‚</li>
<li>å…¶ä¸­ï¼Œé•¿åº¦ä¸º 2 çš„ä¸ªæ•°ä¸èƒ½æ¯”é•¿åº¦ä¸º 1 çš„ä¸ªæ•°å¤šã€‚</li>
</ol>
<p><mark>ä»¤ <span class="math inline">\(f_{i, j}\)</span>
è¡¨ç¤ºè‹¥å½“å‰æšä¸¾çš„æœ€åä¸€æ®µå³ç«¯ç‚¹ä¸º <span
class="math inline">\(i\)</span>ï¼Œé•¿åº¦ä¸º 1 çš„æ®µæ¯”é•¿åº¦ä¸º 2 çš„æ®µå¤š <span
class="math inline">\(j\)</span> çš„æ–¹æ¡ˆæ•°ã€‚</mark></p>
<p>æœ€åç­”æ¡ˆå³ä¸º <span class="math inline">\(\sum\limits_{j=0}^n f_{i,
j}\)</span>ã€‚</p>
<details>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">ONLINE_JUDGE</span></span>
	std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
	<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">".in"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">".out"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
	<span class="token keyword">int</span> n<span class="token punctuation">,</span> mod<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> mod<span class="token punctuation">;</span>
	n <span class="token operator">*=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">></span> <span class="token operator">></span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token punctuation">[</span>j<span class="token punctuation">,</span> k<span class="token punctuation">]</span> <span class="token operator">:</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> k<span class="token punctuation">)</span> <span class="token operator">%=</span> mod<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span>
				<span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> k <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">)</span> <span class="token operator">%=</span> mod<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span>
				<span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> k <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">)</span> <span class="token operator">%=</span> mod<span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token keyword">long</span> <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token punctuation">(</span>res <span class="token operator">+=</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%=</span> mod<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> res <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</details>

			</div>
			<hr class="dotted">
			<div class="post footer">
				<div id="hitokoto">
					<h3 id="hitokoto-title">
						ä¸€è¨€ - Hitokoto
					</h3>
					<div id="hitokoto-content">
					</div>
					<div id="hitokoto-from">
					</div>
				</div>
				<div class="button flex">
					<div id="prev">
						
							<!-- åæ§½ï¼Œä¸ºå•¥è¿˜éœ€è¦åŠ  / -->
							<a href="/20241017-1/">
								<i class="fas fa-angle-double-left" style="margin-right: 10px;"></i>
								å›¾è®º
							</a>
						
					</div>
					<div id="next">
						
							<a href="/20240725/">
								ç®€å•æ‚é¢˜ï¼ˆè¿«çœŸï¼‰
								<i class="fas fa-angle-double-right" style="margin-left: 10px;"></i>
							</a>
						
					</div>
				</div>
				<div id="vcomments" class="yahei"></div>
<script>
	new Valine({
		el: '#vcomments',
		appId: 'OlmvQ0a2Zw7xo3no2bwabOzx-gzGzoHsz',
		appKey: 'TW6t8mFeGLmhPjWisvmllvvo',
		recordIP: true,
		enableQQ: true, 
		// ç›®å‰ Valine çš„ QQ è‡ªåŠ¨è·å–æ˜µç§°ä¼¼ä¹ä¸å¯ç”¨ æ•…ä¸å»ºè®®å¼€å¯
		pageSize: 10,
		requiredFields:
			
				['nick']
			,
		placeholder: 'The world is but a little place after all...\nèƒ½å¤Ÿæ ¹æ®é‚®ç®±è·å–ä½ çš„ Gravatar å¤´åƒã€‚æ˜µç§°æ˜¯å¿…å¡«é¡¹ï¼Œé•¿åº¦éœ€ä¸ä½äº 3 ğŸ˜„',
		avatar: 'mp',
		avatar_cdn: 'https://cravatar.cn/avatar/'
	})
</script>
			</div>
			<script>setHitokoto();</script>
		</div> 
	</div>
</div>
    <!-- é¡µè„šå¼€å§‹ -->
<div id="footer" class="yahei">
    Powered by 
    <a target="_blank" rel="noopener" href="https://hexo.io">
        Hexo
    </a>
    & 
    <a href="/about-this-theme">
       iwll
    </a>
	<p style="margin-top: 5px;">
		2021 - 2024
	</p>
</div>
<!-- Valine ç›¸å…³é…ç½® -->
<script>
    const getValineDomTimer = setInterval(() => {
        // ä¸çŸ¥é“ä¸ºä»€ä¹ˆ æˆ‘ä»åŸåšå®¢ js æ–‡ä»¶ç²˜è¿‡æ¥çš„å‚æ•°æ˜¯
        // "#valine .vcards .vcard"
        // DEBUG äº†åŠå¤©æ‰å®šä½åˆ°è¿™ä¸ªé—®é¢˜ã€‚ã€‚ã€‚
        const vcards =
            document.querySelectorAll('#valine, .vcards, .vcard');
        if (vcards.length > 0) {
            let author = 'XSC062';
            for (let vcard of vcards) {
                const vnick_dom = vcard.querySelector('.vhead .vnick');
                const vnick = vnick_dom.innerHTML;
                if (vnick === author) {
                    vnick_dom.innerHTML =
                        `${vnick} <span id="rootitem" class="fira">root</span>`
                }
            }
            clearInterval(getValineDomTimer);
        } else {
            clearInterval(getValineDomTimer);
        }
    }, 2000);
</script>
<script>
	SetActiveItem();
	setDetailsSummary();
</script>

<!-- é¡µè„šç»“æŸ -->

</body>
</html>